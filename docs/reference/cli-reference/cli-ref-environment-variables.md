---
title: NuGet CLI 環境變數
description: nuget.exe 環境變數的參考
author: JonDouglas
ms.author: jodou
ms.date: 01/18/2018
ms.topic: reference
ms.openlocfilehash: a688382420633916e81a000ba6095ff83e036cf9
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/26/2021
ms.locfileid: "98779386"
---
# <a name="nuget-cli-environment-variables"></a><span data-ttu-id="13501-103">NuGet CLI 環境變數</span><span class="sxs-lookup"><span data-stu-id="13501-103">NuGet CLI environment variables</span></span>

<span data-ttu-id="13501-104">您可以透過許多環境變數來設定 nuget.exe CLI 的行為，這會影響整部電腦、使用者或進程層級上的 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="13501-104">The behavior of the nuget.exe CLI can be configured through a number of environment variables, which affect nuget.exe on computer-wide, user, or process levels.</span></span> <span data-ttu-id="13501-105">環境變數一律會覆寫檔案中的任何設定 `NuGet.Config` ，讓組建伺服器能夠在不修改任何檔案的情況下變更適當的設定。</span><span class="sxs-lookup"><span data-stu-id="13501-105">Environment variables always override any settings in `NuGet.Config` files, allowing build servers to change appropriate settings without modifying any files.</span></span>

<span data-ttu-id="13501-106">一般情況下，直接在命令列或 NuGet 設定檔中指定的選項具有優先順序，但有一些例外狀況，例如 *FORCE_NUGET_EXE_INTERACTIVE*。</span><span class="sxs-lookup"><span data-stu-id="13501-106">In general, options specified directly on the command line or in NuGet configuration files have precedence, but there are a few exceptions such as *FORCE_NUGET_EXE_INTERACTIVE*.</span></span> <span data-ttu-id="13501-107">如果您發現 nuget.exe 在不同電腦之間的行為不同，可能是因為環境變數的原因。</span><span class="sxs-lookup"><span data-stu-id="13501-107">If you find that nuget.exe behaves differently between different computers, an environment variable could be the cause.</span></span> <span data-ttu-id="13501-108">例如，在部署期間使用的 Azure Web Apps Kudu () 將 *NUGET_XMLDOC_MODE* 設定為 *skip* ，以加速封裝還原效能並節省磁碟空間。</span><span class="sxs-lookup"><span data-stu-id="13501-108">For example, Azure Web Apps Kudu (used during deployment) has *NUGET_XMLDOC_MODE* set to *skip* to speed up package restore performance and save disk space.</span></span>

<span data-ttu-id="13501-109">NuGet CLI 會使用 MSBuild 來讀取專案檔。</span><span class="sxs-lookup"><span data-stu-id="13501-109">The NuGet CLI uses MSBuild to read the project files.</span></span> <span data-ttu-id="13501-110">在 MSBuild 評估期間，所有環境變數都可做為 [屬性](/visualstudio/msbuild/msbuild-command-line-reference) 。</span><span class="sxs-lookup"><span data-stu-id="13501-110">All environment variables are available as [properties](/visualstudio/msbuild/msbuild-command-line-reference) during the MSBuild evaluation.</span></span>
<span data-ttu-id="13501-111">[NuGet 套件和還原為 MSBuild 目標](../msbuild-targets.md#restore-properties)中記載的屬性清單也可以設定為環境變數。</span><span class="sxs-lookup"><span data-stu-id="13501-111">The list of properties documented in [NuGet pack and restore as MSBuild targets](../msbuild-targets.md#restore-properties) can also be set as environment variables.</span></span>

| <span data-ttu-id="13501-112">變數</span><span class="sxs-lookup"><span data-stu-id="13501-112">Variable</span></span> | <span data-ttu-id="13501-113">描述</span><span class="sxs-lookup"><span data-stu-id="13501-113">Description</span></span> | <span data-ttu-id="13501-114">備註</span><span class="sxs-lookup"><span data-stu-id="13501-114">Remarks</span></span> |
| --- | --- | --- |
| <span data-ttu-id="13501-115">HTTP_proxy</span><span class="sxs-lookup"><span data-stu-id="13501-115">http_proxy</span></span> | <span data-ttu-id="13501-116">用於 NuGet HTTP 作業的 HTTP proxy。</span><span class="sxs-lookup"><span data-stu-id="13501-116">Http proxy used for NuGet HTTP operations.</span></span> | <span data-ttu-id="13501-117">這會指定為 `http://<username>:<password>@proxy.com` 。</span><span class="sxs-lookup"><span data-stu-id="13501-117">This would be specified as `http://<username>:<password>@proxy.com`.</span></span> |
| <span data-ttu-id="13501-118">no_proxy</span><span class="sxs-lookup"><span data-stu-id="13501-118">no_proxy</span></span> | <span data-ttu-id="13501-119">將網域設定為略過使用 proxy。</span><span class="sxs-lookup"><span data-stu-id="13501-119">Configures domains to bypass from using proxy.</span></span> | <span data-ttu-id="13501-120">指定為以逗號分隔的網域 (，) 。</span><span class="sxs-lookup"><span data-stu-id="13501-120">Specified as domains separated by comma (,).</span></span> |
| <span data-ttu-id="13501-121">EnableNuGetPackageRestore</span><span class="sxs-lookup"><span data-stu-id="13501-121">EnableNuGetPackageRestore</span></span> | <span data-ttu-id="13501-122">如果在還原時封裝需要時，以隱含方式授與 NuGet 的旗標。</span><span class="sxs-lookup"><span data-stu-id="13501-122">Flag for if NuGet should implicitly grant consent if that's required by package on restore.</span></span> | <span data-ttu-id="13501-123">指定的旗標被視為 *true* 或 *1*，任何其他值視為旗標未設定。</span><span class="sxs-lookup"><span data-stu-id="13501-123">Specified flag is treated as *true* or *1*, any other value treated as flag not set.</span></span> |
| <span data-ttu-id="13501-124">NUGET_EXE_NO_PROMPT</span><span class="sxs-lookup"><span data-stu-id="13501-124">NUGET_EXE_NO_PROMPT</span></span> | <span data-ttu-id="13501-125">防止 exe 提示輸入認證。</span><span class="sxs-lookup"><span data-stu-id="13501-125">Prevents the exe for prompting for credentials.</span></span> | <span data-ttu-id="13501-126">Null 或空字串以外的任何值都會被視為此旗標 set/true。</span><span class="sxs-lookup"><span data-stu-id="13501-126">Any value except null or empty string will be treated as this flag set/true.</span></span> |
| <span data-ttu-id="13501-127">FORCE_NUGET_EXE_INTERACTIVE</span><span class="sxs-lookup"><span data-stu-id="13501-127">FORCE_NUGET_EXE_INTERACTIVE</span></span> | <span data-ttu-id="13501-128">強制互動模式的全域環境變數。</span><span class="sxs-lookup"><span data-stu-id="13501-128">Global environment variable to force interactive mode.</span></span> | <span data-ttu-id="13501-129">Null 或空字串以外的任何值都會被視為此旗標 set/true。</span><span class="sxs-lookup"><span data-stu-id="13501-129">Any value except null or empty string will be treated as this flag set/true.</span></span> |
| <span data-ttu-id="13501-130">NUGET_PACKAGES</span><span class="sxs-lookup"><span data-stu-id="13501-130">NUGET_PACKAGES</span></span> | <span data-ttu-id="13501-131">要用於 *全域封裝* 資料夾的路徑，如 [管理全域封裝和](../../consume-packages/managing-the-global-packages-and-cache-folders.md)快取資料夾所述。</span><span class="sxs-lookup"><span data-stu-id="13501-131">Path to use for the *global-packages* folder as described on [Managing the global packages and cache folders](../../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> | <span data-ttu-id="13501-132">指定為絕對路徑。</span><span class="sxs-lookup"><span data-stu-id="13501-132">Specified as absolute path.</span></span> |
| <span data-ttu-id="13501-133">NUGET_FALLBACK_PACKAGES</span><span class="sxs-lookup"><span data-stu-id="13501-133">NUGET_FALLBACK_PACKAGES</span></span> | <span data-ttu-id="13501-134">全域 fallback 封裝資料夾。</span><span class="sxs-lookup"><span data-stu-id="13501-134">Global fallback packages folders.</span></span> | <span data-ttu-id="13501-135">以分號分隔的絕對資料夾路徑 (; ) 。</span><span class="sxs-lookup"><span data-stu-id="13501-135">Absolute folder paths separated by semicolon (;).</span></span> |
| <span data-ttu-id="13501-136">NUGET_HTTP_CACHE_PATH</span><span class="sxs-lookup"><span data-stu-id="13501-136">NUGET_HTTP_CACHE_PATH</span></span> | <span data-ttu-id="13501-137">用於 *HTTP* 快取資料夾的路徑，如 [管理全域封裝和](../../consume-packages/managing-the-global-packages-and-cache-folders.md)快取資料夾所述。</span><span class="sxs-lookup"><span data-stu-id="13501-137">Path to use for the *http-cache* folder as described on [Managing the global packages and cache folders](../../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span> | <span data-ttu-id="13501-138">指定為絕對路徑。</span><span class="sxs-lookup"><span data-stu-id="13501-138">Specified as absolute path.</span></span> |
| <span data-ttu-id="13501-139">NUGET_PERSIST_DG</span><span class="sxs-lookup"><span data-stu-id="13501-139">NUGET_PERSIST_DG</span></span> | <span data-ttu-id="13501-140">旗標，指出是否應該保存從 MSBuild) 收集的 dg 檔案 (資料。</span><span class="sxs-lookup"><span data-stu-id="13501-140">Flag indicating if dg files (data collected from MSBuild) should be persisted.</span></span> | <span data-ttu-id="13501-141">指定為 *true* 或 *false* (預設) ，如果 NUGET_PERSIST_DG_PATH 未設定，將會儲存到目前環境 temp 目錄) 中 (NuGetScratch 資料夾的臨時目錄。</span><span class="sxs-lookup"><span data-stu-id="13501-141">Specified as *true* or *false* (default), if NUGET_PERSIST_DG_PATH not set will be stored to temporary directory (NuGetScratch folder in current environment temp directory).</span></span> |
| <span data-ttu-id="13501-142">NUGET_PERSIST_DG_PATH</span><span class="sxs-lookup"><span data-stu-id="13501-142">NUGET_PERSIST_DG_PATH</span></span> | <span data-ttu-id="13501-143">保存 dg 檔案的路徑。</span><span class="sxs-lookup"><span data-stu-id="13501-143">Path to persist dg files.</span></span> | <span data-ttu-id="13501-144">指定為絕對路徑，只有在 *NUGET_PERSIST_DG* 設定為 true 時，才會使用此選項。</span><span class="sxs-lookup"><span data-stu-id="13501-144">Specified as absolute path, this option is only used when *NUGET_PERSIST_DG* is set to true.</span></span> |
| <span data-ttu-id="13501-145">NUGET_RESTORE_MSBUILD_ARGS</span><span class="sxs-lookup"><span data-stu-id="13501-145">NUGET_RESTORE_MSBUILD_ARGS</span></span> | <span data-ttu-id="13501-146">設定其他 MSBuild 引數。</span><span class="sxs-lookup"><span data-stu-id="13501-146">Sets additional MSBuild arguments.</span></span> | <span data-ttu-id="13501-147">傳遞引數，與您傳遞它們給 msbuild.exe 的方式相同。</span><span class="sxs-lookup"><span data-stu-id="13501-147">Pass arguments identical to how you would pass them to msbuild.exe.</span></span> <span data-ttu-id="13501-148">從命令列將專案屬性 Foo 設定為值列的範例為/p： Foo = Bar</span><span class="sxs-lookup"><span data-stu-id="13501-148">An example of setting a project property Foo from the command line to value Bar would be /p:Foo=Bar</span></span> |
| <span data-ttu-id="13501-149">NUGET_RESTORE_MSBUILD_VERBOSITY</span><span class="sxs-lookup"><span data-stu-id="13501-149">NUGET_RESTORE_MSBUILD_VERBOSITY</span></span> | <span data-ttu-id="13501-150">設定 MSBuild 記錄詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="13501-150">Sets the MSBuild log verbosity.</span></span> | <span data-ttu-id="13501-151">預設值為 *quiet* ( "/v： q" ) 。</span><span class="sxs-lookup"><span data-stu-id="13501-151">Default is *quiet* ("/v:q").</span></span> <span data-ttu-id="13501-152">可能的值為 *q [uiet]*、 *m [inimal]*、 *n [ormal]*、 *d [etailed]* 和 *診斷 [nostic]*。</span><span class="sxs-lookup"><span data-stu-id="13501-152">Possible values *q[uiet]*, *m[inimal]*, *n[ormal]*, *d[etailed]*, and *diag[nostic]*.</span></span> |
| <span data-ttu-id="13501-153">NUGET_SHOW_STACK</span><span class="sxs-lookup"><span data-stu-id="13501-153">NUGET_SHOW_STACK</span></span> | <span data-ttu-id="13501-154">決定是否應該對使用者顯示完整的例外狀況 (包括堆疊追蹤) 。</span><span class="sxs-lookup"><span data-stu-id="13501-154">Determines whether the full exception (including stack trace) should be displayed to the user.</span></span> | <span data-ttu-id="13501-155">指定為 *true* 或 *false* (預設) 。</span><span class="sxs-lookup"><span data-stu-id="13501-155">Specified as *true* or *false* (default).</span></span> |
| <span data-ttu-id="13501-156">NUGET_XMLDOC_MODE</span><span class="sxs-lookup"><span data-stu-id="13501-156">NUGET_XMLDOC_MODE</span></span> | <span data-ttu-id="13501-157">決定如何處理元件 XML 檔檔案解壓縮。</span><span class="sxs-lookup"><span data-stu-id="13501-157">Determines how assemblies XML documentation file extraction should be handled.</span></span> | <span data-ttu-id="13501-158">支援的模式為 *skip* (不要將 xml 檔檔案解壓縮) 、將 (儲存 xml 檔檔案 *壓縮* 成 zip 封存) 或 *無* (預設，將 xml 檔檔案視為一般檔案) 。</span><span class="sxs-lookup"><span data-stu-id="13501-158">Supported modes are *skip* (do not extract XML documentation files), *compress* (store XML doc files as a zip archive) or *none* (default, treat XML doc files as regular files).</span></span> |
| <span data-ttu-id="13501-159">NUGET_CERT_REVOCATION_MODE</span><span class="sxs-lookup"><span data-stu-id="13501-159">NUGET_CERT_REVOCATION_MODE</span></span> | <span data-ttu-id="13501-160">決定在安裝或還原已簽署的套件時，如何執行用來簽署封裝之憑證的撤銷狀態檢查。</span><span class="sxs-lookup"><span data-stu-id="13501-160">Determines how the revocation status check of the certificate used to sign a package, is performed when a signed package is installed or restored.</span></span> <span data-ttu-id="13501-161">若未設定，則預設為 `online` 。</span><span class="sxs-lookup"><span data-stu-id="13501-161">When not set, defaults to `online`.</span></span>| <span data-ttu-id="13501-162">可能的值在 *線上* (預設) （ *離線*）。</span><span class="sxs-lookup"><span data-stu-id="13501-162">Possible values *online* (default), *offline*.</span></span>  <span data-ttu-id="13501-163">與[NU3028](../errors-and-warnings/NU3028.md)相關</span><span class="sxs-lookup"><span data-stu-id="13501-163">Related to [NU3028](../errors-and-warnings/NU3028.md)</span></span> |

