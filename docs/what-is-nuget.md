---
title: 什麼是 NuGet？它有哪些功能？
description: 何謂 NuGet 和其功能的完整介紹
author: JonDouglas
ms.author: jodou
ms.date: 05/24/2019
ms.topic: overview
ms.openlocfilehash: 446a1ad4d07d0338a996ad93823ac20386620c0d
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/26/2021
ms.locfileid: "98780098"
---
# <a name="an-introduction-to-nuget"></a><span data-ttu-id="0ee4a-103">NuGet 簡介</span><span class="sxs-lookup"><span data-stu-id="0ee4a-103">An introduction to NuGet</span></span>

<span data-ttu-id="0ee4a-104">任何新式開發平台的基本工具都是一種機制，而開發人員可以透過此機制建立、共用和使用實用的程式碼。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-104">An essential tool for any modern development platform is a mechanism through which developers can create, share, and consume useful code.</span></span> <span data-ttu-id="0ee4a-105">這類程式碼通常會打包成「套件」，其中包含已編譯程式碼 (如 DLL)，以及在取用這些套件之專案中所需的其他內容。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-105">Often such code is bundled into "packages" that contain compiled code (as DLLs) along with other content needed in the projects that consume these packages.</span></span>

<span data-ttu-id="0ee4a-106">針對 .NET (包括 .NET Core)，Microsoft 支援的共用程式碼機制是 **NuGet**，它定義如何建立、裝載和取用 .NET 套件，並為這些角色的每一個 [提供工具](install-nuget-client-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-106">For .NET (including .NET Core), the Microsoft-supported mechanism for sharing code is **NuGet**, which defines how packages for .NET are created, hosted, and consumed, and [provides the tools](install-nuget-client-tools.md) for each of those roles.</span></span>

<span data-ttu-id="0ee4a-107">簡言之，NuGet 套件就是副檔名為 `.nupkg` 的單一 ZIP 檔案，內含已編譯程式碼 (DLL)、其他與該程式碼相關的檔案，以及包含套件版本號碼這類資訊的描述性資訊清單。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-107">Put simply, a NuGet package is a single ZIP file with the `.nupkg` extension that contains compiled code (DLLs), other files related to that code, and a descriptive manifest that includes information like the package's version number.</span></span> <span data-ttu-id="0ee4a-108">擁有要共用之程式碼的開發人員會建立套件，並將它們發行至公用或私人主機。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-108">Developers with code to share create packages and publish them to a public or private host.</span></span> <span data-ttu-id="0ee4a-109">套件取用者會從適當的主機取得那些套件、將它們新增至其專案，然後在其專案程式碼中呼叫套件的功能。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-109">Package consumers obtain those packages from suitable hosts, add them to their projects, and then call a package's functionality in their project code.</span></span> <span data-ttu-id="0ee4a-110">NuGet 本身接著會處理所有中間詳細資料。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-110">NuGet itself then handles all of the intermediate details.</span></span>

<span data-ttu-id="0ee4a-111">由於 NuGet 同時支援私人主機和公用 nuget.org 主機，因此，您可以使用 NuGet 套件來共用組織或工作群組專屬的程式碼。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-111">Because NuGet supports private hosts alongside the public nuget.org host, you can use NuGet packages to share code that's exclusive to an organization or a work group.</span></span> <span data-ttu-id="0ee4a-112">您也可以使用 NuGet 套件作為一種簡便方式來建構自己的程式碼，僅供您自己的專案使用。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-112">You can also use NuGet packages as a convenient way to factor your own code for use in nothing but your own projects.</span></span> <span data-ttu-id="0ee4a-113">簡言之，NuGet 套件是一個可共用的程式碼單位，但不需要也不會暗示任何特殊的共用方式。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-113">In short, a NuGet package is a shareable unit of code, but does not require nor imply any particular means of sharing.</span></span>

## <a name="the-flow-of-packages-between-creators-hosts-and-consumers"></a><span data-ttu-id="0ee4a-114">建立者、主機和取用者之間的套件流程</span><span class="sxs-lookup"><span data-stu-id="0ee4a-114">The flow of packages between creators, hosts, and consumers</span></span>

<span data-ttu-id="0ee4a-115">在其作為公用主機的角色中，NuGet 本身會在 [nuget.org](https://www.nuget.org)上維護超過100000個唯一套件的中央存放庫。每天有數百萬個 .NET/.NET Core 開發人員都採用這些套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-115">In its role as a public host, NuGet itself maintains the central repository of over 100,000 unique packages at [nuget.org](https://www.nuget.org). These packages are employed by millions of .NET/.NET Core developers every day.</span></span> <span data-ttu-id="0ee4a-116">NuGet 也讓您能夠在雲端 (例如在 Azure DevOps 上)、私人網路或甚至只是在本機檔案系統中，私下裝載套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-116">NuGet also enables you to host packages privately in the cloud (such as on Azure DevOps), on a private network, or even on just your local file system.</span></span> <span data-ttu-id="0ee4a-117">如此一來，那些套件就只能供可存取該主機的開發人員使用，讓特定的取用者群組能夠使用套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-117">By doing so, those packages are available to only those developers that have access to the host, giving you the ability to make packages available to a specific group of consumers.</span></span> <span data-ttu-id="0ee4a-118">[裝載您自己的 NuGet 摘要](hosting-packages/overview.md)會說明這些選項。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-118">The options are explained on [Hosting your own NuGet feeds](hosting-packages/overview.md).</span></span> <span data-ttu-id="0ee4a-119">透過設定選項，您也可以完全控制哪些主機可以透過任何指定的電腦來存取，以確定可從諸如 nuget.org 之公用存放庫以外的特定來源取得套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-119">Through configuration options, you can also control exactly which hosts can be accessed by any given computer, thereby ensuring that packages are obtained from specific sources rather than a public repository like nuget.org.</span></span>

<span data-ttu-id="0ee4a-120">不管其本質為何，主機都是作為套件「建立者」與套件「取用者」之間的聯繫點。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-120">Whatever its nature, a host serves as the point of connection between package *creators* and package *consumers*.</span></span> <span data-ttu-id="0ee4a-121">建立者會建置有用的 NuGet 套件，並將其發行至主機。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-121">Creators build useful NuGet packages and publish them to a host.</span></span> <span data-ttu-id="0ee4a-122">取用者接著會搜尋可存取主機上的實用和相容套件，並下載這些套件且將其包含在專案中。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-122">Consumers then search for useful and compatible packages on accessible hosts, downloading and including those packages in their projects.</span></span> <span data-ttu-id="0ee4a-123">一旦安裝於專案，套件的 API 就可供專案程式碼的其餘部分使用。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-123">Once installed in a project, the packages' APIs are available to the rest of the project code.</span></span>

![套件建立者、套件主機與套件取用者之間的關聯性](media/nuget-roles.png)

## <a name="package-targeting-compatibility"></a><span data-ttu-id="0ee4a-125">套件目標相容性</span><span class="sxs-lookup"><span data-stu-id="0ee4a-125">Package targeting compatibility</span></span>

<span data-ttu-id="0ee4a-126">「相容」套件表示它所包含的組件，是針對與取用專案之目標 Framework 相容的至少一個目標 .NET Framework 所建置的。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-126">A "compatible" package means that it contains assemblies built for at least one target .NET framework that's compatible with the consuming project's target framework.</span></span> <span data-ttu-id="0ee4a-127">開發人員可以建立某種架構特有的套件 (就像使用 UWP 控制項)，或者，它們可以支援範圍更廣泛的目標。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-127">Developers can create packages that are specific to one framework, as with UWP controls, or they can support a wider range of targets.</span></span> <span data-ttu-id="0ee4a-128">開發人員為了讓套件有最大的相容性，會將目標設為所有 .NET 和 .NET Core 專案均可取用的 [.NET Standard](/dotnet/standard/net-standard)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-128">To maximize a package's compatibility, developers target [.NET Standard](/dotnet/standard/net-standard), which all .NET and .NET Core projects can consume.</span></span> <span data-ttu-id="0ee4a-129">這對建立者與取用者而言是最有效率的方法，因為單一套件 (通常包含單一組件) 適用於所有取用專案。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-129">This is the most efficient means for both creators and consumers, as a single package (usually containing a single assembly) works for all consuming projects.</span></span>

<span data-ttu-id="0ee4a-130">相反地，需要 .NET Standard 以外之 API 的套件開發人員，會針對他們想要支援的不同目標 Framework 建立個別組件，並在相同套件中包含所有的那些組件 (稱為「多目標」)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-130">Package developers who require APIs outside of .NET Standard, on the other hand, create separate assemblies for the different target frameworks they want to support and include all of those assemblies in the same package (which is called "multi-targeting").</span></span> <span data-ttu-id="0ee4a-131">當取用者安裝這類套件時，NuGet 只會擷取專案所需的組件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-131">When a consumer installs such a package, NuGet extracts only those assemblies that are needed by the project.</span></span> <span data-ttu-id="0ee4a-132">在該專案所產生的最終應用程式和 (或) 組件中，這可將套件的用量降到最低。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-132">This minimizes the package's footprint in the final application and/or assemblies produced by that project.</span></span> <span data-ttu-id="0ee4a-133">當然，多目標套件對其建立者而言就更難維護了。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-133">A multi-targeting package is, of course, more difficult for its creator to maintain.</span></span>

> [!Note]
> <span data-ttu-id="0ee4a-134">將目標設為 .NET Standard 會取代先前使用各種可攜式類別庫 (PCL) 目標的方法。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-134">Targeting .NET Standard supersedes the previous approach of using various portable class library (PCL) targets.</span></span> <span data-ttu-id="0ee4a-135">因此，本文件著重在如何建立適用於 .NET Standard 的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-135">This documentation therefore focuses on creating packages for .NET Standard.</span></span>

## <a name="nuget-tools"></a><span data-ttu-id="0ee4a-136">NuGet 工具</span><span class="sxs-lookup"><span data-stu-id="0ee4a-136">NuGet tools</span></span>

<span data-ttu-id="0ee4a-137">除了裝載支援之外，NuGet 也提供建立者和取用者都能使用的各種工具。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-137">In addition to hosting support, NuGet also provides a variety of tools used by both creators and consumers.</span></span> <span data-ttu-id="0ee4a-138">請參閱[安裝 NuGet 用戶端工具](install-nuget-client-tools.md)了解如何取得特定的工具。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-138">See [Installing NuGet client tools](install-nuget-client-tools.md) for how to obtain specific tools.</span></span>

| <span data-ttu-id="0ee4a-139">工具</span><span class="sxs-lookup"><span data-stu-id="0ee4a-139">Tool</span></span> | <span data-ttu-id="0ee4a-140">平台</span><span class="sxs-lookup"><span data-stu-id="0ee4a-140">Platforms</span></span> | <span data-ttu-id="0ee4a-141">適用的案例</span><span class="sxs-lookup"><span data-stu-id="0ee4a-141">Applicable Scenarios</span></span> | <span data-ttu-id="0ee4a-142">描述</span><span class="sxs-lookup"><span data-stu-id="0ee4a-142">Description</span></span> |
| --- | --- | --- | --- |
| [<span data-ttu-id="0ee4a-143">dotnet CLI</span><span class="sxs-lookup"><span data-stu-id="0ee4a-143">dotnet CLI</span></span>](consume-packages/install-use-packages-dotnet-cli.md) | <span data-ttu-id="0ee4a-144">全部</span><span class="sxs-lookup"><span data-stu-id="0ee4a-144">All</span></span> | <span data-ttu-id="0ee4a-145">建立、使用</span><span class="sxs-lookup"><span data-stu-id="0ee4a-145">Creation, Consumption</span></span> | <span data-ttu-id="0ee4a-146">適用於 .NET Core 與 .NET Standard 程式庫，以及以 .NET Framework 為目標之 SDK 樣式專案的 CLI 工具 (請參閱 [ SDK 屬性](/dotnet/core/tools/csproj#additions))。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-146">CLI tool for .NET Core and .NET Standard libraries, and for SDK-style projects that target .NET Framework (see [SDK attribute](/dotnet/core/tools/csproj#additions)).</span></span> <span data-ttu-id="0ee4a-147">在 .NET Core 工具鏈內，直接提供特定 NuGet CLI 功能。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-147">Provides certain NuGet CLI capabilities directly within the .NET Core tool chain.</span></span> <span data-ttu-id="0ee4a-148">就像 `nuget.exe` CLI，dotnet CLI 不會與 Visual Studio 專案互動。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-148">As with the `nuget.exe` CLI, the dotnet CLI does not interact with Visual Studio projects.</span></span> |
| [<span data-ttu-id="0ee4a-149">nuget.exe CLI</span><span class="sxs-lookup"><span data-stu-id="0ee4a-149">nuget.exe CLI</span></span>](consume-packages/install-use-packages-nuget-cli.md) | <span data-ttu-id="0ee4a-150">全部</span><span class="sxs-lookup"><span data-stu-id="0ee4a-150">All</span></span> | <span data-ttu-id="0ee4a-151">建立、使用</span><span class="sxs-lookup"><span data-stu-id="0ee4a-151">Creation, Consumption</span></span> | <span data-ttu-id="0ee4a-152">適用於 .NET Framework 程式庫與以 .NET Standard 程式庫為目標之非 SDK 樣式專案的 CLI 工具。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-152">CLI tool for .NET Framework libraries and non-SDK-style projects that target .NET Standard libraries.</span></span> <span data-ttu-id="0ee4a-153">提供所有 NuGet 功能，而且有些命令專門套用至套件建立者、有些命令只套用至取用者，其他命令則套用至兩者。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-153">Provides all NuGet capabilities, with some commands applying specifically to package creators, some applying only to consumers, and others applying to both.</span></span> <span data-ttu-id="0ee4a-154">例如，套件建立者使用 `nuget pack` 命令以從各種組件和相關檔案建立套件、套件取用者使用 `nuget install` 以將套件納入專案資料夾，而每個人都使用 `nuget config` 來設定 NuGet 組態變數。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-154">For example, package creators use the `nuget pack` command to create a package from various assemblies and related files, package consumers use `nuget install` to include packages in a project folder, and everyone uses `nuget config` to set NuGet configuration variables.</span></span> <span data-ttu-id="0ee4a-155">作為無從驗證平台的工具，NuGet CLI 不會與 Visual Studio 專案互動。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-155">As a platform-agnostic tool, the NuGet CLI does not interact with Visual Studio projects.</span></span> |
| [<span data-ttu-id="0ee4a-156">套件管理器主控台</span><span class="sxs-lookup"><span data-stu-id="0ee4a-156">Package Manager Console</span></span>](consume-packages/install-use-packages-powershell.md) | <span data-ttu-id="0ee4a-157">Windows 上的 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0ee4a-157">Visual Studio on Windows</span></span> | <span data-ttu-id="0ee4a-158">耗用量</span><span class="sxs-lookup"><span data-stu-id="0ee4a-158">Consumption</span></span> | <span data-ttu-id="0ee4a-159">提供 [PowerShell 命令](reference/Powershell-Reference.md)，以在 Visual Studio 專案中安裝和管理套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-159">Provides [PowerShell commands](reference/Powershell-Reference.md) for installing and managing packages in Visual Studio projects.</span></span> |
| [<span data-ttu-id="0ee4a-160">套件管理員 UI</span><span class="sxs-lookup"><span data-stu-id="0ee4a-160">Package Manager UI</span></span>](consume-packages/install-use-packages-visual-studio.md) | <span data-ttu-id="0ee4a-161">Windows 上的 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0ee4a-161">Visual Studio on Windows</span></span> | <span data-ttu-id="0ee4a-162">耗用量</span><span class="sxs-lookup"><span data-stu-id="0ee4a-162">Consumption</span></span> | <span data-ttu-id="0ee4a-163">提供易於使用的 UI，以在 Visual Studio 專案中安裝和管理套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-163">Provides an easy-to-use UI for installing and managing packages in Visual Studio projects.</span></span> |
| [<span data-ttu-id="0ee4a-164">管理 NuGet UI</span><span class="sxs-lookup"><span data-stu-id="0ee4a-164">Manage NuGet UI</span></span>](/visualstudio/mac/nuget-walkthrough) | <span data-ttu-id="0ee4a-165">Visual Studio for Mac</span><span class="sxs-lookup"><span data-stu-id="0ee4a-165">Visual Studio for Mac</span></span> | <span data-ttu-id="0ee4a-166">耗用量</span><span class="sxs-lookup"><span data-stu-id="0ee4a-166">Consumption</span></span> | <span data-ttu-id="0ee4a-167">提供易於使用的 UI，以在 Visual Studio for Mac 專案中安裝和管理套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-167">Provide an easy-to-use UI for installing and managing packages in Visual Studio for Mac projects.</span></span> |
| [<span data-ttu-id="0ee4a-168">MSBuild</span><span class="sxs-lookup"><span data-stu-id="0ee4a-168">MSBuild</span></span>](reference/msbuild-targets.md) | <span data-ttu-id="0ee4a-169">Windows</span><span class="sxs-lookup"><span data-stu-id="0ee4a-169">Windows</span></span> | <span data-ttu-id="0ee4a-170">建立、使用</span><span class="sxs-lookup"><span data-stu-id="0ee4a-170">Creation, Consumption</span></span> | <span data-ttu-id="0ee4a-171">提供能夠建立套件，以及還原透過 MSBuild 工具鏈直接用於專案的套件的能力。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-171">Provides the ability to create packages and restore packages used in a project directly through the MSBuild tool chain.</span></span> |

<span data-ttu-id="0ee4a-172">如您所見，您所使用的 NuGet 工具大部分取決於您是否正在建立、取用或發行套件，以及您的工作所在平台。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-172">As you can see, the NuGet tools you work with depend greatly on whether you're creating, consuming, or publishing packages, and the platform on which you're working.</span></span> <span data-ttu-id="0ee4a-173">套件建立者通常也是取用者，因為他們是以其他 NuGet 套件的現有功能為建置基礎。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-173">Package creators are typically also consumers, as they build on top of functionality that exists in other NuGet packages.</span></span> <span data-ttu-id="0ee4a-174">當然，這些套件可能接著會與其他項目相依。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-174">And those packages, of course, may in turn depend on still others.</span></span>

<span data-ttu-id="0ee4a-175">如需詳細資訊，請從[套件建立工作流程](create-packages/Overview-and-Workflow.md)和[套件使用工作流程](consume-packages/Overview-and-Workflow.md)文章開始。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-175">For more information, start with the [Package creation workflow](create-packages/Overview-and-Workflow.md) and [Package consumption workflow](consume-packages/Overview-and-Workflow.md) articles.</span></span>

## <a name="managing-dependencies"></a><span data-ttu-id="0ee4a-176">管理相依性</span><span class="sxs-lookup"><span data-stu-id="0ee4a-176">Managing dependencies</span></span>

<span data-ttu-id="0ee4a-177">以其他人的工作為基礎輕鬆進行建置的能力，是套件管理系統中最強大的功能之一。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-177">The ability to easily build on the work of others is one of most powerful features of a package management system.</span></span> <span data-ttu-id="0ee4a-178">因此，大部分 NuGet 功能都為代表專案來管理相依性樹狀結構或「圖形」。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-178">Accordingly, much of what NuGet does is managing that dependency tree or "graph" on behalf of a project.</span></span> <span data-ttu-id="0ee4a-179">簡言之，您只需要讓自己關注在專案中直接使用的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-179">Simply said, you need only concern yourself with those packages that you're directly using in a project.</span></span> <span data-ttu-id="0ee4a-180">如果任何那些套件本身都取用其他套件 (其接著仍取用其他套件)，則 NuGet 會負責所有那些下層相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-180">If any of those packages themselves consume other packages (which can, in turn, consume still others), NuGet takes care of all those down-level dependencies.</span></span>

<span data-ttu-id="0ee4a-181">下圖顯示與五個套件相依的專案，而這五個套件接著與許多其他套件相依。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-181">The following image shows a project that depends on five packages, which in turn depend on a number of others.</span></span>

![.NET 專案的範例 NuGet 相依性圖形](media/dependency-graph.png)

<span data-ttu-id="0ee4a-183">請注意，在相依性圖形中，有些套件會出現多次。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-183">Notice that some packages appear multiple times in the dependency graph.</span></span> <span data-ttu-id="0ee4a-184">例如，套件 B 有三個不同的取用者，而每個取用者也可能為該套件 (未顯示) 指定不同的版本。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-184">For example, there are three different consumers of package B, and each consumer might also specify a different version for that package (not shown).</span></span> <span data-ttu-id="0ee4a-185">這種狀況經常發生，特別是針對廣泛使用的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-185">This is a common occurrence, especially for widely-used packages.</span></span> <span data-ttu-id="0ee4a-186">還好 NuGet 會執行所有困難的工作，以確切判斷哪個版本的套件 B 可滿足所有取用者。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-186">NuGet fortunately does all the hard work to determine exactly which version of package B satisfies all consumers.</span></span> <span data-ttu-id="0ee4a-187">不管相依性關係圖的深度為何，NuGet 接著都會對所有其他套件執行相同作業。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-187">NuGet then does the same for all other packages, no matter how deep the dependency graph.</span></span>

<span data-ttu-id="0ee4a-188">如需 NuGet 如何執行這項服務的詳細資料，請參閱[相依性解析](concepts/dependency-resolution.md)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-188">For more details on how NuGet performs this service, see [Dependency resolution](concepts/dependency-resolution.md).</span></span>

## <a name="tracking-references-and-restoring-packages"></a><span data-ttu-id="0ee4a-189">追蹤參考和還原套件</span><span class="sxs-lookup"><span data-stu-id="0ee4a-189">Tracking references and restoring packages</span></span>

<span data-ttu-id="0ee4a-190">因為專案可以輕鬆地在開發人員電腦、原始檔控制存放庫、組建伺服器等等之間移動，所以讓 NuGet 套件的二進位組件直接繫結至專案是不切實際的作法。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-190">Because projects can easily move between developer computers, source control repositories, build servers, and so forth, it's highly impractical to keep the binary assemblies of NuGet packages directly bound to a project.</span></span> <span data-ttu-id="0ee4a-191">這樣做會使得專案的每個複本產生不必要的膨脹 (因而浪費原始檔控制存放庫中的空間)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-191">Doing so would make each copy of the project unnecessarily bloated (and thereby waste space in source control repositories).</span></span> <span data-ttu-id="0ee4a-192">此外，也會使得它很難將套件二進位檔更新為較新版本，因為更新必須跨專案的所有複本加以套用。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-192">It would also make it very difficult to update package binaries to newer versions as updates would have to be applied across all copies of the project.</span></span>

<span data-ttu-id="0ee4a-193">NuGet 會改為維護專案相依之套件的簡單參考清單，包括最上層和最下層的相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-193">NuGet instead maintains a simple reference list of the packages upon which a project depends, including both top-level and down-level dependencies.</span></span> <span data-ttu-id="0ee4a-194">也就是說，只要您將套件從某個主機安裝至專案，NuGet 就會在參考清單中記錄套件識別碼和版本號碼 </span><span class="sxs-lookup"><span data-stu-id="0ee4a-194">That is, whenever you install a package from some host into a project, NuGet records the package identifier and version number in the reference list.</span></span> <span data-ttu-id="0ee4a-195">當然， (卸載套件時，會將它從清單中移除。 ) NuGet 接著會提供一種方法，在要求時還原所有參考的套件，如 [封裝還原](consume-packages/package-restore.md)中所述。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-195">(Uninstalling a package, of course, removes it from the list.) NuGet then provides a means to restore all referenced packages upon request, as described on [Package restore](consume-packages/package-restore.md).</span></span>

![在套件安裝時會建立 NuGet 參考清單，並且可以用來在其他位置還原套件](media/nuget-restore.png)

<span data-ttu-id="0ee4a-197">除了參考清單，NuGet 還可以重新安裝， &mdash; 也就是 &mdash; 稍後從公用和/或私人主機還原所有套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-197">With only the reference list, NuGet can then reinstall&mdash;that is, *restore*&mdash;all of those packages from public and/or private hosts at any later time.</span></span> <span data-ttu-id="0ee4a-198">將專案認可到原始檔控制，或以某種其他方式進行共用時，只需包含參考清單，並排除任何套件二進位檔 (請參閱[套件和原始檔控制](consume-packages/packages-and-source-control.md))。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-198">When committing a project to source control, or sharing it in some other way, you include only the reference list and exclude any package binaries (see [Packages and source control](consume-packages/packages-and-source-control.md).)</span></span>

<span data-ttu-id="0ee4a-199">接收專案的電腦 (例如，在自動部署系統期間取得專案複本的組建伺服器) 只會要求 NuGet 在必要時還原相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-199">The computer that receives a project, such as a build server obtaining a copy of the project as part of an automated deployment system, simply asks NuGet to restore dependencies whenever they're needed.</span></span> <span data-ttu-id="0ee4a-200">而建置像是 Azure DevOps 系統，可為此確切之目的，提供 "NuGet restore" 步驟。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-200">Build systems like Azure DevOps provide "NuGet restore" steps for this exact purpose.</span></span> <span data-ttu-id="0ee4a-201">同樣地，當開發人員取得專案複本時 (像是在複製存放庫時)，可以叫用類似 `nuget restore` (NuGet CLI)、`dotnet restore` (dotnet CLI) 或 `Install-Package` (套件管理員主控台) 的命令來取得所有必要的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-201">Similarly, when developers obtain a copy of a project (as when cloning a repository), they can invoke command like `nuget restore` (NuGet CLI), `dotnet restore` (dotnet CLI), or `Install-Package` (Package Manager Console) to obtain all the necessary packages.</span></span> <span data-ttu-id="0ee4a-202">在建置專案時，Visual Studio 會自動還原套件 (假設已啟用自動還原，如[套件還原](consume-packages/package-restore.md)中所述)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-202">Visual Studio, for its part, automatically restores packages when building a project (provided that automatic restore is enabled, as described on [Package restore](consume-packages/package-restore.md)).</span></span>

<span data-ttu-id="0ee4a-203">清楚的是，開發人員所關注的 NuGet 主要角色將會代表您的專案維護該參考清單，並提供方式，以有效率地還原 (和更新) 這些參考的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-203">Clearly, then, NuGet's primary role where developers are concerned is maintaining that reference list on behalf of your project and providing the means to efficiently restore (and update) those referenced packages.</span></span> <span data-ttu-id="0ee4a-204">此清單會以兩種「套件管理格式」 (呼叫它們時) 之一來維護：</span><span class="sxs-lookup"><span data-stu-id="0ee4a-204">This list is maintained in one of two *package management formats*, as they're called:</span></span>

- <span data-ttu-id="0ee4a-205">[PackageReference](consume-packages/package-references-in-project-files.md) (或「專案檔中的套件參考」) | *(NuGet 4.0+)* 直接維護專案檔內的專案最上層相依性清單，因此不需要個別檔案。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-205">[PackageReference](consume-packages/package-references-in-project-files.md) (or "package references in project files") | *(NuGet 4.0+)* Maintains a list of a project's top-level dependencies directly within the project file, so no separate file is needed.</span></span> <span data-ttu-id="0ee4a-206">相關聯的 `obj/project.assets.json` 檔案是動態產生的，用途是管理專案所使用套件的整體相依性關係圖以及所有下層相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-206">An associated file, `obj/project.assets.json`, is dynamically generated to manage the overall dependency graph of the packages that a project uses along with all down-level dependencies.</span></span> <span data-ttu-id="0ee4a-207">PackageReference 一律由 .NET Core 專案使用。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-207">PackageReference is always used by .NET Core projects.</span></span>

- <span data-ttu-id="0ee4a-208">[`packages.config`](reference/packages-config.md)： *(NuGet 1.0 +)* XML 檔案，此檔案會維護專案中所有相依性的一般清單，包括其他已安裝套件的相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-208">[`packages.config`](reference/packages-config.md): *(NuGet 1.0+)* An XML file that maintains a flat list of all dependencies in the project, including the dependencies of other installed packages.</span></span> <span data-ttu-id="0ee4a-209">已安裝或已還原的套件會儲存在 `packages` 資料夾中。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-209">Installed or restored packages are stored in a `packages` folder.</span></span>

<span data-ttu-id="0ee4a-210">任何指定專案中採用的套件管理格式都取決於專案類型，以及 NuGet (和/或 Visual Studio) 的可用版本。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-210">Which package management format is employed in any given project depends on the project type, and the available version of NuGet (and/or Visual Studio).</span></span> <span data-ttu-id="0ee4a-211">若要檢查正在使用的格式，只需在安裝第一個套件之後，於專案根目錄中尋找 `packages.config`。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-211">To check what format is being used, simply look for `packages.config` in the project root after installing your first package.</span></span> <span data-ttu-id="0ee4a-212">如果您沒有該檔案，請直接查看專案檔中的 \<PackageReference\> 元素。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-212">If you don't have that file, look in the project file directly for a \<PackageReference\> element.</span></span>

<span data-ttu-id="0ee4a-213">如果您可以選擇，建議使用 PackageReference。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-213">When you have a choice, we recommend using PackageReference.</span></span> <span data-ttu-id="0ee4a-214">`packages.config` 是為了舊版考量而保留，已不再積極開發中。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-214">`packages.config` is maintained for legacy purposes and is no longer under active development.</span></span>

> [!Tip]
> <span data-ttu-id="0ee4a-215">各種 `nuget.exe` CLI 命令 (例如 `nuget install`) 不會自動將套件新增到參考清單中。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-215">Various `nuget.exe` CLI commands, like `nuget install`, do not automatically add the package to the reference list.</span></span> <span data-ttu-id="0ee4a-216">在透過 Visual Studio 套件管理員 (UI 或主控台) 和透過 `dotnet.exe` CLI 安裝套件時，才會更新清單。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-216">The list is updated when installing a package with the Visual Studio Package Manager (UI or Console), and with `dotnet.exe` CLI.</span></span>

## <a name="what-else-does-nuget-do"></a><span data-ttu-id="0ee4a-217">NuGet 還有其他功能嗎？</span><span class="sxs-lookup"><span data-stu-id="0ee4a-217">What else does NuGet do?</span></span>

<span data-ttu-id="0ee4a-218">到目前為止，您已了解 NuGet 的下列特性：</span><span class="sxs-lookup"><span data-stu-id="0ee4a-218">So far you've learned the following characteristics of NuGet:</span></span>

- <span data-ttu-id="0ee4a-219">NuGet 提供 nuget.org 中央存放庫，並支援私人裝載。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-219">NuGet provides the central nuget.org repository with support for private hosting.</span></span>
- <span data-ttu-id="0ee4a-220">NuGet 提供開發人員建立、發行和使用套件所需的工具。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-220">NuGet provides the tools developers need for creating, publishing, and consuming packages.</span></span>
- <span data-ttu-id="0ee4a-221">最重要的是，NuGet 會維護專案中所用套件的參考清單，而且能夠從該清單還原和更新那些套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-221">Most importantly, NuGet maintains a reference list of packages used in a project and the ability to restore and update those packages from that list.</span></span>

<span data-ttu-id="0ee4a-222">為了讓這些程序有效率地運作，NuGet 會在幕後進行一些最佳化。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-222">To make these processes work efficiently, NuGet does some behind-the-scenes optimizations.</span></span> <span data-ttu-id="0ee4a-223">最重要的是，NuGet 會管理套件快取和全域套件資料夾，以方便安裝和重新安裝。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-223">Most notably, NuGet manages a package cache and a global packages folder to shortcut installation and reinstallation.</span></span> <span data-ttu-id="0ee4a-224">快取可避免下載已安裝在電腦上的套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-224">The cache avoids downloading a package that's already been installed on the machine.</span></span> <span data-ttu-id="0ee4a-225">全域套件資料夾可讓多個專案共用相同的已安裝套件，藉此降低 NuGet 在電腦上的整體使用量。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-225">The global packages folder allows multiple projects to share the same installed package, thereby reducing NuGet's overall footprint on the computer.</span></span> <span data-ttu-id="0ee4a-226">當您經常還原大量套件時 (例如在組建伺服器上)，快取和全域套件資料夾也十分有幫助。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-226">The cache and global packages folder are also very helpful when you're frequently restoring a larger number of packages, as on a build server.</span></span> <span data-ttu-id="0ee4a-227">如需這些機制的詳細資訊，請參閱[管理全域套件和快取資料夾](consume-packages/managing-the-global-packages-and-cache-folders.md)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-227">For more details on these mechanisms, see [Managing the global packages and cache folders](consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="0ee4a-228">在個別專案中，NuGet 會管理整體相依性關係圖，同樣包含將多個參考解析為相同套件的不同版本。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-228">Within an individual project, NuGet manages the overall dependency graph, which again includes resolving multiple references to different versions of the same package.</span></span> <span data-ttu-id="0ee4a-229">專案經常需要採用與一或多個本身具有相同相依性之套件的相依性。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-229">It's quite common that a project takes a dependency on one or more packages that themselves have the same dependencies.</span></span> <span data-ttu-id="0ee4a-230">許多其他套件都會採用 nuget.org 上的一些最實用公用程式套件。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-230">Some of the most useful utility packages on nuget.org are employed by many other packages.</span></span> <span data-ttu-id="0ee4a-231">在整個相依性關係圖中，您接著就能輕鬆地擁有相同套件之不同版本的十個不同參考。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-231">In the entire dependency graph, then, you could easily have ten different references to different versions of the same package.</span></span> <span data-ttu-id="0ee4a-232">為了避免將該套件的多個版本帶入應用程式本身，NuGet 會找出所有取用者都可使用的單一版本 </span><span class="sxs-lookup"><span data-stu-id="0ee4a-232">To avoid bringing multiple versions of that package into the application itself, NuGet sorts out which single version can be used by all consumers.</span></span> <span data-ttu-id="0ee4a-233">(如需詳細資訊，請參閱[相依性解析](concepts/dependency-resolution.md))。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-233">(For more information, see [Dependency Resolution](concepts/dependency-resolution.md).)</span></span>

<span data-ttu-id="0ee4a-234">除此之外，NuGet 會維護封裝結構的所有相關規格 (包括 [當地語系化](create-packages/creating-localized-packages.md) 和 [偵錯工具符號](create-packages/symbol-packages-snupkg.md)) 以及如何 [參考](consume-packages/package-references-in-project-files.md) 它們 (包括 [版本範圍](concepts/package-versioning.md#version-ranges) 和 [發行前版本](create-packages/prerelease-packages.md)。 ) NuGet 也提供各種 api 來以程式設計方式處理其服務，並為撰寫 Visual Studio 延伸模組和專案範本的開發人員提供支援。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-234">Beyond that, NuGet maintains all the specifications related to how packages are structured (including [localization](create-packages/creating-localized-packages.md) and [debug symbols](create-packages/symbol-packages-snupkg.md)) and how they are [referenced](consume-packages/package-references-in-project-files.md) (including [version ranges](concepts/package-versioning.md#version-ranges) and [pre-release versions](create-packages/prerelease-packages.md).) NuGet also provides various APIs to work with its services programmatically, and provides support for developers who write Visual Studio extensions and project templates.</span></span>

<span data-ttu-id="0ee4a-235">請花一點時間瀏覽此文件的目錄，您會在那裡看到所有呈現的功能，以及回溯到 NuGet 開始的版本資訊。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-235">Take a moment to browse the table of contents for this documentation, and you see all of these capabilities represented there, along with release notes dating back to NuGet's beginnings.</span></span>

## <a name="related-video"></a><span data-ttu-id="0ee4a-236">相關影片</span><span class="sxs-lookup"><span data-stu-id="0ee4a-236">Related video</span></span>

> [!Video https://channel9.msdn.com/Series/NuGet-101/What-is-NuGet-1-of-5/player]

<span data-ttu-id="0ee4a-237">在 [Channel 9](https://channel9.msdn.com/Series/NuGet-101) 和 [YouTube](https://www.youtube.com/playlist?list=PLdo4fOcmZ0oVLvfkFk8O9h6v2Dcdh2bh_)上尋找更多的 NuGet 影片。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-237">Find more NuGet videos on [Channel 9](https://channel9.msdn.com/Series/NuGet-101) and [YouTube](https://www.youtube.com/playlist?list=PLdo4fOcmZ0oVLvfkFk8O9h6v2Dcdh2bh_).</span></span>

## <a name="comments-contributions-and-issues"></a><span data-ttu-id="0ee4a-238">意見、參與和問題</span><span class="sxs-lookup"><span data-stu-id="0ee4a-238">Comments, contributions, and issues</span></span>

<span data-ttu-id="0ee4a-239">最後，我們十分歡迎對本文件的意見和參與&mdash;只要選取任何頁面頂端的 [意見反應] 和 [編輯] 命令，或瀏覽 GitHub 上的[文件存放庫](https://github.com/NuGet/docs.microsoft.com-nuget/) \(英文\) 和[文件問題清單](https://github.com/NuGet/docs.microsoft.com-nuget/issues) \(英文\)。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-239">Finally, we very much welcome comments and contributions to this documentation&mdash;just select the **Feedback** and **Edit** commands on the top of any page, or visit the [docs repository](https://github.com/NuGet/docs.microsoft.com-nuget/) and [docs issue list](https://github.com/NuGet/docs.microsoft.com-nuget/issues) on GitHub.</span></span>

<span data-ttu-id="0ee4a-240">我們也歡迎透過[各種 GitHub 存放庫](https://github.com/NuGet/Home) \(英文\) 來參與 NuGet 本身；在 [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues) \(英文\) 可以找到 NuGet 問題。</span><span class="sxs-lookup"><span data-stu-id="0ee4a-240">We also welcome contributions to NuGet itself through its [various GitHub repositories](https://github.com/NuGet/Home); NuGet issues can be found on [https://github.com/NuGet/home/issues](https://github.com/NuGet/home/issues).</span></span>

<span data-ttu-id="0ee4a-241">享受 NuGet 體驗！</span><span class="sxs-lookup"><span data-stu-id="0ee4a-241">Enjoy your NuGet experience!</span></span>
