---
title: NuGet 伺服器 API 總覽
description: NuGet 伺服器 API 是一組 HTTP 端點，可用來下載套件、提取中繼資料、發佈新的封裝等等。
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: aacf56a5dc5af9abf6f60d42bc7fd530a128d0d8
ms.sourcegitcommit: b138bc1d49fbf13b63d975c581a53be4283b7ebf
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/03/2020
ms.locfileid: "93237805"
---
# <a name="nuget-server-api"></a><span data-ttu-id="1b2ce-103">NuGet 伺服器 API</span><span class="sxs-lookup"><span data-stu-id="1b2ce-103">NuGet Server API</span></span>

<span data-ttu-id="1b2ce-104">NuGet 伺服器 API 是一組 HTTP 端點，可用來下載套件、提取中繼資料、發佈新的封裝，以及執行官方 NuGet 用戶端中其他可用的其他作業。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-104">The NuGet Server API is a set of HTTP endpoints that can be used to download packages, fetch metadata, publish new packages, and perform most other operations available in the official NuGet clients.</span></span>

<span data-ttu-id="1b2ce-105">Visual Studio、nuget.exe 和 .NET CLI 中的 NuGet 用戶端會使用此 API 來執行 NuGet 作業 [`dotnet restore`](/dotnet/core/tools/dotnet-restore?tabs=netcore2x) ，例如，在 VISUAL STUDIO UI 中搜尋，以及 [`nuget.exe push`](../reference/cli-reference/cli-ref-push.md) 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-105">This API is used by the NuGet client in Visual Studio, nuget.exe, and the .NET CLI to perform NuGet operations such as [`dotnet restore`](/dotnet/core/tools/dotnet-restore?tabs=netcore2x), search in the Visual Studio UI, and [`nuget.exe push`](../reference/cli-reference/cli-ref-push.md).</span></span>

<span data-ttu-id="1b2ce-106">請注意，在某些情況下，nuget.org 具有其他套件來源未強制執行的其他需求。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-106">Note in some cases, nuget.org has additional requirements that are not enforced by other package sources.</span></span> <span data-ttu-id="1b2ce-107">這些差異記載于 [Nuget.org 通訊協定](nuget-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-107">These differences are documented by the [nuget.org Protocols](nuget-protocols.md).</span></span>

<span data-ttu-id="1b2ce-108">如需簡單列舉和下載可用 nuget.exe 版本，請參閱端點 [ 上的tools.js](tools-json.md) 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-108">For a simple enumeration and download of available nuget.exe versions, see the [tools.json](tools-json.md) endpoint.</span></span>

## <a name="service-index"></a><span data-ttu-id="1b2ce-109">服務索引</span><span class="sxs-lookup"><span data-stu-id="1b2ce-109">Service index</span></span>

<span data-ttu-id="1b2ce-110">API 的進入點是已知位置中的 JSON 檔。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-110">The entry point for the API is a JSON document in a well known location.</span></span> <span data-ttu-id="1b2ce-111">這份檔稱為「 **服務索引** 」。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-111">This document is called the **service index** .</span></span> <span data-ttu-id="1b2ce-112">Nuget.org 服務索引的位置是 `https://api.nuget.org/v3/index.json` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-112">The location of the service index for nuget.org is `https://api.nuget.org/v3/index.json`.</span></span>

<span data-ttu-id="1b2ce-113">此 JSON 檔包含的 *資源清單* 可提供不同的功能，並滿足不同的使用案例。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-113">This JSON document contains a list of *resources* which provide different functionality and fulfill different use cases.</span></span>

<span data-ttu-id="1b2ce-114">支援 API 的用戶端應接受其中一或多個服務索引 URL，以作為連接到個別套件來源的方法。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-114">Clients that support the API should accept one or more of these service index URL as the means of connecting to the respective package sources.</span></span>

<span data-ttu-id="1b2ce-115">如需有關服務索引的詳細資訊，請參閱 [其 API 參考](service-index.md)。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-115">For more information about the service index, see [its API reference](service-index.md).</span></span>

## <a name="versioning"></a><span data-ttu-id="1b2ce-116">版本控制</span><span class="sxs-lookup"><span data-stu-id="1b2ce-116">Versioning</span></span>

<span data-ttu-id="1b2ce-117">API 是 NuGet HTTP 通訊協定第3版。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-117">The API is version 3 of NuGet's HTTP protocol.</span></span> <span data-ttu-id="1b2ce-118">此通訊協定有時稱為「V3 API」。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-118">This protocol is sometimes referred to as "the V3 API".</span></span> <span data-ttu-id="1b2ce-119">這些參考檔將會以「API」的形式來參考此版本的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-119">These reference documents will refer to this version of the protocol simply as "the API."</span></span>

<span data-ttu-id="1b2ce-120">服務索引架構版本是由 `version` 服務索引中的屬性所表示。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-120">The service index schema version is indicated by the `version` property in the service index.</span></span> <span data-ttu-id="1b2ce-121">API 會要求版本字串具有的主要版本號碼 `3` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-121">The API mandates that the version string has a major version number of `3`.</span></span> <span data-ttu-id="1b2ce-122">對服務索引架構進行非中斷的變更時，將會增加版本字串的次要版本。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-122">As non-breaking changes are made to the service index schema, the version string's minor version will be increased.</span></span>

<span data-ttu-id="1b2ce-123">較舊的用戶端 (例如 nuget.exe 2.x) 不支援 V3 API，而且僅支援舊版 V2 API，此處並未記載。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-123">Older clients (such as nuget.exe 2.x) do not support the V3 API and only support the older V2 API, which is not documented here.</span></span>

<span data-ttu-id="1b2ce-124">NuGet V3 API 的命名方式為，因為它是 V2 API 的後續版本，也就是由2.x 版的官方 NuGet 用戶端所執行的 OData 型通訊協定。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-124">The NuGet V3 API is named as such because it's the successor of the V2 API, which was the OData-based protocol implemented by the 2.x version of the official NuGet client.</span></span> <span data-ttu-id="1b2ce-125">第3版的正式 NuGet 用戶端3.0 支援 V3 API，但它仍然是 NuGet 用戶端、4.0 和 on 所支援的最新主要通訊協定版本。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-125">The V3 API was first supported by the 3.0 version of the official NuGet client and is still the latest major protocol version supported by the NuGet client, 4.0 and on.</span></span> 

<span data-ttu-id="1b2ce-126">自第一次發行之後，已對 API 進行了非中斷的通訊協定變更。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-126">Non-breaking protocol changes have been made to the API since it was first released.</span></span>

## <a name="resources-and-schema"></a><span data-ttu-id="1b2ce-127">資源和架構</span><span class="sxs-lookup"><span data-stu-id="1b2ce-127">Resources and schema</span></span>

<span data-ttu-id="1b2ce-128">**服務索引** 會描述各種不同的資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-128">The **service index** describes a variety of resources.</span></span> <span data-ttu-id="1b2ce-129">目前支援的資源集如下所示：</span><span class="sxs-lookup"><span data-stu-id="1b2ce-129">The current set of supported resources are as follows:</span></span>

<span data-ttu-id="1b2ce-130">資源名稱</span><span class="sxs-lookup"><span data-stu-id="1b2ce-130">Resource name</span></span>                                                        | <span data-ttu-id="1b2ce-131">必要</span><span class="sxs-lookup"><span data-stu-id="1b2ce-131">Required</span></span> | <span data-ttu-id="1b2ce-132">描述</span><span class="sxs-lookup"><span data-stu-id="1b2ce-132">Description</span></span>
-------------------------------------------------------------------- | -------- | -----------
[<span data-ttu-id="1b2ce-133">目錄</span><span class="sxs-lookup"><span data-stu-id="1b2ce-133">Catalog</span></span>](catalog-resource.md)                                       | <span data-ttu-id="1b2ce-134">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-134">no</span></span>       | <span data-ttu-id="1b2ce-135">所有封裝事件的完整記錄。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-135">Full record of all package events.</span></span>
[<span data-ttu-id="1b2ce-136">PackageBaseAddress</span><span class="sxs-lookup"><span data-stu-id="1b2ce-136">PackageBaseAddress</span></span>](package-base-address-resource.md)               | <span data-ttu-id="1b2ce-137">yes</span><span class="sxs-lookup"><span data-stu-id="1b2ce-137">yes</span></span>      | <span data-ttu-id="1b2ce-138">取得套件內容 ( nupkg) 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-138">Get package content (.nupkg).</span></span>
[<span data-ttu-id="1b2ce-139">PackageDetailsUriTemplate</span><span class="sxs-lookup"><span data-stu-id="1b2ce-139">PackageDetailsUriTemplate</span></span>](package-details-template-resource.md)    | <span data-ttu-id="1b2ce-140">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-140">no</span></span>       | <span data-ttu-id="1b2ce-141">建立 URL 以存取套件詳細資料網頁。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-141">Construct a URL to access a package details web page.</span></span>
[<span data-ttu-id="1b2ce-142">PackagePublish</span><span class="sxs-lookup"><span data-stu-id="1b2ce-142">PackagePublish</span></span>](package-publish-resource.md)                        | <span data-ttu-id="1b2ce-143">yes</span><span class="sxs-lookup"><span data-stu-id="1b2ce-143">yes</span></span>      | <span data-ttu-id="1b2ce-144">推送和刪除 (或取消列出) 套件。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-144">Push and delete (or unlist) packages.</span></span>
[<span data-ttu-id="1b2ce-145">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="1b2ce-145">RegistrationsBaseUrl</span></span>](registration-base-url-resource.md)            | <span data-ttu-id="1b2ce-146">yes</span><span class="sxs-lookup"><span data-stu-id="1b2ce-146">yes</span></span>      | <span data-ttu-id="1b2ce-147">取得套件中繼資料。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-147">Get package metadata.</span></span>
[<span data-ttu-id="1b2ce-148">ReportAbuseUriTemplate</span><span class="sxs-lookup"><span data-stu-id="1b2ce-148">ReportAbuseUriTemplate</span></span>](report-abuse-resource.md)                   | <span data-ttu-id="1b2ce-149">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-149">no</span></span>       | <span data-ttu-id="1b2ce-150">建立 URL 以存取報告不當使用的網頁。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-150">Construct a URL to access a report abuse web page.</span></span>
[<span data-ttu-id="1b2ce-151">RepositorySignatures</span><span class="sxs-lookup"><span data-stu-id="1b2ce-151">RepositorySignatures</span></span>](repository-signatures-resource.md)            | <span data-ttu-id="1b2ce-152">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-152">no</span></span>       | <span data-ttu-id="1b2ce-153">取得用於儲存機制簽署的憑證。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-153">Get certificates used for repository signing.</span></span>
[<span data-ttu-id="1b2ce-154">SearchAutocompleteService</span><span class="sxs-lookup"><span data-stu-id="1b2ce-154">SearchAutocompleteService</span></span>](search-autocomplete-service-resource.md) | <span data-ttu-id="1b2ce-155">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-155">no</span></span>       | <span data-ttu-id="1b2ce-156">依子字串探索套件識別碼和版本。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-156">Discover package IDs and versions by substring.</span></span>
[<span data-ttu-id="1b2ce-157">SearchQueryService</span><span class="sxs-lookup"><span data-stu-id="1b2ce-157">SearchQueryService</span></span>](search-query-service-resource.md)               | <span data-ttu-id="1b2ce-158">yes</span><span class="sxs-lookup"><span data-stu-id="1b2ce-158">yes</span></span>      | <span data-ttu-id="1b2ce-159">依關鍵字篩選和搜尋封裝。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-159">Filter and search for packages by keyword.</span></span>
[<span data-ttu-id="1b2ce-160">SymbolPackagePublish</span><span class="sxs-lookup"><span data-stu-id="1b2ce-160">SymbolPackagePublish</span></span>](symbol-package-publish-resource.md)           | <span data-ttu-id="1b2ce-161">否</span><span class="sxs-lookup"><span data-stu-id="1b2ce-161">no</span></span>       | <span data-ttu-id="1b2ce-162">推送符號套件。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-162">Push symbol packages.</span></span>

<span data-ttu-id="1b2ce-163">一般而言，API 資源所傳回的所有非二進位資料都會使用 JSON 進行序列化。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-163">In general, all non-binary data returned by a API resource are serialized using JSON.</span></span> <span data-ttu-id="1b2ce-164">服務索引中每個資源所傳回的回應架構會針對該資源個別定義。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-164">The response schema returned by each resource in the service index is defined individually for that resource.</span></span> <span data-ttu-id="1b2ce-165">如需有關每個資源的詳細資訊，請參閱以上所列的主題。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-165">For more information about each resource, see the topics listed above.</span></span>

<span data-ttu-id="1b2ce-166">未來當通訊協定演進時，可能會將新的屬性新增至 JSON 回應。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-166">In the future, as the protocol evolves, new properties may be added to JSON responses.</span></span> <span data-ttu-id="1b2ce-167">為了讓用戶端能夠進行更好的驗證，此實行不應假設回應架構是最終的，且不能包含額外的資料。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-167">For the client to be future-proof, the implementation should not assume that the response schema is final and cannot include extra data.</span></span> <span data-ttu-id="1b2ce-168">應忽略此執行不了解的所有屬性。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-168">All properties that the implementation does not understand should be ignored.</span></span>

> [!Note]
> <span data-ttu-id="1b2ce-169">當來源未執行 `SearchAutocompleteService` 任何自動完成的行為時，應正常停用。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-169">When a source does not implement `SearchAutocompleteService` any autocomplete behavior should be disabled gracefully.</span></span> <span data-ttu-id="1b2ce-170">當未 `ReportAbuseUriTemplate` 執行時，官方 nuget 用戶端會切換回 nuget。組織的報告濫用 URL (由 [NuGet/Home # 4924](https://github.com/NuGet/Home/issues/4924)) 追蹤。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-170">When `ReportAbuseUriTemplate` is not implemented, the official NuGet client falls back to nuget.org's report abuse URL (tracked by [NuGet/Home#4924](https://github.com/NuGet/Home/issues/4924)).</span></span> <span data-ttu-id="1b2ce-171">其他用戶端可能會選擇單純地不要向使用者顯示報告濫用 URL。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-171">Other clients may opt to simply not show a report abuse URL to the user.</span></span>

### <a name="undocumented-resources-on-nugetorg"></a><span data-ttu-id="1b2ce-172">Nuget.org 上未記載的資源</span><span class="sxs-lookup"><span data-stu-id="1b2ce-172">Undocumented resources on nuget.org</span></span>

<span data-ttu-id="1b2ce-173">Nuget.org 上的 V3 服務索引有一些先前未記載的資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-173">The V3 service index on nuget.org has some resources that are not documented above.</span></span> <span data-ttu-id="1b2ce-174">沒有記錄資源的原因有很多。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-174">There are a few reasons for not documenting a resource.</span></span>

<span data-ttu-id="1b2ce-175">首先，我們不會記錄用來作為 nuget.org 之執行詳細資料的資源。 `SearchGalleryQueryService` 屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-175">First, we don't document resources used as an implementation detail of nuget.org. The `SearchGalleryQueryService` falls into this category.</span></span> <span data-ttu-id="1b2ce-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery) 會使用此資源將某些 V2 (OData) 查詢委派給搜尋索引，而不是使用資料庫。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery) uses this resource to delegate some V2 (OData) queries to our search index instead of using the database.</span></span> <span data-ttu-id="1b2ce-177">這項資源是為了因應擴充性而引進的，並非供外部使用。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-177">This resource was introduced for scalability reasons and is not intended for external use.</span></span>

<span data-ttu-id="1b2ce-178">其次，我們不會記錄未隨附于 RTM 版官方用戶端的資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-178">Second, we don't document resources that never shipped in an RTM version of the official client.</span></span>
<span data-ttu-id="1b2ce-179">`PackageDisplayMetadataUriTemplate` 並 `PackageVersionDisplayMetadataUriTemplate` 屬於這個類別。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-179">`PackageDisplayMetadataUriTemplate` and `PackageVersionDisplayMetadataUriTemplate` fall into this category.</span></span>

<span data-ttu-id="1b2ce-180">Etag，我們不會記錄與 V2 通訊協定緊密結合的資源，而這些資源本身是刻意未記載的。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-180">Thirdly, we don't document resources that are tightly coupled with the V2 protocol, which itself is intentionally undocumented.</span></span> <span data-ttu-id="1b2ce-181">`LegacyGallery`資源會落在此類別中。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-181">The `LegacyGallery` resource falls into this category.</span></span> <span data-ttu-id="1b2ce-182">此資源可讓 V3 服務索引指向對應的 V2 來源 URL。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-182">This resource allows a V3 service index to point to a corresponding V2 source URL.</span></span> <span data-ttu-id="1b2ce-183">此資源支援 `nuget.exe list` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-183">This resource supports the `nuget.exe list`.</span></span>

<span data-ttu-id="1b2ce-184">如果此處未記載資源， *強烈* 建議您不要相依于這些資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-184">If a resource is not documented here, we *strongly* recommend that you do not take a dependency on them.</span></span> <span data-ttu-id="1b2ce-185">我們可能會移除或變更這些未記載資源的行為，這些資源可能會以非預期的方式中斷您的執行。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-185">We may remove or change the behavior of these undocumented resources which could break your implementation in unexpected ways.</span></span>

## <a name="timestamps"></a><span data-ttu-id="1b2ce-186">時間戳記</span><span class="sxs-lookup"><span data-stu-id="1b2ce-186">Timestamps</span></span>

<span data-ttu-id="1b2ce-187">API 所傳回的所有時間戳記都是 UTC，或使用 [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) 標記法來指定。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-187">All timestamps returned by the API are UTC or are otherwise specified using [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) representation.</span></span> 

## <a name="http-methods"></a><span data-ttu-id="1b2ce-188">HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="1b2ce-188">HTTP methods</span></span>

<span data-ttu-id="1b2ce-189">動詞命令</span><span class="sxs-lookup"><span data-stu-id="1b2ce-189">Verb</span></span>   | <span data-ttu-id="1b2ce-190">使用</span><span class="sxs-lookup"><span data-stu-id="1b2ce-190">Use</span></span>
------ | -----------
<span data-ttu-id="1b2ce-191">GET</span><span class="sxs-lookup"><span data-stu-id="1b2ce-191">GET</span></span>    | <span data-ttu-id="1b2ce-192">執行唯讀操作，通常會抓取資料。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-192">Performs a read-only operation, typically retrieving data.</span></span>
<span data-ttu-id="1b2ce-193">HEAD</span><span class="sxs-lookup"><span data-stu-id="1b2ce-193">HEAD</span></span>   | <span data-ttu-id="1b2ce-194">提取對應要求的回應標頭 `GET` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-194">Fetches the response headers for the corresponding `GET` request.</span></span>
<span data-ttu-id="1b2ce-195">PUT</span><span class="sxs-lookup"><span data-stu-id="1b2ce-195">PUT</span></span>    | <span data-ttu-id="1b2ce-196">建立不存在的資源，如果存在，則會加以更新。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-196">Creates a resource that doesn't exist or, if it does exist, updates it.</span></span> <span data-ttu-id="1b2ce-197">有些資源可能不支援更新。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-197">Some resources may not support update.</span></span>
<span data-ttu-id="1b2ce-198">刪除</span><span class="sxs-lookup"><span data-stu-id="1b2ce-198">DELETE</span></span> | <span data-ttu-id="1b2ce-199">刪除或取消列出資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-199">Deletes or unlists a resource.</span></span>

## <a name="http-status-codes"></a><span data-ttu-id="1b2ce-200">HTTP 狀態碼</span><span class="sxs-lookup"><span data-stu-id="1b2ce-200">HTTP status codes</span></span>

<span data-ttu-id="1b2ce-201">程式碼</span><span class="sxs-lookup"><span data-stu-id="1b2ce-201">Code</span></span> | <span data-ttu-id="1b2ce-202">描述</span><span class="sxs-lookup"><span data-stu-id="1b2ce-202">Description</span></span>
---- | -----
<span data-ttu-id="1b2ce-203">200</span><span class="sxs-lookup"><span data-stu-id="1b2ce-203">200</span></span>  | <span data-ttu-id="1b2ce-204">成功，而且有回應主體。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-204">Success, and there is a response body.</span></span>
<span data-ttu-id="1b2ce-205">201</span><span class="sxs-lookup"><span data-stu-id="1b2ce-205">201</span></span>  | <span data-ttu-id="1b2ce-206">成功，而且已建立資源。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-206">Success, and the resource was created.</span></span>
<span data-ttu-id="1b2ce-207">202</span><span class="sxs-lookup"><span data-stu-id="1b2ce-207">202</span></span>  | <span data-ttu-id="1b2ce-208">成功，已接受要求，但部分工作可能仍未完成，並以非同步方式完成。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-208">Success, the request has been accepted but some work may still be incomplete and completed asynchronously.</span></span>
<span data-ttu-id="1b2ce-209">204</span><span class="sxs-lookup"><span data-stu-id="1b2ce-209">204</span></span>  | <span data-ttu-id="1b2ce-210">成功，但沒有回應主體。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-210">Success, but there is no response body.</span></span>
<span data-ttu-id="1b2ce-211">301</span><span class="sxs-lookup"><span data-stu-id="1b2ce-211">301</span></span>  | <span data-ttu-id="1b2ce-212">永久重新導向。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-212">A permanent redirect.</span></span>
<span data-ttu-id="1b2ce-213">302</span><span class="sxs-lookup"><span data-stu-id="1b2ce-213">302</span></span>  | <span data-ttu-id="1b2ce-214">暫時重新導向。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-214">A temporary redirect.</span></span>
<span data-ttu-id="1b2ce-215">400</span><span class="sxs-lookup"><span data-stu-id="1b2ce-215">400</span></span>  | <span data-ttu-id="1b2ce-216">URL 或要求主體中的參數無效。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-216">The parameters in the URL or in the request body aren't valid.</span></span>
<span data-ttu-id="1b2ce-217">401</span><span class="sxs-lookup"><span data-stu-id="1b2ce-217">401</span></span>  | <span data-ttu-id="1b2ce-218">提供的認證無效。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-218">The provided credentials are invalid.</span></span>
<span data-ttu-id="1b2ce-219">403</span><span class="sxs-lookup"><span data-stu-id="1b2ce-219">403</span></span>  | <span data-ttu-id="1b2ce-220">提供的認證不允許此動作。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-220">The action is not allowed given the provided credentials.</span></span>
<span data-ttu-id="1b2ce-221">404</span><span class="sxs-lookup"><span data-stu-id="1b2ce-221">404</span></span>  | <span data-ttu-id="1b2ce-222">所要求的資源不存在。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-222">The requested resource doesn't exist.</span></span>
<span data-ttu-id="1b2ce-223">409</span><span class="sxs-lookup"><span data-stu-id="1b2ce-223">409</span></span>  | <span data-ttu-id="1b2ce-224">要求與現有的資源發生衝突。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-224">The request conflicts with an existing resource.</span></span>
<span data-ttu-id="1b2ce-225">500</span><span class="sxs-lookup"><span data-stu-id="1b2ce-225">500</span></span>  | <span data-ttu-id="1b2ce-226">服務發生未預期的錯誤。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-226">The service has encountered an unexpected error.</span></span>
<span data-ttu-id="1b2ce-227">503</span><span class="sxs-lookup"><span data-stu-id="1b2ce-227">503</span></span>  | <span data-ttu-id="1b2ce-228">服務暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-228">The service is temporarily unavailable.</span></span>

<span data-ttu-id="1b2ce-229">對 `GET` API 端點提出的任何要求，都可能會傳回 HTTP 重新導向 (301 或 302) 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-229">Any `GET` request made to a API endpoint may return an HTTP redirect (301 or 302).</span></span> <span data-ttu-id="1b2ce-230">用戶端應該藉由觀察 `Location` 標頭併發出後續的來適當地處理這類重新導向 `GET` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-230">Clients should gracefully handle such redirects by observing the `Location` header and issuing a subsequent `GET`.</span></span> <span data-ttu-id="1b2ce-231">關於特定端點的檔將不會明確地呼叫可使用重新導向的位置。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-231">Documentation concerning specific endpoints will not explicitly call out where redirects may be used.</span></span>

<span data-ttu-id="1b2ce-232">在500層級狀態碼的情況下，用戶端可以執行合理的重試機制。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-232">In the case of a 500-level status code, the client can implement a reasonable retry mechanism.</span></span> <span data-ttu-id="1b2ce-233">官方 NuGet 用戶端在遇到任何500層級的狀態碼或 TCP/DNS 錯誤時，會重試三次。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-233">The official NuGet client retries three times when encountering any 500-level status code or TCP/DNS error.</span></span>

## <a name="http-request-headers"></a><span data-ttu-id="1b2ce-234">HTTP 要求標頭</span><span class="sxs-lookup"><span data-stu-id="1b2ce-234">HTTP request headers</span></span>

<span data-ttu-id="1b2ce-235">Name</span><span class="sxs-lookup"><span data-stu-id="1b2ce-235">Name</span></span>                     | <span data-ttu-id="1b2ce-236">描述</span><span class="sxs-lookup"><span data-stu-id="1b2ce-236">Description</span></span>
------------------------ | -----------
<span data-ttu-id="1b2ce-237">X-NuGet-ApiKey</span><span class="sxs-lookup"><span data-stu-id="1b2ce-237">X-NuGet-ApiKey</span></span>           | <span data-ttu-id="1b2ce-238">推送和刪除的必要參數，請參閱[ `PackagePublish` 資源](package-publish-resource.md)</span><span class="sxs-lookup"><span data-stu-id="1b2ce-238">Required for push and delete, see [`PackagePublish` resource](package-publish-resource.md)</span></span>
<span data-ttu-id="1b2ce-239">X-NuGet-用戶端版本</span><span class="sxs-lookup"><span data-stu-id="1b2ce-239">X-NuGet-Client-Version</span></span>   | <span data-ttu-id="1b2ce-240">已 **淘汰** 並取代為`X-NuGet-Protocol-Version`</span><span class="sxs-lookup"><span data-stu-id="1b2ce-240">**Deprecated** and replaced by `X-NuGet-Protocol-Version`</span></span>
<span data-ttu-id="1b2ce-241">X-NuGet-通訊協定版本</span><span class="sxs-lookup"><span data-stu-id="1b2ce-241">X-NuGet-Protocol-Version</span></span> | <span data-ttu-id="1b2ce-242">只有 nuget.org 上的某些情況下才需要，請參閱 [nuget.org 通訊協定](NuGet-Protocols.md)</span><span class="sxs-lookup"><span data-stu-id="1b2ce-242">Required in certain cases only on nuget.org, see [nuget.org protocols](NuGet-Protocols.md)</span></span>
<span data-ttu-id="1b2ce-243">X-NuGet-會話識別碼</span><span class="sxs-lookup"><span data-stu-id="1b2ce-243">X-NuGet-Session-Id</span></span>       | <span data-ttu-id="1b2ce-244">*選擇項* 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-244">*Optional* .</span></span> <span data-ttu-id="1b2ce-245">NuGet 用戶端 4.7 + 識別屬於相同 NuGet 用戶端會話的 HTTP 要求。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-245">NuGet clients v4.7+ identify HTTP requests that are part of the same NuGet client session.</span></span>

<span data-ttu-id="1b2ce-246">`X-NuGet-Session-Id`對於與單一還原相關的所有作業，都有單一值 `PackageReference` 。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-246">The `X-NuGet-Session-Id` has a single value for all operations related to a single restore in `PackageReference`.</span></span> <span data-ttu-id="1b2ce-247">針對其他案例（例如自動完成和還原）， `packages.config` 可能會有數個不同的會話識別碼，原因是程式碼的因素。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-247">For other scenarios such as autocomplete and `packages.config` restore there may be several different session ID's due to how the code is factored.</span></span>

## <a name="authentication"></a><span data-ttu-id="1b2ce-248">驗證</span><span class="sxs-lookup"><span data-stu-id="1b2ce-248">Authentication</span></span>

<span data-ttu-id="1b2ce-249">驗證會保留給套件來源執行，以進行定義。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-249">Authentication is left up to the package source implementation to define.</span></span> <span data-ttu-id="1b2ce-250">針對 nuget.org，只有 `PackagePublish` 資源需要透過特殊的 API 金鑰標頭進行驗證。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-250">For nuget.org, only the `PackagePublish` resource requires authentication via a special API key header.</span></span> <span data-ttu-id="1b2ce-251">請參閱[ `PackagePublish` 資源](package-publish-resource.md)以取得詳細資料。</span><span class="sxs-lookup"><span data-stu-id="1b2ce-251">See [`PackagePublish` resource](package-publish-resource.md) for details.</span></span>
