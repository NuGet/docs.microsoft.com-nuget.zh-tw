---
title: NuGet 伺服器 API 總覽
description: NuGet 伺服器 API 是一組 HTTP 端點, 可用來下載封裝、提取中繼資料、發佈新套件等等。
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: aacf56a5dc5af9abf6f60d42bc7fd530a128d0d8
ms.sourcegitcommit: e65180e622f6233b51bb0b41d0e919688083eb26
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/23/2019
ms.locfileid: "68419827"
---
# <a name="nuget-server-api"></a><span data-ttu-id="3aa95-103">NuGet 伺服器 API</span><span class="sxs-lookup"><span data-stu-id="3aa95-103">NuGet Server API</span></span>

<span data-ttu-id="3aa95-104">NuGet 伺服器 API 是一組 HTTP 端點, 可用來下載封裝、提取中繼資料、發佈新封裝, 以及執行官方 NuGet 用戶端中的大部分其他作業。</span><span class="sxs-lookup"><span data-stu-id="3aa95-104">The NuGet Server API is a set of HTTP endpoints that can be used to download packages, fetch metadata, publish new packages, and perform most other operations available in the official NuGet clients.</span></span>

<span data-ttu-id="3aa95-105">Visual Studio、nuget.exe 和 .net CLI 中的 nuget 用戶端會使用此 API 來執行 nuget 作業[`dotnet restore`](/dotnet/core/tools/dotnet-restore?tabs=netcore2x), 例如, 在 Visual Studio UI 中搜尋和。 [`nuget.exe push`](../reference/cli-reference/cli-ref-push.md)</span><span class="sxs-lookup"><span data-stu-id="3aa95-105">This API is used by the NuGet client in Visual Studio, nuget.exe, and the .NET CLI to perform NuGet operations such as [`dotnet restore`](/dotnet/core/tools/dotnet-restore?tabs=netcore2x), search in the Visual Studio UI, and [`nuget.exe push`](../reference/cli-reference/cli-ref-push.md).</span></span>

<span data-ttu-id="3aa95-106">請注意, 在某些情況下, nuget.org 有其他套件來源不會強制執行的其他需求。</span><span class="sxs-lookup"><span data-stu-id="3aa95-106">Note in some cases, nuget.org has additional requirements that are not enforced by other package sources.</span></span> <span data-ttu-id="3aa95-107">這些差異都是由[Nuget.org 通訊協定](nuget-protocols.md)所記載。</span><span class="sxs-lookup"><span data-stu-id="3aa95-107">These differences are documented by the [nuget.org Protocols](nuget-protocols.md).</span></span>

<span data-ttu-id="3aa95-108">如需簡單列舉和可下載可用的 nuget.exe 版本, 請參閱[tools. json](tools-json.md)端點。</span><span class="sxs-lookup"><span data-stu-id="3aa95-108">For a simple enumeration and download of available nuget.exe versions, see the [tools.json](tools-json.md) endpoint.</span></span>

## <a name="service-index"></a><span data-ttu-id="3aa95-109">服務索引</span><span class="sxs-lookup"><span data-stu-id="3aa95-109">Service index</span></span>

<span data-ttu-id="3aa95-110">API 的進入點是已知位置中的 JSON 檔。</span><span class="sxs-lookup"><span data-stu-id="3aa95-110">The entry point for the API is a JSON document in a well known location.</span></span> <span data-ttu-id="3aa95-111">這份檔稱為**服務索引**。</span><span class="sxs-lookup"><span data-stu-id="3aa95-111">This document is called the **service index**.</span></span> <span data-ttu-id="3aa95-112">Nuget.org 服務索引的位置是`https://api.nuget.org/v3/index.json`。</span><span class="sxs-lookup"><span data-stu-id="3aa95-112">The location of the service index for nuget.org is `https://api.nuget.org/v3/index.json`.</span></span>

<span data-ttu-id="3aa95-113">此 JSON 檔包含提供不同功能和滿足不同使用案例的*資源清單*。</span><span class="sxs-lookup"><span data-stu-id="3aa95-113">This JSON document contains a list of *resources* which provide different functionality and fulfill different use cases.</span></span>

<span data-ttu-id="3aa95-114">支援 API 的用戶端應該接受其中一或多個服務索引 URL, 做為連接到個別套件來源的方法。</span><span class="sxs-lookup"><span data-stu-id="3aa95-114">Clients that support the API should accept one or more of these service index URL as the means of connecting to the respective package sources.</span></span>

<span data-ttu-id="3aa95-115">如需服務索引的詳細資訊, 請參閱[其 API 參考](service-index.md)。</span><span class="sxs-lookup"><span data-stu-id="3aa95-115">For more information about the service index, see [its API reference](service-index.md).</span></span>

## <a name="versioning"></a><span data-ttu-id="3aa95-116">版本控制</span><span class="sxs-lookup"><span data-stu-id="3aa95-116">Versioning</span></span>

<span data-ttu-id="3aa95-117">API 是 NuGet 的 HTTP 通訊協定第3版。</span><span class="sxs-lookup"><span data-stu-id="3aa95-117">The API is version 3 of NuGet's HTTP protocol.</span></span> <span data-ttu-id="3aa95-118">此通訊協定有時稱為「V3 API」。</span><span class="sxs-lookup"><span data-stu-id="3aa95-118">This protocol is sometimes referred to as "the V3 API".</span></span> <span data-ttu-id="3aa95-119">這些參考檔將會參考此版本的通訊協定, 就像「API」一樣。</span><span class="sxs-lookup"><span data-stu-id="3aa95-119">These reference documents will refer to this version of the protocol simply as "the API."</span></span>

<span data-ttu-id="3aa95-120">服務索引架構版本是由服務索引中`version`的屬性所表示。</span><span class="sxs-lookup"><span data-stu-id="3aa95-120">The service index schema version is indicated by the `version` property in the service index.</span></span> <span data-ttu-id="3aa95-121">API 會要求版本字串具有的`3`主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="3aa95-121">The API mandates that the version string has a major version number of `3`.</span></span> <span data-ttu-id="3aa95-122">當對服務索引架構進行非重大變更時, 將會增加版本字串的次要版本。</span><span class="sxs-lookup"><span data-stu-id="3aa95-122">As non-breaking changes are made to the service index schema, the version string's minor version will be increased.</span></span>

<span data-ttu-id="3aa95-123">較舊的用戶端 (例如 nuget.exe 2.x) 不支援 V3 API, 而且只支援舊版 V2 API, 此處未記載。</span><span class="sxs-lookup"><span data-stu-id="3aa95-123">Older clients (such as nuget.exe 2.x) do not support the V3 API and only support the older V2 API, which is not documented here.</span></span>

<span data-ttu-id="3aa95-124">NuGet V3 API 的命名方式如下, 因為它是 V2 API 的後續版本, 這是由2.x 版的官方 NuGet 用戶端所實作為的 OData 通訊協定。</span><span class="sxs-lookup"><span data-stu-id="3aa95-124">The NuGet V3 API is named as such because it's the successor of the V2 API, which was the OData-based protocol implemented by the 2.x version of the official NuGet client.</span></span> <span data-ttu-id="3aa95-125">V3 API 第一次受到3.0 版官方 NuGet 用戶端支援, 而且仍然是 NuGet 用戶端、4.0 和上所支援的最新主要通訊協定版本。</span><span class="sxs-lookup"><span data-stu-id="3aa95-125">The V3 API was first supported by the 3.0 version of the official NuGet client and is still the latest major protocol version supported by the NuGet client, 4.0 and on.</span></span> 

<span data-ttu-id="3aa95-126">自第一次發行後, 已對 API 進行非中斷的通訊協定變更。</span><span class="sxs-lookup"><span data-stu-id="3aa95-126">Non-breaking protocol changes have been made to the API since it was first released.</span></span>

## <a name="resources-and-schema"></a><span data-ttu-id="3aa95-127">資源和架構</span><span class="sxs-lookup"><span data-stu-id="3aa95-127">Resources and schema</span></span>

<span data-ttu-id="3aa95-128">**服務索引**會描述各種不同的資源。</span><span class="sxs-lookup"><span data-stu-id="3aa95-128">The **service index** describes a variety of resources.</span></span> <span data-ttu-id="3aa95-129">目前支援的資源集如下所示:</span><span class="sxs-lookup"><span data-stu-id="3aa95-129">The current set of supported resources are as follows:</span></span>

<span data-ttu-id="3aa95-130">資源名稱</span><span class="sxs-lookup"><span data-stu-id="3aa95-130">Resource name</span></span>                                                        | <span data-ttu-id="3aa95-131">必要</span><span class="sxs-lookup"><span data-stu-id="3aa95-131">Required</span></span> | <span data-ttu-id="3aa95-132">描述</span><span class="sxs-lookup"><span data-stu-id="3aa95-132">Description</span></span>
-------------------------------------------------------------------- | -------- | -----------
[<span data-ttu-id="3aa95-133">目錄</span><span class="sxs-lookup"><span data-stu-id="3aa95-133">Catalog</span></span>](catalog-resource.md)                                       | <span data-ttu-id="3aa95-134">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-134">no</span></span>       | <span data-ttu-id="3aa95-135">所有封裝事件的完整記錄。</span><span class="sxs-lookup"><span data-stu-id="3aa95-135">Full record of all package events.</span></span>
[<span data-ttu-id="3aa95-136">PackageBaseAddress</span><span class="sxs-lookup"><span data-stu-id="3aa95-136">PackageBaseAddress</span></span>](package-base-address-resource.md)               | <span data-ttu-id="3aa95-137">是</span><span class="sxs-lookup"><span data-stu-id="3aa95-137">yes</span></span>      | <span data-ttu-id="3aa95-138">取得套件內容 (. nupkg)。</span><span class="sxs-lookup"><span data-stu-id="3aa95-138">Get package content (.nupkg).</span></span>
[<span data-ttu-id="3aa95-139">PackageDetailsUriTemplate</span><span class="sxs-lookup"><span data-stu-id="3aa95-139">PackageDetailsUriTemplate</span></span>](package-details-template-resource.md)    | <span data-ttu-id="3aa95-140">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-140">no</span></span>       | <span data-ttu-id="3aa95-141">建立 URL 以存取封裝詳細資料網頁。</span><span class="sxs-lookup"><span data-stu-id="3aa95-141">Construct a URL to access a package details web page.</span></span>
[<span data-ttu-id="3aa95-142">PackagePublish</span><span class="sxs-lookup"><span data-stu-id="3aa95-142">PackagePublish</span></span>](package-publish-resource.md)                        | <span data-ttu-id="3aa95-143">是</span><span class="sxs-lookup"><span data-stu-id="3aa95-143">yes</span></span>      | <span data-ttu-id="3aa95-144">推送和刪除 (或取消列出) 套件。</span><span class="sxs-lookup"><span data-stu-id="3aa95-144">Push and delete (or unlist) packages.</span></span>
[<span data-ttu-id="3aa95-145">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="3aa95-145">RegistrationsBaseUrl</span></span>](registration-base-url-resource.md)            | <span data-ttu-id="3aa95-146">是</span><span class="sxs-lookup"><span data-stu-id="3aa95-146">yes</span></span>      | <span data-ttu-id="3aa95-147">取得套件中繼資料。</span><span class="sxs-lookup"><span data-stu-id="3aa95-147">Get package metadata.</span></span>
[<span data-ttu-id="3aa95-148">ReportAbuseUriTemplate</span><span class="sxs-lookup"><span data-stu-id="3aa95-148">ReportAbuseUriTemplate</span></span>](report-abuse-resource.md)                   | <span data-ttu-id="3aa95-149">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-149">no</span></span>       | <span data-ttu-id="3aa95-150">建立 URL 以存取報告不當使用的網頁。</span><span class="sxs-lookup"><span data-stu-id="3aa95-150">Construct a URL to access a report abuse web page.</span></span>
[<span data-ttu-id="3aa95-151">RepositorySignatures</span><span class="sxs-lookup"><span data-stu-id="3aa95-151">RepositorySignatures</span></span>](repository-signatures-resource.md)            | <span data-ttu-id="3aa95-152">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-152">no</span></span>       | <span data-ttu-id="3aa95-153">取得用於存放庫簽署的憑證。</span><span class="sxs-lookup"><span data-stu-id="3aa95-153">Get certificates used for repository signing.</span></span>
[<span data-ttu-id="3aa95-154">SearchAutocompleteService</span><span class="sxs-lookup"><span data-stu-id="3aa95-154">SearchAutocompleteService</span></span>](search-autocomplete-service-resource.md) | <span data-ttu-id="3aa95-155">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-155">no</span></span>       | <span data-ttu-id="3aa95-156">依子字串探索套件識別碼和版本。</span><span class="sxs-lookup"><span data-stu-id="3aa95-156">Discover package IDs and versions by substring.</span></span>
[<span data-ttu-id="3aa95-157">SearchQueryService</span><span class="sxs-lookup"><span data-stu-id="3aa95-157">SearchQueryService</span></span>](search-query-service-resource.md)               | <span data-ttu-id="3aa95-158">是</span><span class="sxs-lookup"><span data-stu-id="3aa95-158">yes</span></span>      | <span data-ttu-id="3aa95-159">依關鍵字篩選及搜尋封裝。</span><span class="sxs-lookup"><span data-stu-id="3aa95-159">Filter and search for packages by keyword.</span></span>
[<span data-ttu-id="3aa95-160">SymbolPackagePublish</span><span class="sxs-lookup"><span data-stu-id="3aa95-160">SymbolPackagePublish</span></span>](symbol-package-publish-resource.md)           | <span data-ttu-id="3aa95-161">否</span><span class="sxs-lookup"><span data-stu-id="3aa95-161">no</span></span>       | <span data-ttu-id="3aa95-162">推送符號套件。</span><span class="sxs-lookup"><span data-stu-id="3aa95-162">Push symbol packages.</span></span>

<span data-ttu-id="3aa95-163">一般而言, API 資源傳回的所有非二進位資料都會使用 JSON 進行序列化。</span><span class="sxs-lookup"><span data-stu-id="3aa95-163">In general, all non-binary data returned by a API resource are serialized using JSON.</span></span> <span data-ttu-id="3aa95-164">服務索引中每個資源所傳回的回應架構, 會針對該資源個別定義。</span><span class="sxs-lookup"><span data-stu-id="3aa95-164">The response schema returned by each resource in the service index is defined individually for that resource.</span></span> <span data-ttu-id="3aa95-165">如需有關每個資源的詳細資訊, 請參閱上面所列的主題。</span><span class="sxs-lookup"><span data-stu-id="3aa95-165">For more information about each resource, see the topics listed above.</span></span>

<span data-ttu-id="3aa95-166">未來, 當通訊協定進化時, 可能會將新的屬性新增至 JSON 回應。</span><span class="sxs-lookup"><span data-stu-id="3aa95-166">In the future, as the protocol evolves, new properties may be added to JSON responses.</span></span> <span data-ttu-id="3aa95-167">若要讓用戶端成為未來的證明, 此執行應該不會假設回應架構是最終的, 而且不能包含額外的資料。</span><span class="sxs-lookup"><span data-stu-id="3aa95-167">For the client to be future-proof, the implementation should not assume that the response schema is final and cannot include extra data.</span></span> <span data-ttu-id="3aa95-168">應該忽略此實作為不了解的所有屬性。</span><span class="sxs-lookup"><span data-stu-id="3aa95-168">All properties that the implementation does not understand should be ignored.</span></span>

> [!Note]
> <span data-ttu-id="3aa95-169">當來源未執行`SearchAutocompleteService`任何自動完成的行為時, 應該會正常地停用。</span><span class="sxs-lookup"><span data-stu-id="3aa95-169">When a source does not implement `SearchAutocompleteService` any autocomplete behavior should be disabled gracefully.</span></span> <span data-ttu-id="3aa95-170">當`ReportAbuseUriTemplate`未實行時, 官方 nuget 用戶端會回到 nuget. 組織的報表濫用 URL (由[NuGet/Home # 4924](https://github.com/NuGet/Home/issues/4924)追蹤)。</span><span class="sxs-lookup"><span data-stu-id="3aa95-170">When `ReportAbuseUriTemplate` is not implemented, the official NuGet client falls back to nuget.org's report abuse URL (tracked by [NuGet/Home#4924](https://github.com/NuGet/Home/issues/4924)).</span></span> <span data-ttu-id="3aa95-171">其他用戶端可能只選擇不要向使用者顯示報告不當的 URL。</span><span class="sxs-lookup"><span data-stu-id="3aa95-171">Other clients may opt to simply not show a report abuse URL to the user.</span></span>

### <a name="undocumented-resources-on-nugetorg"></a><span data-ttu-id="3aa95-172">Nuget.org 上未記載的資源</span><span class="sxs-lookup"><span data-stu-id="3aa95-172">Undocumented resources on nuget.org</span></span>

<span data-ttu-id="3aa95-173">Nuget.org 上的 V3 服務索引有一些未記載的資源。</span><span class="sxs-lookup"><span data-stu-id="3aa95-173">The V3 service index on nuget.org has some resources that are not documented above.</span></span> <span data-ttu-id="3aa95-174">不記載資源有幾個原因。</span><span class="sxs-lookup"><span data-stu-id="3aa95-174">There are a few reasons for not documenting a resource.</span></span>

<span data-ttu-id="3aa95-175">首先, 我們不會記載用來作為 nuget.org 之執行詳細資料的資源。`SearchGalleryQueryService`屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="3aa95-175">First, we don't document resources used as an implementation detail of nuget.org. The `SearchGalleryQueryService` falls into this category.</span></span> <span data-ttu-id="3aa95-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery)會使用此資源將一些 V2 (OData) 查詢委派給我們的搜尋索引, 而不是使用資料庫。</span><span class="sxs-lookup"><span data-stu-id="3aa95-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery) uses this resource to delegate some V2 (OData) queries to our search index instead of using the database.</span></span> <span data-ttu-id="3aa95-177">這是基於擴充性的原因而引進的資源, 並非供外部使用。</span><span class="sxs-lookup"><span data-stu-id="3aa95-177">This resource was introduced for scalability reasons and is not intended for external use.</span></span>

<span data-ttu-id="3aa95-178">第二, 我們不記載官方用戶端 RTM 版本中從未發行的資源。</span><span class="sxs-lookup"><span data-stu-id="3aa95-178">Second, we don't document resources that never shipped in an RTM version of the official client.</span></span>
<span data-ttu-id="3aa95-179">`PackageDisplayMetadataUriTemplate`並`PackageVersionDisplayMetadataUriTemplate`屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="3aa95-179">`PackageDisplayMetadataUriTemplate` and `PackageVersionDisplayMetadataUriTemplate` fall into this category.</span></span>

<span data-ttu-id="3aa95-180">Etag, 我們不會記錄與 V2 通訊協定緊密結合的資源, 這本身是刻意記載的。</span><span class="sxs-lookup"><span data-stu-id="3aa95-180">Thirdly, we don't document resources that are tightly coupled with the V2 protocol, which itself is intentionally undocumented.</span></span> <span data-ttu-id="3aa95-181">`LegacyGallery`資源屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="3aa95-181">The `LegacyGallery` resource falls into this category.</span></span> <span data-ttu-id="3aa95-182">此資源可讓 V3 服務索引指向對應的 V2 來源 URL。</span><span class="sxs-lookup"><span data-stu-id="3aa95-182">This resource allows a V3 service index to point to a corresponding V2 source URL.</span></span> <span data-ttu-id="3aa95-183">此資源支援`nuget.exe list`。</span><span class="sxs-lookup"><span data-stu-id="3aa95-183">This resource supports the `nuget.exe list`.</span></span>

<span data-ttu-id="3aa95-184">如果資源未記載在此處, 我們*強烈*建議您不要依賴它們。</span><span class="sxs-lookup"><span data-stu-id="3aa95-184">If a resource is not documented here, we *strongly* recommend that you do not take a dependency on them.</span></span> <span data-ttu-id="3aa95-185">我們可能會移除或變更這些未記載資源的行為, 這可能會以非預期的方式中斷您的執行。</span><span class="sxs-lookup"><span data-stu-id="3aa95-185">We may remove or change the behavior of these undocumented resources which could break your implementation in unexpected ways.</span></span>

## <a name="timestamps"></a><span data-ttu-id="3aa95-186">時間戳記</span><span class="sxs-lookup"><span data-stu-id="3aa95-186">Timestamps</span></span>

<span data-ttu-id="3aa95-187">API 傳回的所有時間戳記都是 UTC, 否則會使用[ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html)標記法來指定。</span><span class="sxs-lookup"><span data-stu-id="3aa95-187">All timestamps returned by the API are UTC or are otherwise specified using [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) representation.</span></span> 

## <a name="http-methods"></a><span data-ttu-id="3aa95-188">HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="3aa95-188">HTTP methods</span></span>

<span data-ttu-id="3aa95-189">動詞</span><span class="sxs-lookup"><span data-stu-id="3aa95-189">Verb</span></span>   | <span data-ttu-id="3aa95-190">使用</span><span class="sxs-lookup"><span data-stu-id="3aa95-190">Use</span></span>
------ | -----------
<span data-ttu-id="3aa95-191">GET</span><span class="sxs-lookup"><span data-stu-id="3aa95-191">GET</span></span>    | <span data-ttu-id="3aa95-192">執行唯讀作業, 通常會抓取資料。</span><span class="sxs-lookup"><span data-stu-id="3aa95-192">Performs a read-only operation, typically retrieving data.</span></span>
<span data-ttu-id="3aa95-193">HEAD</span><span class="sxs-lookup"><span data-stu-id="3aa95-193">HEAD</span></span>   | <span data-ttu-id="3aa95-194">提取對應`GET`要求的回應標頭。</span><span class="sxs-lookup"><span data-stu-id="3aa95-194">Fetches the response headers for the corresponding `GET` request.</span></span>
<span data-ttu-id="3aa95-195">PUT</span><span class="sxs-lookup"><span data-stu-id="3aa95-195">PUT</span></span>    | <span data-ttu-id="3aa95-196">建立不存在的資源, 或如果存在, 則會加以更新。</span><span class="sxs-lookup"><span data-stu-id="3aa95-196">Creates a resource that doesn't exist or, if it does exist, updates it.</span></span> <span data-ttu-id="3aa95-197">某些資源可能不支援更新。</span><span class="sxs-lookup"><span data-stu-id="3aa95-197">Some resources may not support update.</span></span>
<span data-ttu-id="3aa95-198">DELETE</span><span class="sxs-lookup"><span data-stu-id="3aa95-198">DELETE</span></span> | <span data-ttu-id="3aa95-199">刪除或取消列出資源。</span><span class="sxs-lookup"><span data-stu-id="3aa95-199">Deletes or unlists a resource.</span></span>

## <a name="http-status-codes"></a><span data-ttu-id="3aa95-200">HTTP 狀態碼</span><span class="sxs-lookup"><span data-stu-id="3aa95-200">HTTP status codes</span></span>

<span data-ttu-id="3aa95-201">程式碼</span><span class="sxs-lookup"><span data-stu-id="3aa95-201">Code</span></span> | <span data-ttu-id="3aa95-202">描述</span><span class="sxs-lookup"><span data-stu-id="3aa95-202">Description</span></span>
---- | -----
<span data-ttu-id="3aa95-203">200</span><span class="sxs-lookup"><span data-stu-id="3aa95-203">200</span></span>  | <span data-ttu-id="3aa95-204">成功, 而且有回應主體。</span><span class="sxs-lookup"><span data-stu-id="3aa95-204">Success, and there is a response body.</span></span>
<span data-ttu-id="3aa95-205">201</span><span class="sxs-lookup"><span data-stu-id="3aa95-205">201</span></span>  | <span data-ttu-id="3aa95-206">成功, 並建立資源。</span><span class="sxs-lookup"><span data-stu-id="3aa95-206">Success, and the resource was created.</span></span>
<span data-ttu-id="3aa95-207">202</span><span class="sxs-lookup"><span data-stu-id="3aa95-207">202</span></span>  | <span data-ttu-id="3aa95-208">成功, 已接受要求, 但部分工作可能仍未完成, 且以非同步方式完成。</span><span class="sxs-lookup"><span data-stu-id="3aa95-208">Success, the request has been accepted but some work may still be incomplete and completed asynchronously.</span></span>
<span data-ttu-id="3aa95-209">204</span><span class="sxs-lookup"><span data-stu-id="3aa95-209">204</span></span>  | <span data-ttu-id="3aa95-210">成功, 但沒有回應主體。</span><span class="sxs-lookup"><span data-stu-id="3aa95-210">Success, but there is no response body.</span></span>
<span data-ttu-id="3aa95-211">301</span><span class="sxs-lookup"><span data-stu-id="3aa95-211">301</span></span>  | <span data-ttu-id="3aa95-212">永久重新導向。</span><span class="sxs-lookup"><span data-stu-id="3aa95-212">A permanent redirect.</span></span>
<span data-ttu-id="3aa95-213">302</span><span class="sxs-lookup"><span data-stu-id="3aa95-213">302</span></span>  | <span data-ttu-id="3aa95-214">暫時重新導向。</span><span class="sxs-lookup"><span data-stu-id="3aa95-214">A temporary redirect.</span></span>
<span data-ttu-id="3aa95-215">400</span><span class="sxs-lookup"><span data-stu-id="3aa95-215">400</span></span>  | <span data-ttu-id="3aa95-216">URL 或要求主體中的參數無效。</span><span class="sxs-lookup"><span data-stu-id="3aa95-216">The parameters in the URL or in the request body aren't valid.</span></span>
<span data-ttu-id="3aa95-217">401</span><span class="sxs-lookup"><span data-stu-id="3aa95-217">401</span></span>  | <span data-ttu-id="3aa95-218">提供的認證無效。</span><span class="sxs-lookup"><span data-stu-id="3aa95-218">The provided credentials are invalid.</span></span>
<span data-ttu-id="3aa95-219">403</span><span class="sxs-lookup"><span data-stu-id="3aa95-219">403</span></span>  | <span data-ttu-id="3aa95-220">提供的認證不允許此動作。</span><span class="sxs-lookup"><span data-stu-id="3aa95-220">The action is not allowed given the provided credentials.</span></span>
<span data-ttu-id="3aa95-221">404</span><span class="sxs-lookup"><span data-stu-id="3aa95-221">404</span></span>  | <span data-ttu-id="3aa95-222">要求的資源不存在。</span><span class="sxs-lookup"><span data-stu-id="3aa95-222">The requested resource doesn't exist.</span></span>
<span data-ttu-id="3aa95-223">409</span><span class="sxs-lookup"><span data-stu-id="3aa95-223">409</span></span>  | <span data-ttu-id="3aa95-224">要求與現有的資源衝突。</span><span class="sxs-lookup"><span data-stu-id="3aa95-224">The request conflicts with an existing resource.</span></span>
<span data-ttu-id="3aa95-225">500</span><span class="sxs-lookup"><span data-stu-id="3aa95-225">500</span></span>  | <span data-ttu-id="3aa95-226">服務發生未預期的錯誤。</span><span class="sxs-lookup"><span data-stu-id="3aa95-226">The service has encountered an unexpected error.</span></span>
<span data-ttu-id="3aa95-227">503</span><span class="sxs-lookup"><span data-stu-id="3aa95-227">503</span></span>  | <span data-ttu-id="3aa95-228">服務暫時無法使用。</span><span class="sxs-lookup"><span data-stu-id="3aa95-228">The service is temporarily unavailable.</span></span>

<span data-ttu-id="3aa95-229">對`GET` API 端點發出的任何要求可能會傳回 HTTP 重新導向 (301 或 302)。</span><span class="sxs-lookup"><span data-stu-id="3aa95-229">Any `GET` request made to a API endpoint may return an HTTP redirect (301 or 302).</span></span> <span data-ttu-id="3aa95-230">用戶端應該藉由觀察`Location`標頭併發出後續`GET`的來適當地處理這類重新導向。</span><span class="sxs-lookup"><span data-stu-id="3aa95-230">Clients should gracefully handle such redirects by observing the `Location` header and issuing a subsequent `GET`.</span></span> <span data-ttu-id="3aa95-231">關於特定端點的檔不會明確地呼叫可使用重新導向的位置。</span><span class="sxs-lookup"><span data-stu-id="3aa95-231">Documentation concerning specific endpoints will not explicitly call out where redirects may be used.</span></span>

<span data-ttu-id="3aa95-232">在500層級狀態碼的情況下, 用戶端可以執行合理的重試機制。</span><span class="sxs-lookup"><span data-stu-id="3aa95-232">In the case of a 500-level status code, the client can implement a reasonable retry mechanism.</span></span> <span data-ttu-id="3aa95-233">當遇到任何500層級狀態碼或 TCP/IP 錯誤時, 官方 NuGet 用戶端會重試三次。</span><span class="sxs-lookup"><span data-stu-id="3aa95-233">The official NuGet client retries three times when encountering any 500-level status code or TCP/DNS error.</span></span>

## <a name="http-request-headers"></a><span data-ttu-id="3aa95-234">HTTP 要求標頭</span><span class="sxs-lookup"><span data-stu-id="3aa95-234">HTTP request headers</span></span>

<span data-ttu-id="3aa95-235">名稱</span><span class="sxs-lookup"><span data-stu-id="3aa95-235">Name</span></span>                     | <span data-ttu-id="3aa95-236">描述</span><span class="sxs-lookup"><span data-stu-id="3aa95-236">Description</span></span>
------------------------ | -----------
<span data-ttu-id="3aa95-237">X-NuGet-ApiKey</span><span class="sxs-lookup"><span data-stu-id="3aa95-237">X-NuGet-ApiKey</span></span>           | <span data-ttu-id="3aa95-238">需要進行推送和刪除, 請參閱[ `PackagePublish`資源](package-publish-resource.md)</span><span class="sxs-lookup"><span data-stu-id="3aa95-238">Required for push and delete, see [`PackagePublish` resource](package-publish-resource.md)</span></span>
<span data-ttu-id="3aa95-239">X-NuGet-Client-Version</span><span class="sxs-lookup"><span data-stu-id="3aa95-239">X-NuGet-Client-Version</span></span>   | <span data-ttu-id="3aa95-240">已**淘汰**並取代成`X-NuGet-Protocol-Version`</span><span class="sxs-lookup"><span data-stu-id="3aa95-240">**Deprecated** and replaced by `X-NuGet-Protocol-Version`</span></span>
<span data-ttu-id="3aa95-241">X-NuGet-Protocol-Version</span><span class="sxs-lookup"><span data-stu-id="3aa95-241">X-NuGet-Protocol-Version</span></span> | <span data-ttu-id="3aa95-242">只有在 nuget.org 上的某些情況下才需要, 請參閱[nuget.org 通訊協定](NuGet-Protocols.md)</span><span class="sxs-lookup"><span data-stu-id="3aa95-242">Required in certain cases only on nuget.org, see [nuget.org protocols](NuGet-Protocols.md)</span></span>
<span data-ttu-id="3aa95-243">X-NuGet-Session-Id</span><span class="sxs-lookup"><span data-stu-id="3aa95-243">X-NuGet-Session-Id</span></span>       | <span data-ttu-id="3aa95-244">*選擇性*。</span><span class="sxs-lookup"><span data-stu-id="3aa95-244">*Optional*.</span></span> <span data-ttu-id="3aa95-245">NuGet 用戶端 4.7 + 會識別屬於相同 NuGet 用戶端會話的 HTTP 要求。</span><span class="sxs-lookup"><span data-stu-id="3aa95-245">NuGet clients v4.7+ identify HTTP requests that are part of the same NuGet client session.</span></span>

<span data-ttu-id="3aa95-246">對於`X-NuGet-Session-Id`與中`PackageReference`單一還原相關的所有作業, 都具有單一值。</span><span class="sxs-lookup"><span data-stu-id="3aa95-246">The `X-NuGet-Session-Id` has a single value for all operations related to a single restore in `PackageReference`.</span></span> <span data-ttu-id="3aa95-247">針對其他案例, 例如「自動`packages.config`完成」和「還原」, 可能會有數個不同的會話識別碼, 原因是程式碼的要素。</span><span class="sxs-lookup"><span data-stu-id="3aa95-247">For other scenarios such as autocomplete and `packages.config` restore there may be several different session ID's due to how the code is factored.</span></span>

## <a name="authentication"></a><span data-ttu-id="3aa95-248">驗證</span><span class="sxs-lookup"><span data-stu-id="3aa95-248">Authentication</span></span>

<span data-ttu-id="3aa95-249">驗證會保留給要定義的套件來源執行。</span><span class="sxs-lookup"><span data-stu-id="3aa95-249">Authentication is left up to the package source implementation to define.</span></span> <span data-ttu-id="3aa95-250">針對 nuget.org, 只有`PackagePublish`資源需要透過特殊 API 金鑰標頭進行驗證。</span><span class="sxs-lookup"><span data-stu-id="3aa95-250">For nuget.org, only the `PackagePublish` resource requires authentication via a special API key header.</span></span> <span data-ttu-id="3aa95-251">如需詳細資訊, 請參閱[ `PackagePublish`資源](package-publish-resource.md)。</span><span class="sxs-lookup"><span data-stu-id="3aa95-251">See [`PackagePublish` resource](package-publish-resource.md) for details.</span></span>
