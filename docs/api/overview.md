---
title: NuGet API 的概觀
description: NuGet API 是一組可以用來下載套件、 擷取中繼資料，發佈新的套件等的 HTTP 端點。
author: joelverhagen
ms.author: jver
ms.date: 10/26/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: bb15b4decef104f1aefe37fd18f3358181a848af
ms.sourcegitcommit: 2af17c8bb452a538977794bf559cdd78d58f2790
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/29/2019
ms.locfileid: "58637658"
---
# <a name="nuget-api"></a><span data-ttu-id="600ea-103">NuGet API</span><span class="sxs-lookup"><span data-stu-id="600ea-103">NuGet API</span></span>

<span data-ttu-id="600ea-104">NuGet API 是一組可用來下載套件、 擷取中繼資料、 發行新的套件，以及執行大部分其他官方 NuGet 用戶端中可用的作業的 HTTP 端點。</span><span class="sxs-lookup"><span data-stu-id="600ea-104">The NuGet API is a set of HTTP endpoints that can be used to download packages, fetch metadata, publish new packages, and perform most other operations available in the official NuGet clients.</span></span>

<span data-ttu-id="600ea-105">此 API 可由 NuGet 用戶端，在 Visual Studio 中，nuget.exe 和.NET CLI 來執行 NuGet 作業，例如[ `dotnet restore` ](/dotnet/core/tools/dotnet-restore?tabs=netcore2x)，在 Visual Studio UI 中，搜尋並[ `nuget.exe push` ](../tools/cli-ref-push.md)。</span><span class="sxs-lookup"><span data-stu-id="600ea-105">This API is used by the NuGet client in Visual Studio, nuget.exe, and the .NET CLI to perform NuGet operations such as [`dotnet restore`](/dotnet/core/tools/dotnet-restore?tabs=netcore2x), search in the Visual Studio UI, and [`nuget.exe push`](../tools/cli-ref-push.md).</span></span>

<span data-ttu-id="600ea-106">請注意在某些情況下，nuget.org 不會強制執行由其他套件來源的其他需求。</span><span class="sxs-lookup"><span data-stu-id="600ea-106">Note in some cases, nuget.org has additional requirements that are not enforced by other package sources.</span></span> <span data-ttu-id="600ea-107">這些差異都記錄所[nuget.org 通訊協定](nuget-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="600ea-107">These differences are documented by the [nuget.org Protocols](nuget-protocols.md).</span></span>

<span data-ttu-id="600ea-108">簡單列舉和下載可用的 nuget.exe 版本中，請參閱[tools.json](tools-json.md)端點。</span><span class="sxs-lookup"><span data-stu-id="600ea-108">For a simple enumeration and download of available nuget.exe versions, see the [tools.json](tools-json.md) endpoint.</span></span>

## <a name="service-index"></a><span data-ttu-id="600ea-109">服務索引</span><span class="sxs-lookup"><span data-stu-id="600ea-109">Service index</span></span>

<span data-ttu-id="600ea-110">API 的進入點是 JSON 文件中的已知的位置。</span><span class="sxs-lookup"><span data-stu-id="600ea-110">The entry point for the API is a JSON document in a well known location.</span></span> <span data-ttu-id="600ea-111">這份文件會呼叫**服務索引**。</span><span class="sxs-lookup"><span data-stu-id="600ea-111">This document is called the **service index**.</span></span> <span data-ttu-id="600ea-112">Nuget.org 的服務索引的位置是`https://api.nuget.org/v3/index.json`。</span><span class="sxs-lookup"><span data-stu-id="600ea-112">The location of the service index for nuget.org is `https://api.nuget.org/v3/index.json`.</span></span>

<span data-ttu-id="600ea-113">此 JSON 文件包含一份*資源*這提供不同的功能，而且滿足不同使用案例。</span><span class="sxs-lookup"><span data-stu-id="600ea-113">This JSON document contains a list of *resources* which provide different functionality and fulfill different use cases.</span></span>

<span data-ttu-id="600ea-114">支援 API 的用戶端應接受一或多個這些服務的索引 URL 做為連接到個別的套件來源的方法。</span><span class="sxs-lookup"><span data-stu-id="600ea-114">Clients that support the API should accept one or more of these service index URL as the means of connecting to the respective package sources.</span></span>

<span data-ttu-id="600ea-115">如需有關服務索引的詳細資訊，請參閱[其 API 參考](service-index.md)。</span><span class="sxs-lookup"><span data-stu-id="600ea-115">For more information about the service index, see [its API reference](service-index.md).</span></span>

## <a name="versioning"></a><span data-ttu-id="600ea-116">版本控制</span><span class="sxs-lookup"><span data-stu-id="600ea-116">Versioning</span></span>

<span data-ttu-id="600ea-117">NuGet 的 HTTP 通訊協定第 3 版的 API。</span><span class="sxs-lookup"><span data-stu-id="600ea-117">The API is version 3 of NuGet's HTTP protocol.</span></span> <span data-ttu-id="600ea-118">此通訊協定有時稱為 「 V3 API 」。</span><span class="sxs-lookup"><span data-stu-id="600ea-118">This protocol is sometimes referred to as "the V3 API".</span></span> <span data-ttu-id="600ea-119">這些參考文件會參考到此版本的通訊協定，簡稱為 「 API 」。</span><span class="sxs-lookup"><span data-stu-id="600ea-119">These reference documents will refer to this version of the protocol simply as "the API."</span></span>

<span data-ttu-id="600ea-120">服務索引結構描述版本由`version`服務索引中的屬性。</span><span class="sxs-lookup"><span data-stu-id="600ea-120">The service index schema version is indicated by the `version` property in the service index.</span></span> <span data-ttu-id="600ea-121">API 要求的版本字串具有主要版本號碼`3`。</span><span class="sxs-lookup"><span data-stu-id="600ea-121">The API mandates that the version string has a major version number of `3`.</span></span> <span data-ttu-id="600ea-122">服務索引結構描述會進行非中斷變更，就會增加的版本字串的次要版本。</span><span class="sxs-lookup"><span data-stu-id="600ea-122">As non-breaking changes are made to the service index schema, the version string's minor version will be increased.</span></span>

<span data-ttu-id="600ea-123">舊版的用戶端 (例如 nuget.exe 2.x) 不支援 V3 API 和只支援較舊的 V2 API，此處並未記載。</span><span class="sxs-lookup"><span data-stu-id="600ea-123">Older clients (such as nuget.exe 2.x) do not support the V3 API and only support the older V2 API, which is not documented here.</span></span>

<span data-ttu-id="600ea-124">因為它是已藉由將 2.x 版的官方 NuGet 用戶端的 OData 型通訊協定 V2 API 的後續版本，是這樣命名 NuGet V3 API。</span><span class="sxs-lookup"><span data-stu-id="600ea-124">The NuGet V3 API is named as such because it's the successor of the V2 API, which was the OData-based protocol implemented by the 2.x version of the official NuGet client.</span></span> <span data-ttu-id="600ea-125">V3 API 第一次支援官方 NuGet 用戶端 3.0 版，仍的最新的主要通訊協定版本的 NuGet 用戶端，4.0 和支援上。</span><span class="sxs-lookup"><span data-stu-id="600ea-125">The V3 API was first supported by the 3.0 version of the official NuGet client and is still the latest major protocol version supported by the NuGet client, 4.0 and on.</span></span> 

<span data-ttu-id="600ea-126">非重大通訊協定已變更的 API 因為首次發行。</span><span class="sxs-lookup"><span data-stu-id="600ea-126">Non-breaking protocol changes have been made to the API since it was first released.</span></span>

## <a name="resources-and-schema"></a><span data-ttu-id="600ea-127">資源和結構描述</span><span class="sxs-lookup"><span data-stu-id="600ea-127">Resources and schema</span></span>

<span data-ttu-id="600ea-128">**服務索引**說明各種不同的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-128">The **service index** describes a variety of resources.</span></span> <span data-ttu-id="600ea-129">目前的一組支援資源如下所示：</span><span class="sxs-lookup"><span data-stu-id="600ea-129">The current set of supported resources are as follows:</span></span>

<span data-ttu-id="600ea-130">資源名稱</span><span class="sxs-lookup"><span data-stu-id="600ea-130">Resource name</span></span>                                                        | <span data-ttu-id="600ea-131">必要</span><span class="sxs-lookup"><span data-stu-id="600ea-131">Required</span></span> | <span data-ttu-id="600ea-132">描述</span><span class="sxs-lookup"><span data-stu-id="600ea-132">Description</span></span>
-------------------------------------------------------------------- | -------- | -----------
[<span data-ttu-id="600ea-133">目錄</span><span class="sxs-lookup"><span data-stu-id="600ea-133">Catalog</span></span>](catalog-resource.md)                                       | <span data-ttu-id="600ea-134">否</span><span class="sxs-lookup"><span data-stu-id="600ea-134">no</span></span>       | <span data-ttu-id="600ea-135">完整封裝的所有事件的記錄。</span><span class="sxs-lookup"><span data-stu-id="600ea-135">Full record of all package events.</span></span>
[<span data-ttu-id="600ea-136">PackageBaseAddress</span><span class="sxs-lookup"><span data-stu-id="600ea-136">PackageBaseAddress</span></span>](package-base-address-resource.md)               | <span data-ttu-id="600ea-137">是</span><span class="sxs-lookup"><span data-stu-id="600ea-137">yes</span></span>      | <span data-ttu-id="600ea-138">取得封裝的內容 (.nupkg)。</span><span class="sxs-lookup"><span data-stu-id="600ea-138">Get package content (.nupkg).</span></span>
[<span data-ttu-id="600ea-139">PackageDetailsUriTemplate</span><span class="sxs-lookup"><span data-stu-id="600ea-139">PackageDetailsUriTemplate</span></span>](package-details-template-resource.md)    | <span data-ttu-id="600ea-140">否</span><span class="sxs-lookup"><span data-stu-id="600ea-140">no</span></span>       | <span data-ttu-id="600ea-141">建構一個 URL 以存取套件詳細資料網頁。</span><span class="sxs-lookup"><span data-stu-id="600ea-141">Construct a URL to access a package details web page.</span></span>
[<span data-ttu-id="600ea-142">PackagePublish</span><span class="sxs-lookup"><span data-stu-id="600ea-142">PackagePublish</span></span>](package-publish-resource.md)                        | <span data-ttu-id="600ea-143">是</span><span class="sxs-lookup"><span data-stu-id="600ea-143">yes</span></span>      | <span data-ttu-id="600ea-144">推送和刪除 （或取消列出） 封裝。</span><span class="sxs-lookup"><span data-stu-id="600ea-144">Push and delete (or unlist) packages.</span></span>
[<span data-ttu-id="600ea-145">RegistrationsBaseUrl</span><span class="sxs-lookup"><span data-stu-id="600ea-145">RegistrationsBaseUrl</span></span>](registration-base-url-resource.md)            | <span data-ttu-id="600ea-146">是</span><span class="sxs-lookup"><span data-stu-id="600ea-146">yes</span></span>      | <span data-ttu-id="600ea-147">取得套件中繼資料。</span><span class="sxs-lookup"><span data-stu-id="600ea-147">Get package metadata.</span></span>
[<span data-ttu-id="600ea-148">ReportAbuseUriTemplate</span><span class="sxs-lookup"><span data-stu-id="600ea-148">ReportAbuseUriTemplate</span></span>](report-abuse-resource.md)                   | <span data-ttu-id="600ea-149">否</span><span class="sxs-lookup"><span data-stu-id="600ea-149">no</span></span>       | <span data-ttu-id="600ea-150">建構存取報告不當的文章內容網頁的 URL。</span><span class="sxs-lookup"><span data-stu-id="600ea-150">Construct a URL to access a report abuse web page.</span></span>
[<span data-ttu-id="600ea-151">RepositorySignatures</span><span class="sxs-lookup"><span data-stu-id="600ea-151">RepositorySignatures</span></span>](repository-signatures-resource.md)            | <span data-ttu-id="600ea-152">否</span><span class="sxs-lookup"><span data-stu-id="600ea-152">no</span></span>       | <span data-ttu-id="600ea-153">取得用來存放庫簽章的憑證。</span><span class="sxs-lookup"><span data-stu-id="600ea-153">Get certificates used for repository signing.</span></span>
[<span data-ttu-id="600ea-154">SearchAutocompleteService</span><span class="sxs-lookup"><span data-stu-id="600ea-154">SearchAutocompleteService</span></span>](search-autocomplete-service-resource.md) | <span data-ttu-id="600ea-155">否</span><span class="sxs-lookup"><span data-stu-id="600ea-155">no</span></span>       | <span data-ttu-id="600ea-156">探索的子字串的封裝識別碼和版本。</span><span class="sxs-lookup"><span data-stu-id="600ea-156">Discover package IDs and versions by substring.</span></span>
[<span data-ttu-id="600ea-157">SearchQueryService</span><span class="sxs-lookup"><span data-stu-id="600ea-157">SearchQueryService</span></span>](search-query-service-resource.md)               | <span data-ttu-id="600ea-158">是</span><span class="sxs-lookup"><span data-stu-id="600ea-158">yes</span></span>      | <span data-ttu-id="600ea-159">篩選和關鍵字搜尋的封裝。</span><span class="sxs-lookup"><span data-stu-id="600ea-159">Filter and search for packages by keyword.</span></span>
[<span data-ttu-id="600ea-160">SymbolPackagePublish</span><span class="sxs-lookup"><span data-stu-id="600ea-160">SymbolPackagePublish</span></span>](symbol-package-publish-resource.md)           | <span data-ttu-id="600ea-161">否</span><span class="sxs-lookup"><span data-stu-id="600ea-161">no</span></span>       | <span data-ttu-id="600ea-162">推送符號套件。</span><span class="sxs-lookup"><span data-stu-id="600ea-162">Push symbol packages.</span></span>

<span data-ttu-id="600ea-163">一般情況下，API 資源傳回的所有非二進位資料會使用 JSON 序列化的。</span><span class="sxs-lookup"><span data-stu-id="600ea-163">In general, all non-binary data returned by a API resource are serialized using JSON.</span></span> <span data-ttu-id="600ea-164">服務索引中每個資源所傳回的回應結構描述是個別針對該資源定義。</span><span class="sxs-lookup"><span data-stu-id="600ea-164">The response schema returned by each resource in the service index is defined individually for that resource.</span></span> <span data-ttu-id="600ea-165">如需有關每個資源的詳細資訊，請參閱以上所列的主題。</span><span class="sxs-lookup"><span data-stu-id="600ea-165">For more information about each resource, see the topics listed above.</span></span>

<span data-ttu-id="600ea-166">在未來，隨著通訊協定的發展，JSON 回應可能會增加新的屬性。</span><span class="sxs-lookup"><span data-stu-id="600ea-166">In the future, as the protocol evolves, new properties may be added to JSON responses.</span></span> <span data-ttu-id="600ea-167">用戶端中是未來考驗，實作不應該假設回應結構描述為最終狀態，並不能包含額外的資料。</span><span class="sxs-lookup"><span data-stu-id="600ea-167">For the client to be future-proof, the implementation should not assume that the response schema is final and cannot include extra data.</span></span> <span data-ttu-id="600ea-168">實作不了解的所有屬性都應該予以都忽略。</span><span class="sxs-lookup"><span data-stu-id="600ea-168">All properties that the implementation does not understand should be ignored.</span></span>

> [!Note]
> <span data-ttu-id="600ea-169">當來源未實作`SearchAutocompleteService`應該依正常程序停用任何自動完成行為。</span><span class="sxs-lookup"><span data-stu-id="600ea-169">When a source does not implement `SearchAutocompleteService` any autocomplete behavior should be disabled gracefully.</span></span> <span data-ttu-id="600ea-170">當`ReportAbuseUriTemplate`未實作，官方的 NuGet 用戶端會回到 nuget.org 的報告不當使用 URL (藉由追蹤[NuGet/Home #4924](https://github.com/NuGet/Home/issues/4924))。</span><span class="sxs-lookup"><span data-stu-id="600ea-170">When `ReportAbuseUriTemplate` is not implemented, the official NuGet client falls back to nuget.org's report abuse URL (tracked by [NuGet/Home#4924](https://github.com/NuGet/Home/issues/4924)).</span></span> <span data-ttu-id="600ea-171">其他用戶端也可以選擇只顯示檢舉不當使用 URL 給使用者。</span><span class="sxs-lookup"><span data-stu-id="600ea-171">Other clients may opt to simply not show a report abuse URL to the user.</span></span>

### <a name="undocumented-resources-on-nugetorg"></a><span data-ttu-id="600ea-172">未記載在 nuget.org 上的資源</span><span class="sxs-lookup"><span data-stu-id="600ea-172">Undocumented resources on nuget.org</span></span>

<span data-ttu-id="600ea-173">在 nuget.org 上的 V3 服務索引有一些上面未記載的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-173">The V3 service index on nuget.org has some resources that are not documented above.</span></span> <span data-ttu-id="600ea-174">有幾個原因未記載的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-174">There are a few reasons for not documenting a resource.</span></span>

<span data-ttu-id="600ea-175">首先，我們沒有文件做為 nuget.org 的實作詳細資料的資源。`SearchGalleryQueryService`屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="600ea-175">First, we don't document resources used as an implementation detail of nuget.org. The `SearchGalleryQueryService` falls into this category.</span></span> <span data-ttu-id="600ea-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery)委派一些 V2 中使用這項資源 (OData) 查詢，以我們的搜尋索引，而不是使用資料庫。</span><span class="sxs-lookup"><span data-stu-id="600ea-176">[NuGetGallery](https://github.com/NuGet/NuGetGallery) uses this resource to delegate some V2 (OData) queries to our search index instead of using the database.</span></span> <span data-ttu-id="600ea-177">此資源引進基於延展性考量，並不適合外部使用。</span><span class="sxs-lookup"><span data-stu-id="600ea-177">This resource was introduced for scalability reasons and is not intended for external use.</span></span>

<span data-ttu-id="600ea-178">其次，我們不記錄永遠不會隨附於官方的用戶端的 RTM 版本的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-178">Second, we don't document resources that never shipped in an RTM version of the official client.</span></span>
<span data-ttu-id="600ea-179">`PackageDisplayMetadataUriTemplate` 和`PackageVersionDisplayMetadataUriTemplate`歸類到此類別。</span><span class="sxs-lookup"><span data-stu-id="600ea-179">`PackageDisplayMetadataUriTemplate` and `PackageVersionDisplayMetadataUriTemplate` fall into this category.</span></span>

<span data-ttu-id="600ea-180">之間的往返，我們不文件資源的緊密結合的 V2 通訊協定，而其本身是刻意未記載。</span><span class="sxs-lookup"><span data-stu-id="600ea-180">Thirdly, we don't document resources that are tightly coupled with the V2 protocol, which itself is intentionally undocumented.</span></span> <span data-ttu-id="600ea-181">`LegacyGallery`資源屬於此類別。</span><span class="sxs-lookup"><span data-stu-id="600ea-181">The `LegacyGallery` resource falls into this category.</span></span> <span data-ttu-id="600ea-182">此資源允許以相對應的 V2 來源 URL 所指向的 V3 服務索引。</span><span class="sxs-lookup"><span data-stu-id="600ea-182">This resource allows a V3 service index to point to a corresponding V2 source URL.</span></span> <span data-ttu-id="600ea-183">此資源支援`nuget.exe list`。</span><span class="sxs-lookup"><span data-stu-id="600ea-183">This resource supports the `nuget.exe list`.</span></span>

<span data-ttu-id="600ea-184">如果此處未記載有資源我們*強*建議，您執行不依存於它們。</span><span class="sxs-lookup"><span data-stu-id="600ea-184">If a resource is not documented here, we *strongly* recommend that you do not take a dependency on them.</span></span> <span data-ttu-id="600ea-185">我們可能會移除或變更這些未記載的資源，這可能會非預期的方式中斷您的實作的行為。</span><span class="sxs-lookup"><span data-stu-id="600ea-185">We may remove or change the behavior of these undocumented resources which could break your implementation in unexpected ways.</span></span>

## <a name="timestamps"></a><span data-ttu-id="600ea-186">時間戳記</span><span class="sxs-lookup"><span data-stu-id="600ea-186">Timestamps</span></span>

<span data-ttu-id="600ea-187">所有 API 所傳回的時間戳記 UTC 或另外指定使用[ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html)表示法。</span><span class="sxs-lookup"><span data-stu-id="600ea-187">All timestamps returned by the API are UTC or are otherwise specified using [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) representation.</span></span> 

## <a name="http-methods"></a><span data-ttu-id="600ea-188">HTTP 方法</span><span class="sxs-lookup"><span data-stu-id="600ea-188">HTTP methods</span></span>

<span data-ttu-id="600ea-189">動詞命令</span><span class="sxs-lookup"><span data-stu-id="600ea-189">Verb</span></span>   | <span data-ttu-id="600ea-190">使用</span><span class="sxs-lookup"><span data-stu-id="600ea-190">Use</span></span>
------ | -----------
<span data-ttu-id="600ea-191">GET</span><span class="sxs-lookup"><span data-stu-id="600ea-191">GET</span></span>    | <span data-ttu-id="600ea-192">執行唯讀作業，通常擷取資料。</span><span class="sxs-lookup"><span data-stu-id="600ea-192">Performs a read-only operation, typically retrieving data.</span></span>
<span data-ttu-id="600ea-193">HEAD</span><span class="sxs-lookup"><span data-stu-id="600ea-193">HEAD</span></span>   | <span data-ttu-id="600ea-194">擷取對應的回應標頭`GET`要求。</span><span class="sxs-lookup"><span data-stu-id="600ea-194">Fetches the response headers for the corresponding `GET` request.</span></span>
<span data-ttu-id="600ea-195">PUT</span><span class="sxs-lookup"><span data-stu-id="600ea-195">PUT</span></span>    | <span data-ttu-id="600ea-196">建立不存在，或如果存在，則會更新它的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-196">Creates a resource that doesn't exist or, if it does exist, updates it.</span></span> <span data-ttu-id="600ea-197">某些資源可能不支援更新。</span><span class="sxs-lookup"><span data-stu-id="600ea-197">Some resources may not support update.</span></span>
<span data-ttu-id="600ea-198">DELETE</span><span class="sxs-lookup"><span data-stu-id="600ea-198">DELETE</span></span> | <span data-ttu-id="600ea-199">刪除或取消列出的資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-199">Deletes or unlists a resource.</span></span>

## <a name="http-status-codes"></a><span data-ttu-id="600ea-200">HTTP 狀態碼</span><span class="sxs-lookup"><span data-stu-id="600ea-200">HTTP status codes</span></span>

<span data-ttu-id="600ea-201">程式碼</span><span class="sxs-lookup"><span data-stu-id="600ea-201">Code</span></span> | <span data-ttu-id="600ea-202">描述</span><span class="sxs-lookup"><span data-stu-id="600ea-202">Description</span></span>
---- | -----
<span data-ttu-id="600ea-203">200</span><span class="sxs-lookup"><span data-stu-id="600ea-203">200</span></span>  | <span data-ttu-id="600ea-204">如果成功，而且沒有回應主體。</span><span class="sxs-lookup"><span data-stu-id="600ea-204">Success, and there is a response body.</span></span>
<span data-ttu-id="600ea-205">201</span><span class="sxs-lookup"><span data-stu-id="600ea-205">201</span></span>  | <span data-ttu-id="600ea-206">已建立成功時和資源。</span><span class="sxs-lookup"><span data-stu-id="600ea-206">Success, and the resource was created.</span></span>
<span data-ttu-id="600ea-207">202</span><span class="sxs-lookup"><span data-stu-id="600ea-207">202</span></span>  | <span data-ttu-id="600ea-208">成功時，要求已被接受，但是一些工作，仍可能不完整和已完成以非同步的方式。</span><span class="sxs-lookup"><span data-stu-id="600ea-208">Success, the request has been accepted but some work may still be incomplete and completed asynchronously.</span></span>
<span data-ttu-id="600ea-209">204</span><span class="sxs-lookup"><span data-stu-id="600ea-209">204</span></span>  | <span data-ttu-id="600ea-210">如果成功，但沒有回應主體。</span><span class="sxs-lookup"><span data-stu-id="600ea-210">Success, but there is no response body.</span></span>
<span data-ttu-id="600ea-211">301</span><span class="sxs-lookup"><span data-stu-id="600ea-211">301</span></span>  | <span data-ttu-id="600ea-212">永久重新導向。</span><span class="sxs-lookup"><span data-stu-id="600ea-212">A permanent redirect.</span></span>
<span data-ttu-id="600ea-213">302</span><span class="sxs-lookup"><span data-stu-id="600ea-213">302</span></span>  | <span data-ttu-id="600ea-214">暫時重新導向。</span><span class="sxs-lookup"><span data-stu-id="600ea-214">A temporary redirect.</span></span>
<span data-ttu-id="600ea-215">400</span><span class="sxs-lookup"><span data-stu-id="600ea-215">400</span></span>  | <span data-ttu-id="600ea-216">在 URL 或要求主體中的參數不是有效的。</span><span class="sxs-lookup"><span data-stu-id="600ea-216">The parameters in the URL or in the request body aren't valid.</span></span>
<span data-ttu-id="600ea-217">401</span><span class="sxs-lookup"><span data-stu-id="600ea-217">401</span></span>  | <span data-ttu-id="600ea-218">提供的認證不正確。</span><span class="sxs-lookup"><span data-stu-id="600ea-218">The provided credentials are invalid.</span></span>
<span data-ttu-id="600ea-219">403</span><span class="sxs-lookup"><span data-stu-id="600ea-219">403</span></span>  | <span data-ttu-id="600ea-220">指定提供的認證，不允許的動作。</span><span class="sxs-lookup"><span data-stu-id="600ea-220">The action is not allowed given the provided credentials.</span></span>
<span data-ttu-id="600ea-221">404</span><span class="sxs-lookup"><span data-stu-id="600ea-221">404</span></span>  | <span data-ttu-id="600ea-222">要求的資源不存在。</span><span class="sxs-lookup"><span data-stu-id="600ea-222">The requested resource doesn't exist.</span></span>
<span data-ttu-id="600ea-223">409</span><span class="sxs-lookup"><span data-stu-id="600ea-223">409</span></span>  | <span data-ttu-id="600ea-224">與現有的資源要求衝突。</span><span class="sxs-lookup"><span data-stu-id="600ea-224">The request conflicts with an existing resource.</span></span>
<span data-ttu-id="600ea-225">500</span><span class="sxs-lookup"><span data-stu-id="600ea-225">500</span></span>  | <span data-ttu-id="600ea-226">服務發生未預期的錯誤。</span><span class="sxs-lookup"><span data-stu-id="600ea-226">The service has encountered an unexpected error.</span></span>
<span data-ttu-id="600ea-227">503</span><span class="sxs-lookup"><span data-stu-id="600ea-227">503</span></span>  | <span data-ttu-id="600ea-228">暫時無法使用此服務。</span><span class="sxs-lookup"><span data-stu-id="600ea-228">The service is temporarily unavailable.</span></span>

<span data-ttu-id="600ea-229">任何`GET`對 API 端點提出的要求可能會傳回 HTTP 重新導向 （301 或 302）。</span><span class="sxs-lookup"><span data-stu-id="600ea-229">Any `GET` request made to a API endpoint may return an HTTP redirect (301 or 302).</span></span> <span data-ttu-id="600ea-230">用戶端應妥善處理這類的重新導向，觀察`Location`標頭和發出的後續`GET`。</span><span class="sxs-lookup"><span data-stu-id="600ea-230">Clients should gracefully handle such redirects by observing the `Location` header and issuing a subsequent `GET`.</span></span> <span data-ttu-id="600ea-231">關於特定端點的文件不會明確呼叫時可能會使用重新導向。</span><span class="sxs-lookup"><span data-stu-id="600ea-231">Documentation concerning specific endpoints will not explicitly call out where redirects may be used.</span></span>

<span data-ttu-id="600ea-232">如果層級的 500 狀態碼和用戶端可以實作合理的重試機制。</span><span class="sxs-lookup"><span data-stu-id="600ea-232">In the case of a 500-level status code, the client can implement a reasonable retry mechanism.</span></span> <span data-ttu-id="600ea-233">官方 NuGet 用戶端時的重試三次發生的任何層級的 500 狀態碼或 TCP/DNS 錯誤。</span><span class="sxs-lookup"><span data-stu-id="600ea-233">The official NuGet client retries three times when encountering any 500-level status code or TCP/DNS error.</span></span>

## <a name="http-request-headers"></a><span data-ttu-id="600ea-234">HTTP 要求標頭</span><span class="sxs-lookup"><span data-stu-id="600ea-234">HTTP request headers</span></span>

<span data-ttu-id="600ea-235">名稱</span><span class="sxs-lookup"><span data-stu-id="600ea-235">Name</span></span>                     | <span data-ttu-id="600ea-236">描述</span><span class="sxs-lookup"><span data-stu-id="600ea-236">Description</span></span>
------------------------ | -----------
<span data-ttu-id="600ea-237">X-NuGet-ApiKey</span><span class="sxs-lookup"><span data-stu-id="600ea-237">X-NuGet-ApiKey</span></span>           | <span data-ttu-id="600ea-238">所需的推送和刪除，請參閱[`PackagePublish`資源](package-publish-resource.md)</span><span class="sxs-lookup"><span data-stu-id="600ea-238">Required for push and delete, see [`PackagePublish` resource](package-publish-resource.md)</span></span>
<span data-ttu-id="600ea-239">X-NuGet-Client-Version</span><span class="sxs-lookup"><span data-stu-id="600ea-239">X-NuGet-Client-Version</span></span>   | <span data-ttu-id="600ea-240">**已被取代**而被取代 `X-NuGet-Protocol-Version`</span><span class="sxs-lookup"><span data-stu-id="600ea-240">**Deprecated** and replaced by `X-NuGet-Protocol-Version`</span></span>
<span data-ttu-id="600ea-241">X-NuGet-Protocol-Version</span><span class="sxs-lookup"><span data-stu-id="600ea-241">X-NuGet-Protocol-Version</span></span> | <span data-ttu-id="600ea-242">在某些情況下，只能在 nuget.org 上有需要，請參閱[nuget.org 通訊協定](NuGet-Protocols.md)</span><span class="sxs-lookup"><span data-stu-id="600ea-242">Required in certain cases only on nuget.org, see [nuget.org protocols](NuGet-Protocols.md)</span></span>
<span data-ttu-id="600ea-243">X-NuGet-Session-Id</span><span class="sxs-lookup"><span data-stu-id="600ea-243">X-NuGet-Session-Id</span></span>       | <span data-ttu-id="600ea-244">*選擇性*。</span><span class="sxs-lookup"><span data-stu-id="600ea-244">*Optional*.</span></span> <span data-ttu-id="600ea-245">NuGet 用戶端 v4.7 + 識別屬於相同的 NuGet 用戶端工作階段的 HTTP 要求。</span><span class="sxs-lookup"><span data-stu-id="600ea-245">NuGet clients v4.7+ identify HTTP requests that are part of the same NuGet client session.</span></span>

<span data-ttu-id="600ea-246">`X-NuGet-Session-Id`中的單一還原相關的所有作業的單一值`PackageReference`。</span><span class="sxs-lookup"><span data-stu-id="600ea-246">The `X-NuGet-Session-Id` has a single value for all operations related to a single restore in `PackageReference`.</span></span> <span data-ttu-id="600ea-247">如需其他案例，例如自動完成和`packages.config`還原可能會有數個不同的工作階段識別碼由於重整程式碼的方式。</span><span class="sxs-lookup"><span data-stu-id="600ea-247">For other scenarios such as autocomplete and `packages.config` restore there may be several different session ID's due to how the code is factored.</span></span>

## <a name="authentication"></a><span data-ttu-id="600ea-248">驗證</span><span class="sxs-lookup"><span data-stu-id="600ea-248">Authentication</span></span>

<span data-ttu-id="600ea-249">驗證會保留最多定義的套件來源實作。</span><span class="sxs-lookup"><span data-stu-id="600ea-249">Authentication is left up to the package source implementation to define.</span></span> <span data-ttu-id="600ea-250">對於 nuget.org，只有`PackagePublish`資源需要驗證透過特殊的 API 金鑰標頭。</span><span class="sxs-lookup"><span data-stu-id="600ea-250">For nuget.org, only the `PackagePublish` resource requires authentication via a special API key header.</span></span> <span data-ttu-id="600ea-251">請參閱[`PackagePublish`資源](package-publish-resource.md)如需詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="600ea-251">See [`PackagePublish` resource](package-publish-resource.md) for details.</span></span>
