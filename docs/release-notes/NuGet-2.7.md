---
title: NuGet 2.7 版本資訊
description: NuGet 2.7 的版本資訊, 包括已知問題、bug 修正、新增功能和 Dcr。
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: f26ac80046ec321ce5bdbf2bac23c0e1939cd69a
ms.sourcegitcommit: efc18d484fdf0c7a8979b564dcb191c030601bb4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/18/2019
ms.locfileid: "68317073"
---
# <a name="nuget-27-release-notes"></a><span data-ttu-id="d8898-103">NuGet 2.7 版本資訊</span><span class="sxs-lookup"><span data-stu-id="d8898-103">NuGet 2.7 Release Notes</span></span>

<span data-ttu-id="d8898-104">[Nuget 2.6.1 for WebMatrix 版本](../release-notes/nuget-2.6.1-for-webmatrix.md) | 資訊[nuget 2.7.1 版本](../release-notes/nuget-2.7.1.md)資訊</span><span class="sxs-lookup"><span data-stu-id="d8898-104">[NuGet 2.6.1 for WebMatrix Release Notes](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 Release Notes](../release-notes/nuget-2.7.1.md)</span></span>

<span data-ttu-id="d8898-105">NuGet 2.7 已于2013年8月22日發行。</span><span class="sxs-lookup"><span data-stu-id="d8898-105">NuGet 2.7 was released on August 22, 2013.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="d8898-106">謝誌</span><span class="sxs-lookup"><span data-stu-id="d8898-106">Acknowledgements</span></span>

<span data-ttu-id="d8898-107">我們想要感謝下列外部參與者對 NuGet 2.7 的重大貢獻:</span><span class="sxs-lookup"><span data-stu-id="d8898-107">We would like to thank the following external contributors for their significant contributions to NuGet 2.7:</span></span>

1. <span data-ttu-id="d8898-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss)([@mxrss](https://twitter.com/mxrss))</span><span class="sxs-lookup"><span data-stu-id="d8898-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span></span>
    - <span data-ttu-id="d8898-109">列出套件和詳細資訊時, 顯示授權 url。</span><span class="sxs-lookup"><span data-stu-id="d8898-109">Show License url when listing packages and verbosity is detailed.</span></span>
2. <span data-ttu-id="d8898-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph)([@adamralph](https://twitter.com/adamralph))</span><span class="sxs-lookup"><span data-stu-id="d8898-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span></span>
    - <span data-ttu-id="d8898-111">[#1956](http://nuget.codeplex.com/workitem/1956) -將 developmentDependency 屬性新增`packages.config`至, 並在 pack 命令中使用它, 只包含執行時間封裝</span><span class="sxs-lookup"><span data-stu-id="d8898-111">[#1956](http://nuget.codeplex.com/workitem/1956) - Add developmentDependency attribute to `packages.config` and use it in pack command to only include runtime packages</span></span>
3. <span data-ttu-id="d8898-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael)([@tkrafael](https://twitter.com/tkrafael))</span><span class="sxs-lookup"><span data-stu-id="d8898-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span></span>
    - <span data-ttu-id="d8898-113">避免在 nuget.exe pack 命令中出現重複的屬性索引鍵。</span><span class="sxs-lookup"><span data-stu-id="d8898-113">Avoid duplicate Properties key in nuget.exe pack command.</span></span>
4. <span data-ttu-id="d8898-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan)([@BenPhegan](https://twitter.com/benphegan))</span><span class="sxs-lookup"><span data-stu-id="d8898-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span></span>
    - <span data-ttu-id="d8898-115">[#2610](http://nuget.codeplex.com/workitem/2610) -將電腦快取大小增加至200。</span><span class="sxs-lookup"><span data-stu-id="d8898-115">[#2610](http://nuget.codeplex.com/workitem/2610) - Increase machine cache size to 200.</span></span>
5. <span data-ttu-id="d8898-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel)([@derigel](https://twitter.com/derigel))</span><span class="sxs-lookup"><span data-stu-id="d8898-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span></span>
    - <span data-ttu-id="d8898-117">[#3217](http://nuget.codeplex.com/workitem/3217) -修正在錯誤索引標籤中顯示更新的 NuGet 對話方塊</span><span class="sxs-lookup"><span data-stu-id="d8898-117">[#3217](http://nuget.codeplex.com/workitem/3217) - Fix NuGet dialog showing updates in the wrong tab</span></span>
    - <span data-ttu-id="d8898-118">修正專案。在 ProjectManager 中, TargetFramework 可以是 null</span><span class="sxs-lookup"><span data-stu-id="d8898-118">Fix Project.TargetFramework can be null in ProjectManager</span></span>
    - <span data-ttu-id="d8898-119">[#3248](http://nuget.codeplex.com/workitem/3248)修正 SharedPackageRepository FindPackage/FindPackagesById 將會在不存在的 packageId 上失敗</span><span class="sxs-lookup"><span data-stu-id="d8898-119">[#3248](http://nuget.codeplex.com/workitem/3248) - Fix SharedPackageRepository FindPackage/FindPackagesById will fail on non-existent packageId</span></span>
6. <span data-ttu-id="d8898-120">[古柯 Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG)([@kevfromireland](https://twitter.com/kevfromireland))</span><span class="sxs-lookup"><span data-stu-id="d8898-120">[Kevin Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) ([@kevfromireland](https://twitter.com/kevfromireland))</span></span>
    - <span data-ttu-id="d8898-121">[#3234](http://nuget.codeplex.com/workitem/3234) -啟用 Nomad 專案的支援</span><span class="sxs-lookup"><span data-stu-id="d8898-121">[#3234](http://nuget.codeplex.com/workitem/3234) - Enable support for Nomad project</span></span>
7. <span data-ttu-id="d8898-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie)([@corinblaikie](https://twitter.com/corinblaikie))</span><span class="sxs-lookup"><span data-stu-id="d8898-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span></span>
    - <span data-ttu-id="d8898-123">當檔案不存在時, [#3252](http://nuget.codeplex.com/workitem/3252)修正推送命令會失敗, 並出現結束代碼0。</span><span class="sxs-lookup"><span data-stu-id="d8898-123">[#3252](http://nuget.codeplex.com/workitem/3252) - Fix push command fails with exit code 0 when file doesn't exist.</span></span>
8. [<span data-ttu-id="d8898-124">聖馬丁 Veselý</span><span class="sxs-lookup"><span data-stu-id="d8898-124">Martin Veselý</span></span>](http://www.codeplex.com/site/users/view/veselkamartin)
    - <span data-ttu-id="d8898-125">[#3226](http://nuget.codeplex.com/workitem/3226) -當專案參考資料庫專案時, 使用 BindingRedirect 命令修正 bug。</span><span class="sxs-lookup"><span data-stu-id="d8898-125">[#3226](http://nuget.codeplex.com/workitem/3226) - Fix bug with Add-BindingRedirect command when a project references a database project.</span></span>
9. <span data-ttu-id="d8898-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos)([@bajtos](https://twitter.com/bajtos))</span><span class="sxs-lookup"><span data-stu-id="d8898-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span></span>
    - <span data-ttu-id="d8898-127">[#2891](http://nuget.codeplex.com/workitem/2891) -修正 nuget 的錯誤。套件的 ' exclude ' 屬性中的萬用字元剖析錯誤。</span><span class="sxs-lookup"><span data-stu-id="d8898-127">[#2891](http://nuget.codeplex.com/workitem/2891) - Fix bug of nuget.pack parsing wildcard in the 'exclude' attribute incorrectly.</span></span>
10. <span data-ttu-id="d8898-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981)([@zippy1981](https://twitter.com/zippy1981))</span><span class="sxs-lookup"><span data-stu-id="d8898-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span></span>
     - <span data-ttu-id="d8898-129">[](http://nuget.codeplex.com/workitem/3307)在還原套件時`NuGet.targets` , #3307 修正錯誤 (bug) 不會將 $ (Platform) 傳遞至 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="d8898-129">[#3307](http://nuget.codeplex.com/workitem/3307) - Fix bug `NuGet.targets` does not pass $(Platform) to nuget.exe when restoring packages.</span></span>
11. [<span data-ttu-id="d8898-130">Brian Federici</span><span class="sxs-lookup"><span data-stu-id="d8898-130">Brian Federici</span></span>](http://www.codeplex.com/site/users/view/benerdin)
     - <span data-ttu-id="d8898-131">[#3294](http://nuget.codeplex.com/workitem/3294) -修正 nuget.exe package 命令中的 bug, 這會允許加入具有相同名稱但大小寫不同的檔案, 最後造成「專案已存在」例外狀況。</span><span class="sxs-lookup"><span data-stu-id="d8898-131">[#3294](http://nuget.codeplex.com/workitem/3294) - Fix bug in nuget.exe package command which would allow adding files with the same name but different casing, eventually causing "Item already exists" exception.</span></span>
12. <span data-ttu-id="d8898-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino)([@kzu](https://twitter.com/kzu))</span><span class="sxs-lookup"><span data-stu-id="d8898-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span></span>
     - <span data-ttu-id="d8898-133">[#2990](http://nuget.codeplex.com/workitem/2990) -將版本屬性新增至 NetPortableProfile 類別。</span><span class="sxs-lookup"><span data-stu-id="d8898-133">[#2990](http://nuget.codeplex.com/workitem/2990) - Add Version property to NetPortableProfile class.</span></span>
13. [<span data-ttu-id="d8898-134">David Simner</span><span class="sxs-lookup"><span data-stu-id="d8898-134">David Simner</span></span>](https://www.codeplex.com/site/users/view/DavidSimner)
     - <span data-ttu-id="d8898-135">[#3460](https://nuget.codeplex.com/workitem/3460) -修正 requireApiKey = true 時的 bug NullReferenceException, 但標頭 X-APIKEY 不存在</span><span class="sxs-lookup"><span data-stu-id="d8898-135">[#3460](https://nuget.codeplex.com/workitem/3460) - Fix bug NullReferenceException if requireApiKey = true, but the header X-NUGET-APIKEY isn't present</span></span>
14. <span data-ttu-id="d8898-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism)([@friism](https://twitter.com/friism))</span><span class="sxs-lookup"><span data-stu-id="d8898-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span></span>
     - <span data-ttu-id="d8898-137">[#3278](https://nuget.codeplex.com/workitem/3278) -修正 NuGet. 組建目標檔案, 使其在 MonoDevelop 上正常運作</span><span class="sxs-lookup"><span data-stu-id="d8898-137">[#3278](https://nuget.codeplex.com/workitem/3278) - Fixes NuGet.Build targets file to so that it works correctly on MonoDevelop</span></span>
15. <span data-ttu-id="d8898-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm)([@pranav_km](https://twitter.com/pranav_km))</span><span class="sxs-lookup"><span data-stu-id="d8898-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span></span>
     - <span data-ttu-id="d8898-139">藉由增加平行處理來改善還原命令效能</span><span class="sxs-lookup"><span data-stu-id="d8898-139">Improve Restore command performance by increasing parallelization</span></span>

## <a name="notable-features-in-the-release"></a><span data-ttu-id="d8898-140">版本中值得注意的功能</span><span class="sxs-lookup"><span data-stu-id="d8898-140">Notable features in the release</span></span>

### <a name="package-restore-by-default-with-implicit-consent"></a><span data-ttu-id="d8898-141">預設封裝還原 (具有隱含同意)</span><span class="sxs-lookup"><span data-stu-id="d8898-141">Package Restore by Default (with implicit consent)</span></span>

<span data-ttu-id="d8898-142">NuGet 2.7 引進封裝還原的新方法, 同時也克服了一大障礙:套件還原同意現在預設為開啟!</span><span class="sxs-lookup"><span data-stu-id="d8898-142">NuGet 2.7 introduces a new approach to package restore, and also overcomes a major hurdle: Package restore consent is now on by default!</span></span> <span data-ttu-id="d8898-143">新方法和隱含同意的結合, 可大幅簡化封裝還原案例。</span><span class="sxs-lookup"><span data-stu-id="d8898-143">The combination of the new approach and the implicit consent will drastically simplify package restore scenarios.</span></span>

#### <a name="implicit-consent"></a><span data-ttu-id="d8898-144">隱含同意</span><span class="sxs-lookup"><span data-stu-id="d8898-144">Implicit Consent</span></span>

<span data-ttu-id="d8898-145">使用 NuGet 版本2.0、2.1、2.2、2.5 和2.6 時, 使用者需要明確允許 NuGet 在組建期間下載遺漏的套件。</span><span class="sxs-lookup"><span data-stu-id="d8898-145">With NuGet versions 2.0, 2.1, 2.2, 2.5, and 2.6, users needed to explicitly allow NuGet to download missing packages during build.</span></span> <span data-ttu-id="d8898-146">如果未明確指定此同意, 則已啟用封裝還原的解決方案將無法建立, 直到使用者授與同意為止。</span><span class="sxs-lookup"><span data-stu-id="d8898-146">If this consent had not been explicitly given, then solutions that had enabled package restore would fail to build until the user had granted consent.</span></span>

<span data-ttu-id="d8898-147">從 NuGet 2.7 開始, 封裝還原同意預設為開啟, 並允許使用者在需要時使用 NuGet 設定 Visual Studio 中的核取方塊, 明確*退出宣告*套件還原。</span><span class="sxs-lookup"><span data-stu-id="d8898-147">Starting with NuGet 2.7, package restore consent is ON by default while allowing users to explicitly *opt out* of package restore if desired, using the checkbox in NuGet's settings in Visual Studio.</span></span> <span data-ttu-id="d8898-148">這項隱含同意變更會影響下列環境中的 NuGet:</span><span class="sxs-lookup"><span data-stu-id="d8898-148">This change for implicit consent affects NuGet in the following environments:</span></span>

* <span data-ttu-id="d8898-149">Visual Studio 2013 Preview</span><span class="sxs-lookup"><span data-stu-id="d8898-149">Visual Studio 2013 Preview</span></span>
* <span data-ttu-id="d8898-150">Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="d8898-150">Visual Studio 2012</span></span>
* <span data-ttu-id="d8898-151">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="d8898-151">Visual Studio 2010</span></span>
* <span data-ttu-id="d8898-152">nuget.exe 命令列公用程式</span><span class="sxs-lookup"><span data-stu-id="d8898-152">nuget.exe Command-Line Utility</span></span>

#### <a name="automatic-package-restore-in-visual-studio"></a><span data-ttu-id="d8898-153">Visual Studio 中的自動套件還原</span><span class="sxs-lookup"><span data-stu-id="d8898-153">Automatic Package Restore in Visual Studio</span></span>

<span data-ttu-id="d8898-154">從 NuGet 2.7 開始, NuGet 會在 Visual Studio 組建期間自動下載遺漏的套件, 即使尚未針對解決方案明確啟用套件還原也一樣。</span><span class="sxs-lookup"><span data-stu-id="d8898-154">Starting with NuGet 2.7, NuGet will automatically download missing packages during build in Visual Studio, even if package restore hasn't been explicitly enabled for the solution.</span></span> <span data-ttu-id="d8898-155">當您建立專案或方案時, 但在叫用 MSBuild 之前, 會在 Visual Studio 中進行這項自動封裝還原。</span><span class="sxs-lookup"><span data-stu-id="d8898-155">This Automatic Package Restore happens in Visual Studio when you build a project or the solution, but before MSBuild is invoked.</span></span> <span data-ttu-id="d8898-156">這會產生幾個重要的優點:</span><span class="sxs-lookup"><span data-stu-id="d8898-156">This yields a few significant benefits:</span></span>

1. <span data-ttu-id="d8898-157">不再需要在您的解決方案上使用 [啟用 NuGet 套件還原] 手勢</span><span class="sxs-lookup"><span data-stu-id="d8898-157">No further need to use the "Enable NuGet Package Restore" gesture on your solution</span></span>
1. <span data-ttu-id="d8898-158">不需要修改專案, NuGet 也不會對您的專案進行變更, 以確保已啟用封裝還原</span><span class="sxs-lookup"><span data-stu-id="d8898-158">Projects don't need to be modified, and NuGet won't make changes to your project to ensure package restore is enabled</span></span>
1. <span data-ttu-id="d8898-159">所有 NuGet 套件 (包括包含 .props/目標檔案的 MSBuild 匯入) 都將在叫用 msbuild*之前*還原, 以確保在組建期間能夠正確辨識這些 .props/目標</span><span class="sxs-lookup"><span data-stu-id="d8898-159">All NuGet packages, including those that included MSBuild imports for props/targets files, will be restored *before* MSBuild is invoked, ensuring those props/targets are properly recognized during the build</span></span>

<span data-ttu-id="d8898-160">若要在 Visual Studio 中使用自動封裝還原, 您只需要採取一個 (in) 動作:</span><span class="sxs-lookup"><span data-stu-id="d8898-160">In order to use Automatic Package Restore in Visual Studio, you only need to take one (in)action:</span></span>

1. <span data-ttu-id="d8898-161">不要簽入您`packages`的資料夾</span><span class="sxs-lookup"><span data-stu-id="d8898-161">Don't check in your `packages` folder</span></span>

<span data-ttu-id="d8898-162">有數種方式可以從原始`packages`檔控制中省略您的資料夾。</span><span class="sxs-lookup"><span data-stu-id="d8898-162">There are several ways to omit your `packages` folder from source control.</span></span> <span data-ttu-id="d8898-163">如需詳細資訊, 請參閱[套件和原始檔控制](../consume-packages/packages-and-source-control.md)主題。</span><span class="sxs-lookup"><span data-stu-id="d8898-163">For more information, see the [Packages and Source Control](../consume-packages/packages-and-source-control.md) topic.</span></span>

<span data-ttu-id="d8898-164">雖然所有使用者都會隱含地加入宣告自動套件還原同意, 但是您可以輕鬆地透過 Visual Studio 中的套件管理員設定來退出。</span><span class="sxs-lookup"><span data-stu-id="d8898-164">While all users are implicitly opted into Automatic Package Restore consent, you can easily opt out through the Package Manager settings in Visual Studio.</span></span>

![套件管理員設定](./media/NuGet-2.7/package-manager-settings.png)

#### <a name="simplified-package-restore-from-the-command-line"></a><span data-ttu-id="d8898-166">從命令列簡化套件還原</span><span class="sxs-lookup"><span data-stu-id="d8898-166">Simplified Package Restore from the Command-Line</span></span>

<span data-ttu-id="d8898-167">NuGet 2.7 引進了適用于 nuget.exe 的新功能:`nuget.exe restore`</span><span class="sxs-lookup"><span data-stu-id="d8898-167">NuGet 2.7 introduces a new feature for nuget.exe: `nuget.exe restore`</span></span>

<span data-ttu-id="d8898-168">這個新的 Restore 命令可讓您使用單一命令, 輕鬆還原解決方案的所有套件, 方法是接受方案檔案或資料夾做為引數。</span><span class="sxs-lookup"><span data-stu-id="d8898-168">This new Restore command allows you to easily restore all packages for a solution with a single command, by accepting a solution file or folder as an argument.</span></span> <span data-ttu-id="d8898-169">此外, 當目前的資料夾中只有一個方案時, 就會隱含該引數。</span><span class="sxs-lookup"><span data-stu-id="d8898-169">Furthermore, that argument is implied when there's only a single solution in the current folder.</span></span> <span data-ttu-id="d8898-170">這表示下列所有工作都是從包含單一方案檔 (Csharpconsoleapp .sln) 的資料夾中執行:</span><span class="sxs-lookup"><span data-stu-id="d8898-170">That means the following all work from a folder that contains a single solution file (MySolution.sln):</span></span>

1. <span data-ttu-id="d8898-171">nuget.exe restore Csharpconsoleapp .sln</span><span class="sxs-lookup"><span data-stu-id="d8898-171">nuget.exe restore MySolution.sln</span></span>
1. <span data-ttu-id="d8898-172">nuget.exe 還原。</span><span class="sxs-lookup"><span data-stu-id="d8898-172">nuget.exe restore .</span></span>
1. <span data-ttu-id="d8898-173">nuget.exe 還原</span><span class="sxs-lookup"><span data-stu-id="d8898-173">nuget.exe restore</span></span>

<span data-ttu-id="d8898-174">Restore 命令會開啟方案檔, 並尋找方案中的所有專案。</span><span class="sxs-lookup"><span data-stu-id="d8898-174">The Restore command will open the solution file and find all projects within the solution.</span></span> <span data-ttu-id="d8898-175">它會從該處尋找每個`packages.config`專案的檔案, 並還原所有找到的套件。</span><span class="sxs-lookup"><span data-stu-id="d8898-175">From there, it will find the `packages.config` files for each of the projects and restore all of the packages found.</span></span> <span data-ttu-id="d8898-176">它也會還原在檔案中找到的`.nuget\packages.config`解決方案層級封裝。</span><span class="sxs-lookup"><span data-stu-id="d8898-176">It also restores solution-level packages found in the `.nuget\packages.config` file.</span></span> <span data-ttu-id="d8898-177">如需新的 Restore 命令的詳細資訊, 請參閱[命令列參考](../reference/cli-reference/cli-ref-restore.md)。</span><span class="sxs-lookup"><span data-stu-id="d8898-177">More information about the new Restore command can be found in the [Command-Line Reference](../reference/cli-reference/cli-ref-restore.md).</span></span>

#### <a name="the-new-package-restore-workflow"></a><span data-ttu-id="d8898-178">新的封裝還原工作流程</span><span class="sxs-lookup"><span data-stu-id="d8898-178">The New Package Restore Workflow</span></span>

<span data-ttu-id="d8898-179">我們對套件還原的這些變更很興奮, 因為它引進了新的工作流程。</span><span class="sxs-lookup"><span data-stu-id="d8898-179">We are excited about these changes to Package Restore, as it introduces a new workflow.</span></span> <span data-ttu-id="d8898-180">如果您想要從原始檔控制中省略封裝, 您只需`packages`認可資料夾。</span><span class="sxs-lookup"><span data-stu-id="d8898-180">If you want to omit your packages from source control you simply don't commit the `packages` folder.</span></span> <span data-ttu-id="d8898-181">開啟並建立解決方案 Visual Studio 使用者會看到套件已自動還原。</span><span class="sxs-lookup"><span data-stu-id="d8898-181">Visual Studio users who open and build the solution will see the packages automatically restored.</span></span> <span data-ttu-id="d8898-182">針對命令列組建, 只需`nuget.exe restore` `msbuild`在叫用前叫用。</span><span class="sxs-lookup"><span data-stu-id="d8898-182">For command-line builds, simply invoke `nuget.exe restore` before invoking `msbuild`.</span></span> <span data-ttu-id="d8898-183">您不再需要記得在解決方案上使用 [啟用 NuGet 套件還原] 手勢, 而且我們不再需要修改您的專案來改變組建。</span><span class="sxs-lookup"><span data-stu-id="d8898-183">You no longer need to remember to use the "Enable NuGet Package Restore" gesture on your solution, and we'll no longer need to modify your projects to alter the build.</span></span> <span data-ttu-id="d8898-184">此外, 這也為包含 MSBuild 匯入的套件提供了更好的體驗, 特別是透過 NuGet 最近功能新增的匯入, 以自動從 \build 資料夾匯[入 .props/目標](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files)檔案。</span><span class="sxs-lookup"><span data-stu-id="d8898-184">And this also yields a much improved experience for packages that include MSBuild imports, especially for imports added through NuGet's recent feature for [automatically importing props/targets files](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files) from the \build folder.</span></span>

<span data-ttu-id="d8898-185">除了我們自己完成的工作之外, 我們也會與一些重要的合作夥伴合作, 將這種新方法舍入。我們尚無具體的時程表, 但每個夥伴都是我們對新方法的興奮。</span><span class="sxs-lookup"><span data-stu-id="d8898-185">In addition to the work we've done ourselves, we're also working with some important partners to round this new approach out. We don't have concrete timelines for any of these yet, but each partner is as excited as we are about the new approach.</span></span>

* <span data-ttu-id="d8898-186">Team Foundation Service-他們正在努力將的呼叫`nuget.exe restore`整合到預設的組建案例中。</span><span class="sxs-lookup"><span data-stu-id="d8898-186">Team Foundation Service - They are working to integrate the call to `nuget.exe restore` into the default build scenarios.</span></span>
* <span data-ttu-id="d8898-187">Windows Azure 網站-他們正致力於讓您將專案推送至 Azure, 並`nuget.exe restore`在建立網站之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="d8898-187">Windows Azure Web Sites - They are working to allow you to push your project to Azure and have `nuget.exe restore` called before your web site is built.</span></span>
* <span data-ttu-id="d8898-188">TeamCity-他們正在更新其 TeamCity 8.x 的 NuGet 安裝程式外掛程式</span><span class="sxs-lookup"><span data-stu-id="d8898-188">TeamCity - They are updating their NuGet Installer plugin for TeamCity 8.x</span></span>
* <span data-ttu-id="d8898-189">AppHarbor-他們正致力於讓您將存放庫推送至 AppHarbor, 並`nuget.exe restore`在您的解決方案建立之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="d8898-189">AppHarbor - They are working to allow you to push your repo to AppHarbor and have `nuget.exe restore` called before your solution is build.</span></span>

<span data-ttu-id="d8898-190">在上述每個合作夥伴中, 他們會使用自己的 nuget.exe 複本, 而且您不需要在解決方案中攜帶 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="d8898-190">With each of the partners above, they would use their own copy of nuget.exe and you would not need to carry nuget.exe in your solution.</span></span>

#### <a name="known-issues"></a><span data-ttu-id="d8898-191">已知問題</span><span class="sxs-lookup"><span data-stu-id="d8898-191">Known Issues</span></span>

<span data-ttu-id="d8898-192">使用初始2.7 版本進行 nuget.exe 還原有兩個已知問題, 但在9/6/2013 上已修正[nuget. 命令列套件](http://www.nuget.org/packages/NuGet.CommandLine/)的更新。</span><span class="sxs-lookup"><span data-stu-id="d8898-192">There were two known issues with nuget.exe restore with the initial 2.7 release, but they were fixed on 9/6/2013 with an update to the [NuGet.CommandLine package](http://www.nuget.org/packages/NuGet.CommandLine/).</span></span>  <span data-ttu-id="d8898-193">此更新也適用于 CodePlex 上的[NuGet 2.7 下載頁面](https://nuget.codeplex.com/releases/view/107605)。</span><span class="sxs-lookup"><span data-stu-id="d8898-193">This update is also available on the [NuGet 2.7 download page](https://nuget.codeplex.com/releases/view/107605) on CodePlex.</span></span>  <span data-ttu-id="d8898-194">執行`nuget.exe update -self`會更新至最新版本。</span><span class="sxs-lookup"><span data-stu-id="d8898-194">Running `nuget.exe update -self` will update to the latest release.</span></span>

<span data-ttu-id="d8898-195">修正的內容為:</span><span class="sxs-lookup"><span data-stu-id="d8898-195">The fixed were:</span></span>

1. [<span data-ttu-id="d8898-196">使用 SLN 檔案時, 新的套件還原無法在 Mono 上使用</span><span class="sxs-lookup"><span data-stu-id="d8898-196">New package restore doesn't work on Mono when using SLN file</span></span>](https://nuget.codeplex.com/workitem/3596)
1. [<span data-ttu-id="d8898-197">新的封裝還原不適用於 Wix 專案</span><span class="sxs-lookup"><span data-stu-id="d8898-197">New package restore doesn't work with Wix projects</span></span>](https://nuget.codeplex.com/workitem/3598)

<span data-ttu-id="d8898-198">新的封裝還原工作流程也有一個已知的問題, 也就是[自動封裝還原不適用於解決方案資料夾下的專案](https://nuget.codeplex.com/workitem/3625)。</span><span class="sxs-lookup"><span data-stu-id="d8898-198">There is also a known issue with the new package restore workflow whereby [Automatic Package Restore does not work for projects under a solution folder](https://nuget.codeplex.com/workitem/3625).</span></span> <span data-ttu-id="d8898-199">此問題已在 NuGet 2.7.1 中修正。</span><span class="sxs-lookup"><span data-stu-id="d8898-199">This issue was fixed in NuGet 2.7.1.</span></span>

### <a name="project-retargeting-and-upgrade-build-errorswarnings"></a><span data-ttu-id="d8898-200">專案重定和升級組建錯誤/警告</span><span class="sxs-lookup"><span data-stu-id="d8898-200">Project Retargeting and Upgrade Build Errors/Warnings</span></span>

<span data-ttu-id="d8898-201">在重定或升級您的專案之後, 您發現部分 NuGet 套件無法正常運作。</span><span class="sxs-lookup"><span data-stu-id="d8898-201">Many times after retargeting or upgrading your project, you find that some NuGet packages aren't functioning properly.</span></span> <span data-ttu-id="d8898-202">可惜的是, 這並不表示這種情況, 因此不提供如何解決此情況的指引。</span><span class="sxs-lookup"><span data-stu-id="d8898-202">Unfortunately, there is no indication of this and then there's no guidance on how to address it.</span></span> <span data-ttu-id="d8898-203">使用 NuGet 2.7, 我們現在會使用一些 Visual Studio 事件來辨識您的專案是以影響已安裝之 NuGet 套件的方式重定或升級。</span><span class="sxs-lookup"><span data-stu-id="d8898-203">With NuGet 2.7, we now use some Visual Studio events to recognize when you've retargeted or upgraded your project in a way that affects your installed NuGet packages.</span></span>

<span data-ttu-id="d8898-204">如果我們偵測到您的任何套件受到重定或升級影響, 我們將會產生立即的組建錯誤, 讓您知道。</span><span class="sxs-lookup"><span data-stu-id="d8898-204">If we detect that any of your packages were affected by the retargeting or upgrade, we'll produce immediate build errors to let you know.</span></span> <span data-ttu-id="d8898-205">除了立即組建錯誤之外, 我們也會在您`requireReinstallation="true"` `packages.config`的檔案中保存受重定影響之所有封裝的旗標, 而 Visual Studio 中的每個後續組建都會引發這些封裝的組建警告。</span><span class="sxs-lookup"><span data-stu-id="d8898-205">In addition to the immediate build error, we also persist a `requireReinstallation="true"` flag in your `packages.config` file for all packages that were affected by the retargeting, and each subsequent build in Visual Studio will raise build warnings for those packages.</span></span>

<span data-ttu-id="d8898-206">雖然 NuGet 無法採取自動動作來重新安裝受影響的套件, 但我們希望此指示和警告會引導您瞭解何時需要重新安裝套件。</span><span class="sxs-lookup"><span data-stu-id="d8898-206">Although NuGet cannot take automatic action to reinstall affected packages, we hope this indication and warning will guide help you discover when you need to reinstall packages.</span></span> <span data-ttu-id="d8898-207">我們也會使用[套件重新安裝指引檔](../consume-packages/reinstalling-and-updating-packages.md), 這些錯誤訊息會引導您前往。</span><span class="sxs-lookup"><span data-stu-id="d8898-207">We are also working on [package reinstallation guidance documentation](../consume-packages/reinstalling-and-updating-packages.md) that these error messages direct you to.</span></span>

### <a name="nuget-configuration-defaults"></a><span data-ttu-id="d8898-208">NuGet 設定預設值</span><span class="sxs-lookup"><span data-stu-id="d8898-208">NuGet Configuration Defaults</span></span>

<span data-ttu-id="d8898-209">許多公司都在內部使用 NuGet, 但是已經很難引導其開發人員使用內部套件來源, 而不是 nuget.org。NuGet 2.7 引進了設定預設功能, 可針對下列各項指定全電腦的預設值:</span><span class="sxs-lookup"><span data-stu-id="d8898-209">Many companies are using NuGet internally, but have had a hard time guiding their developers to use internal package sources instead of nuget.org. NuGet 2.7 introduces a Configuration Defaults feature that allows machine-wide defaults to be specified for:</span></span>

1. <span data-ttu-id="d8898-210">已啟用套件來源</span><span class="sxs-lookup"><span data-stu-id="d8898-210">Enabled package sources</span></span>
1. <span data-ttu-id="d8898-211">已註冊但已停用套件來源</span><span class="sxs-lookup"><span data-stu-id="d8898-211">Registered, but disabled package sources</span></span>
1. <span data-ttu-id="d8898-212">預設的 nuget.exe 推送來源</span><span class="sxs-lookup"><span data-stu-id="d8898-212">The default nuget.exe push source</span></span>

<span data-ttu-id="d8898-213">您現在可以在位於`%ProgramData%\NuGet\NuGetDefaults.Config`的檔案內設定這些檔案。</span><span class="sxs-lookup"><span data-stu-id="d8898-213">Each of these can now be configured within a file located at `%ProgramData%\NuGet\NuGetDefaults.Config`.</span></span> <span data-ttu-id="d8898-214">如果此設定檔指定封裝來源, 則預設的 nuget.org 封裝來源將不會自動註冊, 而且中`NuGetDefaults.Config`的將會改為註冊。</span><span class="sxs-lookup"><span data-stu-id="d8898-214">If this config file specifies package sources, then the default nuget.org package source will not be registered automatically, and the ones in `NuGetDefaults.Config` will be registered instead.</span></span>

<span data-ttu-id="d8898-215">雖然不需要使用這項功能, 但我們預期公司會`NuGetDefaults.Config`使用群組原則來部署檔案。</span><span class="sxs-lookup"><span data-stu-id="d8898-215">While not required to use this feature, we expect companies to deploy `NuGetDefaults.Config` files using Group Policy.</span></span>

<span data-ttu-id="d8898-216">*請注意, 這項功能永遠不會使套件來源從開發人員的 NuGet 設定中移除。這表示, 如果開發人員已使用 NuGet, 因此已註冊 nuget.org 套件來源, 則在檔案建立`NuGetDefaults.Config`後不會將它移除。*</span><span class="sxs-lookup"><span data-stu-id="d8898-216">*Note that this feature will never cause a package source to be removed from a developer's NuGet settings. That means if the developer has already used NuGet and therefore has the nuget.org package source registered, it won't be removed after the creation of a `NuGetDefaults.Config` file.*</span></span>

<span data-ttu-id="d8898-217">如需這項功能的詳細資訊, 請參閱[NuGet 設定預設值](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file)。</span><span class="sxs-lookup"><span data-stu-id="d8898-217">See [NuGet Configuration Defaults](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file) for more information about this feature.</span></span>

### <a name="renaming-the-default-package-source"></a><span data-ttu-id="d8898-218">重新命名預設封裝來源</span><span class="sxs-lookup"><span data-stu-id="d8898-218">Renaming the Default Package Source</span></span>

<span data-ttu-id="d8898-219">NuGet 一律會註冊名為「NuGet 官方套件來源」的預設套件來源, 其指向 nuget.org。該名稱是 verbose, 而且也沒有指定實際指向的位置。</span><span class="sxs-lookup"><span data-stu-id="d8898-219">NuGet has always registered a default package source called "NuGet official package source" that points to nuget.org. That name was verbose and it also didn't specify where it was actually pointing.</span></span> <span data-ttu-id="d8898-220">為了解決這兩個問題, 我們已將此套件來源重新命名為 UI 中的 "nuget.org"。</span><span class="sxs-lookup"><span data-stu-id="d8898-220">To address those two issues, we've renamed this package source to simply "nuget.org" in the UI.</span></span> <span data-ttu-id="d8898-221">套件來源的 URL 也已變更為包含 "www"。</span><span class="sxs-lookup"><span data-stu-id="d8898-221">The URL for the package source was also changed to include the "www."</span></span> <span data-ttu-id="d8898-222">前置詞的「套件組合識別碼」。</span><span class="sxs-lookup"><span data-stu-id="d8898-222">prefix.</span></span> <span data-ttu-id="d8898-223">使用 NuGet 2.7 之後, 您現有的「NuGet 官方套件來源」將自動更新為「nuget.org」, 作為其 URL 的<https://www.nuget.org/api/v2/>名稱和「」。</span><span class="sxs-lookup"><span data-stu-id="d8898-223">After using NuGet 2.7, your existing "NuGet official package source" will automatically be updated to "nuget.org" as its name and "<https://www.nuget.org/api/v2/>" as its URL.</span></span>

### <a name="performance-improvements"></a><span data-ttu-id="d8898-224">效能改進</span><span class="sxs-lookup"><span data-stu-id="d8898-224">Performance Improvements</span></span>

<span data-ttu-id="d8898-225">我們在2.7 中做了一些效能改進, 這會產生較小的記憶體耗用量、磁片使用量較少, 以及更快速的套件安裝。</span><span class="sxs-lookup"><span data-stu-id="d8898-225">We made some performance improvement in 2.7 which will yield smaller memory footprint, less disk usage and faster package installation.</span></span> <span data-ttu-id="d8898-226">我們也對以 OData 為基礎的摘要進行了更聰明的查詢, 這將會減少整體裝載。</span><span class="sxs-lookup"><span data-stu-id="d8898-226">We also made smarter queries to OData-based feeds which will reduce the overall payload.</span></span>

### <a name="new-extensibility-apis"></a><span data-ttu-id="d8898-227">新的擴充性 Api</span><span class="sxs-lookup"><span data-stu-id="d8898-227">New Extensibility APIs</span></span>

<span data-ttu-id="d8898-228">我們已在擴充性服務中新增一些新的 Api, 以填補舊版中遺漏功能的差距。</span><span class="sxs-lookup"><span data-stu-id="d8898-228">We added some new APIs to our extensibility services to fill the gap of missing functionalities in previous releases.</span></span>

#### <a name="ivspackageinstallerservices"></a><span data-ttu-id="d8898-229">IVsPackageInstallerServices</span><span class="sxs-lookup"><span data-stu-id="d8898-229">IVsPackageInstallerServices</span></span>

    ```cs
    // Checks if a NuGet package with the specified Id and version is installed in the specified project.
    bool IsPackageInstalledEx(Project project, string id, string versionString);

    // Get the list of NuGet packages installed in the specified project.
    IEnumerable<IVsPackageMetadata> GetInstalledPackages(Project project);
    ```

#### <a name="ivspackageinstaller"></a><span data-ttu-id="d8898-230">IVsPackageInstaller</span><span class="sxs-lookup"><span data-stu-id="d8898-230">IVsPackageInstaller</span></span>

    ```cs
    // Installs one or more packages that exist on disk in a folder defined in the registry.
    void InstallPackagesFromRegistryRepository(string keyName, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);

    // Installs one or more packages that are embedded in a Visual Studio Extension Package.
    void InstallPackagesFromVSExtensionRepository(string extensionId, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);
    ```

### <a name="development-only-dependencies"></a><span data-ttu-id="d8898-231">僅限開發的相依性</span><span class="sxs-lookup"><span data-stu-id="d8898-231">Development-Only Dependencies</span></span>

<span data-ttu-id="d8898-232">這項功能是由[Adam Ralph](https://twitter.com/adamralph)所提供, 可讓套件作者宣告只在開發階段使用, 而不需要封裝相依性的相依性。</span><span class="sxs-lookup"><span data-stu-id="d8898-232">This feature was contributed by [Adam Ralph](https://twitter.com/adamralph) and it allows package authors to declare dependencies that were only used at development time and don't require package dependencies.</span></span> <span data-ttu-id="d8898-233">藉由將`developmentDependency="true"`屬性新增至中`packages.config`的封裝`nuget.exe pack` , 將不再包含該封裝做為相依性。</span><span class="sxs-lookup"><span data-stu-id="d8898-233">By adding a `developmentDependency="true"` attribute to a package in `packages.config`, `nuget.exe pack` will no longer include that package as a dependency.</span></span>

### <a name="removed-support-for-visual-studio-2010-express-for-windows-phone"></a><span data-ttu-id="d8898-234">已移除 Visual Studio 2010 Express for Windows Phone 的支援</span><span class="sxs-lookup"><span data-stu-id="d8898-234">Removed Support for Visual Studio 2010 Express for Windows Phone</span></span>

<span data-ttu-id="d8898-235">2\.7 中新的封裝還原模型是由與主要 NuGet VSPackage 不同的新 VSPackage 所執行。</span><span class="sxs-lookup"><span data-stu-id="d8898-235">The new package restore model in 2.7 is implemented by a new VSPackage which is different from the main NuGet VSPackage.</span></span> <span data-ttu-id="d8898-236">由於技術問題的緣故, 這個新的 VSPackage 在 Windows Phone SKU 的*Visual Studio 2010 Express*中無法正常運作, 因為我們與其他支援的 Visual Studio sku 共用相同的程式碼基底。</span><span class="sxs-lookup"><span data-stu-id="d8898-236">Due to a technical issue, this new VSPackage doesn't work correctly in the *Visual Studio 2010 Express for Windows Phone* SKU as we share the same code base with other supported Visual Studio SKUs.</span></span> <span data-ttu-id="d8898-237">因此, 從 NuGet 2.7 開始, 我們將從已發行的延伸模組中卸載*Visual Studio 2010 Express Windows Phone*的支援。</span><span class="sxs-lookup"><span data-stu-id="d8898-237">Therefore, starting with NuGet 2.7, we are dropping support for *Visual Studio 2010 Express for Windows Phone* from the published extension.</span></span> <span data-ttu-id="d8898-238">*Visual Studio 2010 Express For Web*的支援仍包含在發行至 Visual Studio 延伸模組資源庫的主要延伸模組中。</span><span class="sxs-lookup"><span data-stu-id="d8898-238">Support for *Visual Studio 2010 Express for Web* is still included in the primary extension published to the Visual Studio Extension Gallery.</span></span>

<span data-ttu-id="d8898-239">由於我們不確定有多少開發人員仍在該版本/版的 Visual Studio 中使用 NuGet, 因此我們會特別發佈個別的 Visual Studio 延伸模組, 供這些使用者使用, 並在 CodePlex 上發佈 (而不是 Visual Studio 的延伸模組資源庫).</span><span class="sxs-lookup"><span data-stu-id="d8898-239">Since we are unsure how many developers are still using NuGet in that version/edition of Visual Studio, we are publishing a separate Visual Studio extension specifically for those users and publishing it on CodePlex (rather than the Visual Studio Extension Gallery).</span></span> <span data-ttu-id="d8898-240">我們不打算繼續維護該延伸模組, 但如果這會影響您, 請在 CodePlex 上提出問題以讓我們知道。</span><span class="sxs-lookup"><span data-stu-id="d8898-240">We don't plan to continue to maintain that extension, but if this affects you please let us know by filing an issue on CodePlex.</span></span>

<span data-ttu-id="d8898-241">若要下載 NuGet 套件管理員 (適用于 Windows Phone 的 Visual Studio 2010 Express), 請造訪[nuget 2.7 下載](https://nuget.codeplex.com/releases/view/107605)頁面。</span><span class="sxs-lookup"><span data-stu-id="d8898-241">To download the NuGet Package Manager (for Visual Studio 2010 Express for Windows Phone), visit the [NuGet 2.7 Downloads](https://nuget.codeplex.com/releases/view/107605) page.</span></span>

### <a name="bug-fixes"></a><span data-ttu-id="d8898-242">錯誤修正</span><span class="sxs-lookup"><span data-stu-id="d8898-242">Bug Fixes</span></span>

<span data-ttu-id="d8898-243">除了這些功能之外, 這一版的 NuGet 也包含其他許多 bug 修正。</span><span class="sxs-lookup"><span data-stu-id="d8898-243">In addition to these features, this release of NuGet also includes many other bug fixes.</span></span> <span data-ttu-id="d8898-244">發行中解決了97的總問題。</span><span class="sxs-lookup"><span data-stu-id="d8898-244">There were 97 total issues addressed in the release.</span></span> <span data-ttu-id="d8898-245">如需 NuGet 2.7 中已修正之工作專案的完整清單, 請參閱[此版本的 NuGet 問題追蹤程式](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all)。</span><span class="sxs-lookup"><span data-stu-id="d8898-245">For a full list of work items fixed in NuGet 2.7, please view the [NuGet Issue Tracker for this release](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all).</span></span>
