---
title: NuGet 2.7 版本資訊
description: NuGet 2.7 的版本資訊，包含已知問題、bug 修正、新增功能和 Dcr。
author: JonDouglas
ms.author: jodou
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 70600e3c563e357663b4a2f24139d2fc25f75fdf
ms.sourcegitcommit: ee6c3f203648a5561c809db54ebeb1d0f0598b68
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/26/2021
ms.locfileid: "98780393"
---
# <a name="nuget-27-release-notes"></a><span data-ttu-id="61ba0-103">NuGet 2.7 版本資訊</span><span class="sxs-lookup"><span data-stu-id="61ba0-103">NuGet 2.7 Release Notes</span></span>

<span data-ttu-id="61ba0-104">[適用于 WebMatrix 的 NuGet 2.6.1 版本](../release-notes/nuget-2.6.1-for-webmatrix.md)  |  資訊[NuGet 2.7.1 版本](../release-notes/nuget-2.7.1.md)資訊</span><span class="sxs-lookup"><span data-stu-id="61ba0-104">[NuGet 2.6.1 for WebMatrix Release Notes](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 Release Notes](../release-notes/nuget-2.7.1.md)</span></span>

<span data-ttu-id="61ba0-105">NuGet 2.7 已于2013年8月22日發行。</span><span class="sxs-lookup"><span data-stu-id="61ba0-105">NuGet 2.7 was released on August 22, 2013.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="61ba0-106">通知</span><span class="sxs-lookup"><span data-stu-id="61ba0-106">Acknowledgements</span></span>

<span data-ttu-id="61ba0-107">我們想要感謝下列外部參與者對 NuGet 2.7 的重大貢獻：</span><span class="sxs-lookup"><span data-stu-id="61ba0-107">We would like to thank the following external contributors for their significant contributions to NuGet 2.7:</span></span>

1. <span data-ttu-id="61ba0-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span></span>
    - <span data-ttu-id="61ba0-109">列出套件和詳細資訊時顯示授權 url。</span><span class="sxs-lookup"><span data-stu-id="61ba0-109">Show License url when listing packages and verbosity is detailed.</span></span>
2. <span data-ttu-id="61ba0-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span></span>
    - <span data-ttu-id="61ba0-111">[#1956](http://nuget.codeplex.com/workitem/1956) -將 developmentDependency 屬性新增至 `packages.config` ，並在 pack 命令中使用它，只包含執行時間封裝</span><span class="sxs-lookup"><span data-stu-id="61ba0-111">[#1956](http://nuget.codeplex.com/workitem/1956) - Add developmentDependency attribute to `packages.config` and use it in pack command to only include runtime packages</span></span>
3. <span data-ttu-id="61ba0-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span></span>
    - <span data-ttu-id="61ba0-113">避免 nuget.exe pack 命令中出現重複的屬性索引鍵。</span><span class="sxs-lookup"><span data-stu-id="61ba0-113">Avoid duplicate Properties key in nuget.exe pack command.</span></span>
4. <span data-ttu-id="61ba0-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span></span>
    - <span data-ttu-id="61ba0-115">[#2610](http://nuget.codeplex.com/workitem/2610) -將電腦快取大小增加至200。</span><span class="sxs-lookup"><span data-stu-id="61ba0-115">[#2610](http://nuget.codeplex.com/workitem/2610) - Increase machine cache size to 200.</span></span>
5. <span data-ttu-id="61ba0-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span></span>
    - <span data-ttu-id="61ba0-117">[#3217](http://nuget.codeplex.com/workitem/3217) -修正在錯誤索引標籤中顯示更新的 NuGet 對話方塊</span><span class="sxs-lookup"><span data-stu-id="61ba0-117">[#3217](http://nuget.codeplex.com/workitem/3217) - Fix NuGet dialog showing updates in the wrong tab</span></span>
    - <span data-ttu-id="61ba0-118">修正專案。 TargetFramework 在 ProjectManager 中可以是 null</span><span class="sxs-lookup"><span data-stu-id="61ba0-118">Fix Project.TargetFramework can be null in ProjectManager</span></span>
    - <span data-ttu-id="61ba0-119">[#3248](http://nuget.codeplex.com/workitem/3248) -修正 SharedPackageRepository FindPackage/FindPackagesById 將會在不存在的 packageId 上失敗</span><span class="sxs-lookup"><span data-stu-id="61ba0-119">[#3248](http://nuget.codeplex.com/workitem/3248) - Fix SharedPackageRepository FindPackage/FindPackagesById will fail on non-existent packageId</span></span>
6. <span data-ttu-id="61ba0-120">[Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) () 的古柯 [@kevfromireland](https://twitter.com/kevfromireland)</span><span class="sxs-lookup"><span data-stu-id="61ba0-120">[Kevin Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) ([@kevfromireland](https://twitter.com/kevfromireland))</span></span>
    - <span data-ttu-id="61ba0-121">[#3234](http://nuget.codeplex.com/workitem/3234) -啟用 Nomad 專案的支援</span><span class="sxs-lookup"><span data-stu-id="61ba0-121">[#3234](http://nuget.codeplex.com/workitem/3234) - Enable support for Nomad project</span></span>
7. <span data-ttu-id="61ba0-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span></span>
    - <span data-ttu-id="61ba0-123">[#3252](http://nuget.codeplex.com/workitem/3252) -修正推送命令失敗，並在檔案不存在時結束代碼0。</span><span class="sxs-lookup"><span data-stu-id="61ba0-123">[#3252](http://nuget.codeplex.com/workitem/3252) - Fix push command fails with exit code 0 when file doesn't exist.</span></span>
8. [<span data-ttu-id="61ba0-124">聖馬丁 Veselý</span><span class="sxs-lookup"><span data-stu-id="61ba0-124">Martin Veselý</span></span>](http://www.codeplex.com/site/users/view/veselkamartin)
    - <span data-ttu-id="61ba0-125">[#3226](http://nuget.codeplex.com/workitem/3226) -當專案參考資料庫專案時，使用 Add-BindingRedirect 命令修正 bug。</span><span class="sxs-lookup"><span data-stu-id="61ba0-125">[#3226](http://nuget.codeplex.com/workitem/3226) - Fix bug with Add-BindingRedirect command when a project references a database project.</span></span>
9. <span data-ttu-id="61ba0-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span></span>
    - <span data-ttu-id="61ba0-127">[#2891](http://nuget.codeplex.com/workitem/2891) -修正 nuget 的錯誤。套件的 ' exclude ' 屬性中的萬用字元剖析不正確。</span><span class="sxs-lookup"><span data-stu-id="61ba0-127">[#2891](http://nuget.codeplex.com/workitem/2891) - Fix bug of nuget.pack parsing wildcard in the 'exclude' attribute incorrectly.</span></span>
10. <span data-ttu-id="61ba0-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span></span>
     - <span data-ttu-id="61ba0-129">[#3307](http://nuget.codeplex.com/workitem/3307) -修正 bug `NuGet.targets` 時，不會在還原套件時將 $ (Platform) 傳遞給 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="61ba0-129">[#3307](http://nuget.codeplex.com/workitem/3307) - Fix bug `NuGet.targets` does not pass $(Platform) to nuget.exe when restoring packages.</span></span>
11. [<span data-ttu-id="61ba0-130">Brian Federici</span><span class="sxs-lookup"><span data-stu-id="61ba0-130">Brian Federici</span></span>](http://www.codeplex.com/site/users/view/benerdin)
     - <span data-ttu-id="61ba0-131">[#3294](http://nuget.codeplex.com/workitem/3294) -修正 nuget.exe package 命令中的 bug，此命令可讓您新增名稱相同但大小寫不同的檔案，最後會導致「專案已存在」例外狀況。</span><span class="sxs-lookup"><span data-stu-id="61ba0-131">[#3294](http://nuget.codeplex.com/workitem/3294) - Fix bug in nuget.exe package command which would allow adding files with the same name but different casing, eventually causing "Item already exists" exception.</span></span>
12. <span data-ttu-id="61ba0-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span></span>
     - <span data-ttu-id="61ba0-133">[#2990](http://nuget.codeplex.com/workitem/2990) -將 Version 屬性新增至 NetPortableProfile 類別。</span><span class="sxs-lookup"><span data-stu-id="61ba0-133">[#2990](http://nuget.codeplex.com/workitem/2990) - Add Version property to NetPortableProfile class.</span></span>
13. [<span data-ttu-id="61ba0-134">David Simner</span><span class="sxs-lookup"><span data-stu-id="61ba0-134">David Simner</span></span>](https://www.codeplex.com/site/users/view/DavidSimner)
     - <span data-ttu-id="61ba0-135">[#3460](https://nuget.codeplex.com/workitem/3460) -如果 requireApiKey = true，但標頭 X-NUGET-APIKEY 不存在，請修正 bug NullReferenceException</span><span class="sxs-lookup"><span data-stu-id="61ba0-135">[#3460](https://nuget.codeplex.com/workitem/3460) - Fix bug NullReferenceException if requireApiKey = true, but the header X-NUGET-APIKEY isn't present</span></span>
14. <span data-ttu-id="61ba0-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span></span>
     - <span data-ttu-id="61ba0-137">[#3278](https://nuget.codeplex.com/workitem/3278) -將 NuGet. 組建目標檔案修正為可在 MonoDevelop 上正確運作</span><span class="sxs-lookup"><span data-stu-id="61ba0-137">[#3278](https://nuget.codeplex.com/workitem/3278) - Fixes NuGet.Build targets file to so that it works correctly on MonoDevelop</span></span>
15. <span data-ttu-id="61ba0-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km)) </span><span class="sxs-lookup"><span data-stu-id="61ba0-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span></span>
     - <span data-ttu-id="61ba0-139">藉由增加平行處理來改善還原命令效能</span><span class="sxs-lookup"><span data-stu-id="61ba0-139">Improve Restore command performance by increasing parallelization</span></span>

## <a name="notable-features-in-the-release"></a><span data-ttu-id="61ba0-140">版本中的值得注意功能</span><span class="sxs-lookup"><span data-stu-id="61ba0-140">Notable features in the release</span></span>

### <a name="package-restore-by-default-with-implicit-consent"></a><span data-ttu-id="61ba0-141">依預設，封裝還原 (與隱含同意) </span><span class="sxs-lookup"><span data-stu-id="61ba0-141">Package Restore by Default (with implicit consent)</span></span>

<span data-ttu-id="61ba0-142">NuGet 2.7 引進了封裝還原的新方法，也克服了重大的障礙：套件還原同意現在預設為開啟！</span><span class="sxs-lookup"><span data-stu-id="61ba0-142">NuGet 2.7 introduces a new approach to package restore, and also overcomes a major hurdle: Package restore consent is now on by default!</span></span> <span data-ttu-id="61ba0-143">新方法和隱含同意的組合將大幅簡化套件還原案例。</span><span class="sxs-lookup"><span data-stu-id="61ba0-143">The combination of the new approach and the implicit consent will drastically simplify package restore scenarios.</span></span>

#### <a name="implicit-consent"></a><span data-ttu-id="61ba0-144">隱含同意</span><span class="sxs-lookup"><span data-stu-id="61ba0-144">Implicit Consent</span></span>

<span data-ttu-id="61ba0-145">使用 NuGet 2.0、2.1、2.2、2.5 和2.6 版時，使用者需要明確允許 NuGet 在組建期間下載遺漏的套件。</span><span class="sxs-lookup"><span data-stu-id="61ba0-145">With NuGet versions 2.0, 2.1, 2.2, 2.5, and 2.6, users needed to explicitly allow NuGet to download missing packages during build.</span></span> <span data-ttu-id="61ba0-146">如果未明確指定此同意，則已啟用套件還原的方案將無法建立，直到使用者同意為止。</span><span class="sxs-lookup"><span data-stu-id="61ba0-146">If this consent had not been explicitly given, then solutions that had enabled package restore would fail to build until the user had granted consent.</span></span>

<span data-ttu-id="61ba0-147">從 NuGet 2.7 開始，套件還原同意預設為開啟，但允許使用者視需要明確 *退出宣告* 套件還原，方法是使用 NuGet 設定中的 [Visual Studio] 核取方塊。</span><span class="sxs-lookup"><span data-stu-id="61ba0-147">Starting with NuGet 2.7, package restore consent is ON by default while allowing users to explicitly *opt out* of package restore if desired, using the checkbox in NuGet's settings in Visual Studio.</span></span> <span data-ttu-id="61ba0-148">這項隱含同意變更會影響下列環境中的 NuGet：</span><span class="sxs-lookup"><span data-stu-id="61ba0-148">This change for implicit consent affects NuGet in the following environments:</span></span>

* <span data-ttu-id="61ba0-149">Visual Studio 2013 Preview</span><span class="sxs-lookup"><span data-stu-id="61ba0-149">Visual Studio 2013 Preview</span></span>
* <span data-ttu-id="61ba0-150">Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="61ba0-150">Visual Studio 2012</span></span>
* <span data-ttu-id="61ba0-151">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="61ba0-151">Visual Studio 2010</span></span>
* <span data-ttu-id="61ba0-152">nuget.exe Command-Line 公用程式</span><span class="sxs-lookup"><span data-stu-id="61ba0-152">nuget.exe Command-Line Utility</span></span>

#### <a name="automatic-package-restore-in-visual-studio"></a><span data-ttu-id="61ba0-153">Visual Studio 中的自動套件還原</span><span class="sxs-lookup"><span data-stu-id="61ba0-153">Automatic Package Restore in Visual Studio</span></span>

<span data-ttu-id="61ba0-154">從 NuGet 2.7 開始，即使尚未針對方案明確啟用套件還原，NuGet 仍會在 Visual Studio 中的組建期間自動下載遺漏的套件。</span><span class="sxs-lookup"><span data-stu-id="61ba0-154">Starting with NuGet 2.7, NuGet will automatically download missing packages during build in Visual Studio, even if package restore hasn't been explicitly enabled for the solution.</span></span> <span data-ttu-id="61ba0-155">當您建立專案或方案時，但在叫用 MSBuild 之前，會在 Visual Studio 中進行此自動封裝還原。</span><span class="sxs-lookup"><span data-stu-id="61ba0-155">This Automatic Package Restore happens in Visual Studio when you build a project or the solution, but before MSBuild is invoked.</span></span> <span data-ttu-id="61ba0-156">這會產生一些重要的優點：</span><span class="sxs-lookup"><span data-stu-id="61ba0-156">This yields a few significant benefits:</span></span>

1. <span data-ttu-id="61ba0-157">不再需要使用解決方案上的「啟用 NuGet 套件還原」手勢</span><span class="sxs-lookup"><span data-stu-id="61ba0-157">No further need to use the "Enable NuGet Package Restore" gesture on your solution</span></span>
1. <span data-ttu-id="61ba0-158">專案不需要修改，且 NuGet 不會對您的專案進行變更，以確保已啟用套件還原</span><span class="sxs-lookup"><span data-stu-id="61ba0-158">Projects don't need to be modified, and NuGet won't make changes to your project to ensure package restore is enabled</span></span>
1. <span data-ttu-id="61ba0-159">所有 NuGet 套件（包括包含 .props/目標檔案的 MSBuild 匯入）將在叫用 msbuild *之前* 還原，以確保在組建期間可正確辨識這些 .props/目標</span><span class="sxs-lookup"><span data-stu-id="61ba0-159">All NuGet packages, including those that included MSBuild imports for props/targets files, will be restored *before* MSBuild is invoked, ensuring those props/targets are properly recognized during the build</span></span>

<span data-ttu-id="61ba0-160">若要在 Visual Studio 中使用自動套件還原，您只需要在) 動作中執行一個 (：</span><span class="sxs-lookup"><span data-stu-id="61ba0-160">In order to use Automatic Package Restore in Visual Studio, you only need to take one (in)action:</span></span>

1. <span data-ttu-id="61ba0-161">不要簽入您的 `packages` 資料夾</span><span class="sxs-lookup"><span data-stu-id="61ba0-161">Don't check in your `packages` folder</span></span>

<span data-ttu-id="61ba0-162">有幾種方式可以 `packages` 從原始檔控制中省略您的資料夾。</span><span class="sxs-lookup"><span data-stu-id="61ba0-162">There are several ways to omit your `packages` folder from source control.</span></span> <span data-ttu-id="61ba0-163">如需詳細資訊，請參閱 [封裝和原始檔控制](../consume-packages/packages-and-source-control.md) 主題。</span><span class="sxs-lookup"><span data-stu-id="61ba0-163">For more information, see the [Packages and Source Control](../consume-packages/packages-and-source-control.md) topic.</span></span>

<span data-ttu-id="61ba0-164">雖然所有使用者都會隱含地加入宣告自動套件還原同意，但您可以輕鬆地選擇 Visual Studio 中的封裝管理員設定。</span><span class="sxs-lookup"><span data-stu-id="61ba0-164">While all users are implicitly opted into Automatic Package Restore consent, you can easily opt out through the Package Manager settings in Visual Studio.</span></span>

![封裝管理員設定](./media/NuGet-2.7/package-manager-settings.png)

#### <a name="simplified-package-restore-from-the-command-line"></a><span data-ttu-id="61ba0-166">從 Command-Line 簡化套件還原</span><span class="sxs-lookup"><span data-stu-id="61ba0-166">Simplified Package Restore from the Command-Line</span></span>

<span data-ttu-id="61ba0-167">NuGet 2.7 引進 nuget.exe 的新功能： `nuget.exe restore`</span><span class="sxs-lookup"><span data-stu-id="61ba0-167">NuGet 2.7 introduces a new feature for nuget.exe: `nuget.exe restore`</span></span>

<span data-ttu-id="61ba0-168">這個新的 Restore 命令可讓您輕鬆地使用單一命令來還原解決方案的所有套件，方法是接受方案檔或資料夾做為引數。</span><span class="sxs-lookup"><span data-stu-id="61ba0-168">This new Restore command allows you to easily restore all packages for a solution with a single command, by accepting a solution file or folder as an argument.</span></span> <span data-ttu-id="61ba0-169">此外，當目前的資料夾中只有一個方案時，也會隱含該引數。</span><span class="sxs-lookup"><span data-stu-id="61ba0-169">Furthermore, that argument is implied when there's only a single solution in the current folder.</span></span> <span data-ttu-id="61ba0-170">這表示下列所有工作都是從包含單一方案檔的資料夾 (Csharpconsoleapp) ：</span><span class="sxs-lookup"><span data-stu-id="61ba0-170">That means the following all work from a folder that contains a single solution file (MySolution.sln):</span></span>

1. <span data-ttu-id="61ba0-171">nuget.exe 還原 Csharpconsoleapp .sln</span><span class="sxs-lookup"><span data-stu-id="61ba0-171">nuget.exe restore MySolution.sln</span></span>
1. <span data-ttu-id="61ba0-172">nuget.exe 還原。</span><span class="sxs-lookup"><span data-stu-id="61ba0-172">nuget.exe restore .</span></span>
1. <span data-ttu-id="61ba0-173">nuget.exe 還原</span><span class="sxs-lookup"><span data-stu-id="61ba0-173">nuget.exe restore</span></span>

<span data-ttu-id="61ba0-174">Restore 命令會開啟方案檔，並尋找方案中的所有專案。</span><span class="sxs-lookup"><span data-stu-id="61ba0-174">The Restore command will open the solution file and find all projects within the solution.</span></span> <span data-ttu-id="61ba0-175">從該處，它會尋找 `packages.config` 每個專案的檔案，並還原所有找到的封裝。</span><span class="sxs-lookup"><span data-stu-id="61ba0-175">From there, it will find the `packages.config` files for each of the projects and restore all of the packages found.</span></span> <span data-ttu-id="61ba0-176">它也會還原檔案中找到的方案層級套件 `.nuget\packages.config` 。</span><span class="sxs-lookup"><span data-stu-id="61ba0-176">It also restores solution-level packages found in the `.nuget\packages.config` file.</span></span> <span data-ttu-id="61ba0-177">有關 [新增還原] 命令的詳細資訊，可以在 [命令列參考](../reference/cli-reference/cli-ref-restore.md)中找到。</span><span class="sxs-lookup"><span data-stu-id="61ba0-177">More information about the new Restore command can be found in the [Command-Line Reference](../reference/cli-reference/cli-ref-restore.md).</span></span>

#### <a name="the-new-package-restore-workflow"></a><span data-ttu-id="61ba0-178">新的封裝還原工作流程</span><span class="sxs-lookup"><span data-stu-id="61ba0-178">The New Package Restore Workflow</span></span>

<span data-ttu-id="61ba0-179">我們對封裝還原的這些變更很興奮，因為它引進了新的工作流程。</span><span class="sxs-lookup"><span data-stu-id="61ba0-179">We are excited about these changes to Package Restore, as it introduces a new workflow.</span></span> <span data-ttu-id="61ba0-180">如果您想要從原始檔控制省略套件，則不會認可 `packages` 資料夾。</span><span class="sxs-lookup"><span data-stu-id="61ba0-180">If you want to omit your packages from source control you simply don't commit the `packages` folder.</span></span> <span data-ttu-id="61ba0-181">開啟並建立解決方案的 Visual Studio 使用者會看到自動還原的套件。</span><span class="sxs-lookup"><span data-stu-id="61ba0-181">Visual Studio users who open and build the solution will see the packages automatically restored.</span></span> <span data-ttu-id="61ba0-182">若是命令列組建，只要叫用 `nuget.exe restore` 再叫用 `msbuild` 。</span><span class="sxs-lookup"><span data-stu-id="61ba0-182">For command-line builds, simply invoke `nuget.exe restore` before invoking `msbuild`.</span></span> <span data-ttu-id="61ba0-183">您不再需要記得在解決方案上使用「啟用 NuGet 套件還原」手勢，我們將不再需要修改您的專案來改變組建。</span><span class="sxs-lookup"><span data-stu-id="61ba0-183">You no longer need to remember to use the "Enable NuGet Package Restore" gesture on your solution, and we'll no longer need to modify your projects to alter the build.</span></span> <span data-ttu-id="61ba0-184">此外，這也能為包含 MSBuild 匯入的套件帶來更佳的體驗，特別是透過 NuGet 最近的功能新增的匯入，可自動從 \build 資料夾匯 [入 .props/目標](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files) 檔案。</span><span class="sxs-lookup"><span data-stu-id="61ba0-184">And this also yields a much improved experience for packages that include MSBuild imports, especially for imports added through NuGet's recent feature for [automatically importing props/targets files](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files) from the \build folder.</span></span>

<span data-ttu-id="61ba0-185">除了我們自行完成的工作之外，我們也會與一些重要的夥伴合作，將這個新方法四捨五入。這兩種情況下都沒有具體的時程表，但每個合作夥伴都很興奮，因為這是新的方法。</span><span class="sxs-lookup"><span data-stu-id="61ba0-185">In addition to the work we've done ourselves, we're also working with some important partners to round this new approach out. We don't have concrete timelines for any of these yet, but each partner is as excited as we are about the new approach.</span></span>

* <span data-ttu-id="61ba0-186">Team Foundation Service-它們正在將的呼叫整合到 `nuget.exe restore` 預設的組建案例中。</span><span class="sxs-lookup"><span data-stu-id="61ba0-186">Team Foundation Service - They are working to integrate the call to `nuget.exe restore` into the default build scenarios.</span></span>
* <span data-ttu-id="61ba0-187">Windows Azure 網站-這些網站可讓您將專案推送至 Azure，並在建立網站 `nuget.exe restore` 之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="61ba0-187">Windows Azure Web Sites - They are working to allow you to push your project to Azure and have `nuget.exe restore` called before your web site is built.</span></span>
* <span data-ttu-id="61ba0-188">TeamCity-他們正在更新其適用于 TeamCity 8.x 的 NuGet 安裝程式外掛程式</span><span class="sxs-lookup"><span data-stu-id="61ba0-188">TeamCity - They are updating their NuGet Installer plugin for TeamCity 8.x</span></span>
* <span data-ttu-id="61ba0-189">AppHarbor-它們正在運作，可讓您將存放庫推送至 AppHarbor，並在 `nuget.exe restore` 您的解決方案建立之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="61ba0-189">AppHarbor - They are working to allow you to push your repo to AppHarbor and have `nuget.exe restore` called before your solution is build.</span></span>

<span data-ttu-id="61ba0-190">在上述每個合作夥伴中，他們會使用自己的 nuget.exe 複本，而且您不需要在解決方案中攜帶 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="61ba0-190">With each of the partners above, they would use their own copy of nuget.exe and you would not need to carry nuget.exe in your solution.</span></span>

#### <a name="known-issues"></a><span data-ttu-id="61ba0-191">已知問題</span><span class="sxs-lookup"><span data-stu-id="61ba0-191">Known Issues</span></span>

<span data-ttu-id="61ba0-192">nuget.exe restore 和初始2.7 版本有兩個已知的問題，但在9/6/2013 上已修正，並已更新 Nuget.exe 的 [命令列套件](http://www.nuget.org/packages/NuGet.CommandLine/)。</span><span class="sxs-lookup"><span data-stu-id="61ba0-192">There were two known issues with nuget.exe restore with the initial 2.7 release, but they were fixed on 9/6/2013 with an update to the [NuGet.CommandLine package](http://www.nuget.org/packages/NuGet.CommandLine/).</span></span>  <span data-ttu-id="61ba0-193">您也可以在 CodePlex 上的 [NuGet 2.7 下載頁面](https://nuget.codeplex.com/releases/view/107605) 上取得這項更新。</span><span class="sxs-lookup"><span data-stu-id="61ba0-193">This update is also available on the [NuGet 2.7 download page](https://nuget.codeplex.com/releases/view/107605) on CodePlex.</span></span>  <span data-ttu-id="61ba0-194">執行 `nuget.exe update -self` 會更新至最新版本。</span><span class="sxs-lookup"><span data-stu-id="61ba0-194">Running `nuget.exe update -self` will update to the latest release.</span></span>

<span data-ttu-id="61ba0-195">修正的情況如下：</span><span class="sxs-lookup"><span data-stu-id="61ba0-195">The fixed were:</span></span>

1. [<span data-ttu-id="61ba0-196">使用 .SLN 檔案時，新的封裝還原不適用於 Mono</span><span class="sxs-lookup"><span data-stu-id="61ba0-196">New package restore doesn't work on Mono when using SLN file</span></span>](https://nuget.codeplex.com/workitem/3596)
1. [<span data-ttu-id="61ba0-197">新的套件還原不適用於 Wix 專案</span><span class="sxs-lookup"><span data-stu-id="61ba0-197">New package restore doesn't work with Wix projects</span></span>](https://nuget.codeplex.com/workitem/3598)

<span data-ttu-id="61ba0-198">此外，新的封裝還原工作流程也有已知的問題， [自動套件還原不適用於方案資料夾底下的專案](https://nuget.codeplex.com/workitem/3625)。</span><span class="sxs-lookup"><span data-stu-id="61ba0-198">There is also a known issue with the new package restore workflow whereby [Automatic Package Restore does not work for projects under a solution folder](https://nuget.codeplex.com/workitem/3625).</span></span> <span data-ttu-id="61ba0-199">此問題已在 NuGet 2.7.1 中修正。</span><span class="sxs-lookup"><span data-stu-id="61ba0-199">This issue was fixed in NuGet 2.7.1.</span></span>

### <a name="project-retargeting-and-upgrade-build-errorswarnings"></a><span data-ttu-id="61ba0-200">專案重定目標和升級組建錯誤/警告</span><span class="sxs-lookup"><span data-stu-id="61ba0-200">Project Retargeting and Upgrade Build Errors/Warnings</span></span>

<span data-ttu-id="61ba0-201">在重定目標或升級您的專案之後，您會發現某些 NuGet 套件未正常運作。</span><span class="sxs-lookup"><span data-stu-id="61ba0-201">Many times after retargeting or upgrading your project, you find that some NuGet packages aren't functioning properly.</span></span> <span data-ttu-id="61ba0-202">可惜的是，這並不表示這一點，因此沒有解決方法的指引。</span><span class="sxs-lookup"><span data-stu-id="61ba0-202">Unfortunately, there is no indication of this and then there's no guidance on how to address it.</span></span> <span data-ttu-id="61ba0-203">使用 NuGet 2.7，我們現在會使用一些 Visual Studio 事件，以在您已將專案重定目標或升級時，以影響已安裝之 NuGet 套件的方式來辨識。</span><span class="sxs-lookup"><span data-stu-id="61ba0-203">With NuGet 2.7, we now use some Visual Studio events to recognize when you've retargeted or upgraded your project in a way that affects your installed NuGet packages.</span></span>

<span data-ttu-id="61ba0-204">如果我們偵測到任何套件受到重定目標或升級的影響，我們會產生立即的組建錯誤，讓您知道。</span><span class="sxs-lookup"><span data-stu-id="61ba0-204">If we detect that any of your packages were affected by the retargeting or upgrade, we'll produce immediate build errors to let you know.</span></span> <span data-ttu-id="61ba0-205">除了立即組建錯誤之外，我們也會在您的檔案 `requireReinstallation="true"` 中保存 `packages.config` 受重定目標影響之所有套件的旗標，且 Visual Studio 中的每個後續組建都會引發這些封裝的組建警告。</span><span class="sxs-lookup"><span data-stu-id="61ba0-205">In addition to the immediate build error, we also persist a `requireReinstallation="true"` flag in your `packages.config` file for all packages that were affected by the retargeting, and each subsequent build in Visual Studio will raise build warnings for those packages.</span></span>

<span data-ttu-id="61ba0-206">雖然 NuGet 無法採取自動動作來重新安裝受影響的套件，但我們希望此指示和警告會引導您在需要重新安裝套件時所發現的資訊。</span><span class="sxs-lookup"><span data-stu-id="61ba0-206">Although NuGet cannot take automatic action to reinstall affected packages, we hope this indication and warning will guide help you discover when you need to reinstall packages.</span></span> <span data-ttu-id="61ba0-207">我們也正在進行 [套件重新安裝指引檔](../consume-packages/reinstalling-and-updating-packages.md) ，這些錯誤訊息會將您導向至。</span><span class="sxs-lookup"><span data-stu-id="61ba0-207">We are also working on [package reinstallation guidance documentation](../consume-packages/reinstalling-and-updating-packages.md) that these error messages direct you to.</span></span>

### <a name="nuget-configuration-defaults"></a><span data-ttu-id="61ba0-208">NuGet 設定預設值</span><span class="sxs-lookup"><span data-stu-id="61ba0-208">NuGet Configuration Defaults</span></span>

<span data-ttu-id="61ba0-209">許多公司都是在內部使用 NuGet，但卻很難讓開發人員使用內部套件來源，而不是 nuget.org。NuGet 2.7 引進了設定預設功能，可讓您針對下列各項指定全電腦的預設值：</span><span class="sxs-lookup"><span data-stu-id="61ba0-209">Many companies are using NuGet internally, but have had a hard time guiding their developers to use internal package sources instead of nuget.org. NuGet 2.7 introduces a Configuration Defaults feature that allows machine-wide defaults to be specified for:</span></span>

1. <span data-ttu-id="61ba0-210">啟用的套件來源</span><span class="sxs-lookup"><span data-stu-id="61ba0-210">Enabled package sources</span></span>
1. <span data-ttu-id="61ba0-211">已註冊但已停用的套件來源</span><span class="sxs-lookup"><span data-stu-id="61ba0-211">Registered, but disabled package sources</span></span>
1. <span data-ttu-id="61ba0-212">預設 nuget.exe 推送來源</span><span class="sxs-lookup"><span data-stu-id="61ba0-212">The default nuget.exe push source</span></span>

<span data-ttu-id="61ba0-213">這兩個檔案現在都可以在位於的檔案內進行設定 `%ProgramData%\NuGet\NuGetDefaults.Config` 。</span><span class="sxs-lookup"><span data-stu-id="61ba0-213">Each of these can now be configured within a file located at `%ProgramData%\NuGet\NuGetDefaults.Config`.</span></span> <span data-ttu-id="61ba0-214">如果這個設定檔指定封裝來源，則預設的 nuget.org 套件來源將不會自動註冊， `NuGetDefaults.Config` 而會改為註冊在中。</span><span class="sxs-lookup"><span data-stu-id="61ba0-214">If this config file specifies package sources, then the default nuget.org package source will not be registered automatically, and the ones in `NuGetDefaults.Config` will be registered instead.</span></span>

<span data-ttu-id="61ba0-215">雖然不需要使用這項功能，但我們預期公司會 `NuGetDefaults.Config` 使用群組原則來部署檔案。</span><span class="sxs-lookup"><span data-stu-id="61ba0-215">While not required to use this feature, we expect companies to deploy `NuGetDefaults.Config` files using Group Policy.</span></span>

<span data-ttu-id="61ba0-216">*請注意，此功能絕不會導致從開發人員的 NuGet 設定中移除套件來源。這表示，如果開發人員已使用 NuGet，因此已註冊 nuget.org 套件來源，則在建立檔案後將不會移除它 `NuGetDefaults.Config` 。*</span><span class="sxs-lookup"><span data-stu-id="61ba0-216">*Note that this feature will never cause a package source to be removed from a developer's NuGet settings. That means if the developer has already used NuGet and therefore has the nuget.org package source registered, it won't be removed after the creation of a `NuGetDefaults.Config` file.*</span></span>

<span data-ttu-id="61ba0-217">如需這項功能的詳細資訊，請參閱 [NuGet 設定預設值](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file) 。</span><span class="sxs-lookup"><span data-stu-id="61ba0-217">See [NuGet Configuration Defaults](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file) for more information about this feature.</span></span>

### <a name="renaming-the-default-package-source"></a><span data-ttu-id="61ba0-218">重新命名預設封裝來源</span><span class="sxs-lookup"><span data-stu-id="61ba0-218">Renaming the Default Package Source</span></span>

<span data-ttu-id="61ba0-219">NuGet 一律會註冊稱為「NuGet 官方套件來源」的預設套件來源，其指向 nuget.org。該名稱是 verbose，也未指定它實際指向的位置。</span><span class="sxs-lookup"><span data-stu-id="61ba0-219">NuGet has always registered a default package source called "NuGet official package source" that points to nuget.org. That name was verbose and it also didn't specify where it was actually pointing.</span></span> <span data-ttu-id="61ba0-220">為了解決這兩個問題，我們已將此套件來源重新命名為簡單的 UI 中的 "nuget.org"。</span><span class="sxs-lookup"><span data-stu-id="61ba0-220">To address those two issues, we've renamed this package source to simply "nuget.org" in the UI.</span></span> <span data-ttu-id="61ba0-221">套件來源的 URL 也已變更為包含 "www"。</span><span class="sxs-lookup"><span data-stu-id="61ba0-221">The URL for the package source was also changed to include the "www."</span></span> <span data-ttu-id="61ba0-222">前置詞。</span><span class="sxs-lookup"><span data-stu-id="61ba0-222">prefix.</span></span> <span data-ttu-id="61ba0-223">使用 NuGet 2.7 之後，您現有的「NuGet 正式套件來源」將會自動更新為 "nuget.org" 作為其名稱和 " <https://www.nuget.org/api/v2/> " 作為其 URL。</span><span class="sxs-lookup"><span data-stu-id="61ba0-223">After using NuGet 2.7, your existing "NuGet official package source" will automatically be updated to "nuget.org" as its name and "<https://www.nuget.org/api/v2/>" as its URL.</span></span>

### <a name="performance-improvements"></a><span data-ttu-id="61ba0-224">效能改進</span><span class="sxs-lookup"><span data-stu-id="61ba0-224">Performance Improvements</span></span>

<span data-ttu-id="61ba0-225">我們已在2.7 中改善效能，這會產生較小的記憶體耗用量、磁片使用量較少，且套件安裝的速度較快。</span><span class="sxs-lookup"><span data-stu-id="61ba0-225">We made some performance improvement in 2.7 which will yield smaller memory footprint, less disk usage and faster package installation.</span></span> <span data-ttu-id="61ba0-226">我們也對以 OData 為基礎的摘要進行了更聰明的查詢，這會減少整體承載。</span><span class="sxs-lookup"><span data-stu-id="61ba0-226">We also made smarter queries to OData-based feeds which will reduce the overall payload.</span></span>

### <a name="new-extensibility-apis"></a><span data-ttu-id="61ba0-227">新的擴充性 Api</span><span class="sxs-lookup"><span data-stu-id="61ba0-227">New Extensibility APIs</span></span>

<span data-ttu-id="61ba0-228">我們已將一些新的 Api 新增至擴充性服務，以填滿舊版中遺失之功能的差距。</span><span class="sxs-lookup"><span data-stu-id="61ba0-228">We added some new APIs to our extensibility services to fill the gap of missing functionalities in previous releases.</span></span>

#### <a name="ivspackageinstallerservices"></a><span data-ttu-id="61ba0-229">IVsPackageInstallerServices</span><span class="sxs-lookup"><span data-stu-id="61ba0-229">IVsPackageInstallerServices</span></span>

```cs
// Checks if a NuGet package with the specified Id and version is installed in the specified project.
bool IsPackageInstalledEx(Project project, string id, string versionString);

// Get the list of NuGet packages installed in the specified project.
IEnumerable<IVsPackageMetadata> GetInstalledPackages(Project project);
```

#### <a name="ivspackageinstaller"></a><span data-ttu-id="61ba0-230">IVsPackageInstaller</span><span class="sxs-lookup"><span data-stu-id="61ba0-230">IVsPackageInstaller</span></span>

```cs
// Installs one or more packages that exist on disk in a folder defined in the registry.
void InstallPackagesFromRegistryRepository(string keyName, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);

// Installs one or more packages that are embedded in a Visual Studio Extension Package.
void InstallPackagesFromVSExtensionRepository(string extensionId, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);
```

### <a name="development-only-dependencies"></a><span data-ttu-id="61ba0-231">Development-Only 相依性</span><span class="sxs-lookup"><span data-stu-id="61ba0-231">Development-Only Dependencies</span></span>

<span data-ttu-id="61ba0-232">這項功能是由 [Adam Ralph](https://twitter.com/adamralph) 所提供，可讓套件作者宣告只在開發期間使用的相依性，而不需要套件相依性。</span><span class="sxs-lookup"><span data-stu-id="61ba0-232">This feature was contributed by [Adam Ralph](https://twitter.com/adamralph) and it allows package authors to declare dependencies that were only used at development time and don't require package dependencies.</span></span> <span data-ttu-id="61ba0-233">`developmentDependency="true"`將屬性新增至中的封裝 `packages.config` ， `nuget.exe pack` 就不會再包含該封裝作為相依性。</span><span class="sxs-lookup"><span data-stu-id="61ba0-233">By adding a `developmentDependency="true"` attribute to a package in `packages.config`, `nuget.exe pack` will no longer include that package as a dependency.</span></span>

### <a name="removed-support-for-visual-studio-2010-express-for-windows-phone"></a><span data-ttu-id="61ba0-234">已移除 Visual Studio 2010 Express for Windows Phone 的支援</span><span class="sxs-lookup"><span data-stu-id="61ba0-234">Removed Support for Visual Studio 2010 Express for Windows Phone</span></span>

<span data-ttu-id="61ba0-235">2.7 中新的封裝還原模型是由不同于主要 NuGet VSPackage 的新 VSPackage 所執行。</span><span class="sxs-lookup"><span data-stu-id="61ba0-235">The new package restore model in 2.7 is implemented by a new VSPackage which is different from the main NuGet VSPackage.</span></span> <span data-ttu-id="61ba0-236">由於技術問題，這個新的 VSPackage 在 Windows Phone SKU 的 *Visual Studio 2010 Express* 中無法正常運作，因為我們與其他支援的 Visual Studio sku 共用相同的程式碼基底。</span><span class="sxs-lookup"><span data-stu-id="61ba0-236">Due to a technical issue, this new VSPackage doesn't work correctly in the *Visual Studio 2010 Express for Windows Phone* SKU as we share the same code base with other supported Visual Studio SKUs.</span></span> <span data-ttu-id="61ba0-237">因此，從 NuGet 2.7 開始，我們會從已發佈的延伸模組中卸載 *Visual Studio 2010 Express for Windows Phone* 的支援。</span><span class="sxs-lookup"><span data-stu-id="61ba0-237">Therefore, starting with NuGet 2.7, we are dropping support for *Visual Studio 2010 Express for Windows Phone* from the published extension.</span></span> <span data-ttu-id="61ba0-238">*Visual Studio 2010 Express For Web* 的支援仍包含在發佈至 Visual Studio 擴充功能資源庫的主要延伸模組中。</span><span class="sxs-lookup"><span data-stu-id="61ba0-238">Support for *Visual Studio 2010 Express for Web* is still included in the primary extension published to the Visual Studio Extension Gallery.</span></span>

<span data-ttu-id="61ba0-239">由於我們不確定在該版本/版本的 Visual Studio 中，仍有多少開發人員仍在使用 NuGet，所以我們會特別為這些使用者發佈個別的 Visual Studio 擴充功能，並將其發佈到 CodePlex (，而不是 Visual Studio 擴充資源庫) 。</span><span class="sxs-lookup"><span data-stu-id="61ba0-239">Since we are unsure how many developers are still using NuGet in that version/edition of Visual Studio, we are publishing a separate Visual Studio extension specifically for those users and publishing it on CodePlex (rather than the Visual Studio Extension Gallery).</span></span> <span data-ttu-id="61ba0-240">我們不打算繼續維護該延伸模組，但如果這會影響您，請在 CodePlex 上提出問題，讓我們知道。</span><span class="sxs-lookup"><span data-stu-id="61ba0-240">We don't plan to continue to maintain that extension, but if this affects you please let us know by filing an issue on CodePlex.</span></span>

<span data-ttu-id="61ba0-241">若要下載適用于 Windows Phone) Visual Studio 2010 Express 的 NuGet 封裝管理員 (，請造訪 [nuget 2.7 下載](https://nuget.codeplex.com/releases/view/107605) 頁面。</span><span class="sxs-lookup"><span data-stu-id="61ba0-241">To download the NuGet Package Manager (for Visual Studio 2010 Express for Windows Phone), visit the [NuGet 2.7 Downloads](https://nuget.codeplex.com/releases/view/107605) page.</span></span>

### <a name="bug-fixes"></a><span data-ttu-id="61ba0-242">Bug 修正</span><span class="sxs-lookup"><span data-stu-id="61ba0-242">Bug Fixes</span></span>

<span data-ttu-id="61ba0-243">除了這些功能之外，此版本的 NuGet 也包含許多其他 bug 修正。</span><span class="sxs-lookup"><span data-stu-id="61ba0-243">In addition to these features, this release of NuGet also includes many other bug fixes.</span></span> <span data-ttu-id="61ba0-244">發行中已解決的問題總數為97。</span><span class="sxs-lookup"><span data-stu-id="61ba0-244">There were 97 total issues addressed in the release.</span></span> <span data-ttu-id="61ba0-245">如需 NuGet 2.7 中已修正之工作專案的完整清單，請參閱 [此版本的 Nuget 問題追蹤程式](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all)。</span><span class="sxs-lookup"><span data-stu-id="61ba0-245">For a full list of work items fixed in NuGet 2.7, please view the [NuGet Issue Tracker for this release](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all).</span></span>
